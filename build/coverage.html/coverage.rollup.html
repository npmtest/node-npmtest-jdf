<div class="coverageReportDiv">
<h1>coverage-report</h1>
<div style="background: #fff; border: 1px solid #000; margin 0; padding: 0;">


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for All files</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">All files</span></h1>
    <h2>
        
        Statements: <span class="metric">12.86% <small>(702 / 5457)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">4.49% <small>(138 / 3072)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">5.28% <small>(40 / 757)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">13.36% <small>(702 / 5253)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric">26 statements, 1 function, 30 branches</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"></div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file high" data-value="node-npmtest-jdf/"><a href="node-npmtest-jdf/index.html">node-npmtest-jdf/</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="153" class="abs high">(153&nbsp;/&nbsp;153)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="126" class="abs high">(126&nbsp;/&nbsp;126)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="28" class="abs high">(28&nbsp;/&nbsp;28)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="153" class="abs high">(153&nbsp;/&nbsp;153)</td>
	</tr>

<tr>
	<td class="file high" data-value="node-npmtest-jdf/node_modules/jdf-images/"><a href="node-npmtest-jdf/node_modules/jdf-images/index.html">node-npmtest-jdf/node_modules/jdf-images/</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="1" class="abs high">(1&nbsp;/&nbsp;1)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="1" class="abs high">(1&nbsp;/&nbsp;1)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-jdf/node_modules/jdf-images/jdf-images/"><a href="node-npmtest-jdf/node_modules/jdf-images/jdf-images/index.html">node-npmtest-jdf/node_modules/jdf-images/jdf-images/</a></td>
	<td data-value="3.57" class="pic low"><span class="cover-fill" style="width: 3px;"></span><span class="cover-empty" style="width:97px;"></span></td>
	<td data-value="3.57" class="pct low">3.57%</td>
	<td data-value="112" class="abs low">(4&nbsp;/&nbsp;112)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="62" class="abs low">(0&nbsp;/&nbsp;62)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="26" class="abs low">(0&nbsp;/&nbsp;26)</td>
	<td data-value="3.7" class="pct low">3.7%</td>
	<td data-value="108" class="abs low">(4&nbsp;/&nbsp;108)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-jdf/node_modules/jdf-png-native/"><a href="node-npmtest-jdf/node_modules/jdf-png-native/index.html">node-npmtest-jdf/node_modules/jdf-png-native/</a></td>
	<td data-value="5" class="pic low"><span class="cover-fill" style="width: 5px;"></span><span class="cover-empty" style="width:95px;"></span></td>
	<td data-value="5" class="pct low">5%</td>
	<td data-value="40" class="abs low">(2&nbsp;/&nbsp;40)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="25" class="abs low">(0&nbsp;/&nbsp;25)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="4" class="abs low">(0&nbsp;/&nbsp;4)</td>
	<td data-value="5.13" class="pct low">5.13%</td>
	<td data-value="39" class="abs low">(2&nbsp;/&nbsp;39)</td>
	</tr>

<tr>
	<td class="file high" data-value="node-npmtest-jdf/node_modules/jdf-ws/"><a href="node-npmtest-jdf/node_modules/jdf-ws/index.html">node-npmtest-jdf/node_modules/jdf-ws/</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="1" class="abs high">(1&nbsp;/&nbsp;1)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="1" class="abs high">(1&nbsp;/&nbsp;1)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-jdf/node_modules/jdf-ws/ws/"><a href="node-npmtest-jdf/node_modules/jdf-ws/ws/index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/</a></td>
	<td data-value="42.86" class="pic low"><span class="cover-fill" style="width: 42px;"></span><span class="cover-empty" style="width:58px;"></span></td>
	<td data-value="42.86" class="pct low">42.86%</td>
	<td data-value="14" class="abs low">(6&nbsp;/&nbsp;14)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="4" class="abs low">(0&nbsp;/&nbsp;4)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="2" class="abs low">(0&nbsp;/&nbsp;2)</td>
	<td data-value="42.86" class="pct low">42.86%</td>
	<td data-value="14" class="abs low">(6&nbsp;/&nbsp;14)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-jdf/node_modules/jdf-ws/ws/lib/"><a href="node-npmtest-jdf/node_modules/jdf-ws/ws/lib/index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a></td>
	<td data-value="9.15" class="pic low"><span class="cover-fill" style="width: 9px;"></span><span class="cover-empty" style="width:91px;"></span></td>
	<td data-value="9.15" class="pct low">9.15%</td>
	<td data-value="1311" class="abs low">(120&nbsp;/&nbsp;1311)</td>
	<td data-value="0.13" class="pct low">0.13%</td>
	<td data-value="758" class="abs low">(1&nbsp;/&nbsp;758)</td>
	<td data-value="1.12" class="pct low">1.12%</td>
	<td data-value="179" class="abs low">(2&nbsp;/&nbsp;179)</td>
	<td data-value="9.85" class="pct low">9.85%</td>
	<td data-value="1218" class="abs low">(120&nbsp;/&nbsp;1218)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-jdf/node_modules/jdf-ws/ws/options/lib/"><a href="node-npmtest-jdf/node_modules/jdf-ws/ws/options/lib/index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/options/lib/</a></td>
	<td data-value="5.66" class="pic low"><span class="cover-fill" style="width: 5px;"></span><span class="cover-empty" style="width:95px;"></span></td>
	<td data-value="5.66" class="pct low">5.66%</td>
	<td data-value="53" class="abs low">(3&nbsp;/&nbsp;53)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="20" class="abs low">(0&nbsp;/&nbsp;20)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="13" class="abs low">(0&nbsp;/&nbsp;13)</td>
	<td data-value="5.77" class="pct low">5.77%</td>
	<td data-value="52" class="abs low">(3&nbsp;/&nbsp;52)</td>
	</tr>

<tr>
	<td class="file medium" data-value="node-npmtest-jdf/node_modules/jdf/"><a href="node-npmtest-jdf/node_modules/jdf/index.html">node-npmtest-jdf/node_modules/jdf/</a></td>
	<td data-value="66.67" class="pic medium"><span class="cover-fill" style="width: 66px;"></span><span class="cover-empty" style="width:34px;"></span></td>
	<td data-value="66.67" class="pct medium">66.67%</td>
	<td data-value="3" class="abs medium">(2&nbsp;/&nbsp;3)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="1" class="abs low">(0&nbsp;/&nbsp;1)</td>
	<td data-value="66.67" class="pct medium">66.67%</td>
	<td data-value="3" class="abs medium">(2&nbsp;/&nbsp;3)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-jdf/node_modules/jdf/lib/"><a href="node-npmtest-jdf/node_modules/jdf/lib/index.html">node-npmtest-jdf/node_modules/jdf/lib/</a></td>
	<td data-value="10.88" class="pic low"><span class="cover-fill" style="width: 10px;"></span><span class="cover-empty" style="width:90px;"></span></td>
	<td data-value="10.88" class="pct low">10.88%</td>
	<td data-value="3769" class="abs low">(410&nbsp;/&nbsp;3769)</td>
	<td data-value="0.53" class="pct low">0.53%</td>
	<td data-value="2077" class="abs low">(11&nbsp;/&nbsp;2077)</td>
	<td data-value="1.98" class="pct low">1.98%</td>
	<td data-value="504" class="abs low">(10&nbsp;/&nbsp;504)</td>
	<td data-value="11.19" class="pct low">11.19%</td>
	<td data-value="3664" class="abs low">(410&nbsp;/&nbsp;3664)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(153 / 153)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(126 / 126)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(28 / 28)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(153 / 153)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric">26 statements, 1 function, 30 branches</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; node-npmtest-jdf/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file high" data-value="example.js"><a href="example.js.html">example.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="83" class="abs high">(83&nbsp;/&nbsp;83)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="73" class="abs high">(73&nbsp;/&nbsp;73)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="12" class="abs high">(12&nbsp;/&nbsp;12)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="83" class="abs high">(83&nbsp;/&nbsp;83)</td>
	</tr>

<tr>
	<td class="file high" data-value="lib.npmtest_jdf.js"><a href="lib.npmtest_jdf.js.html">lib.npmtest_jdf.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="16" class="abs high">(16&nbsp;/&nbsp;16)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="14" class="abs high">(14&nbsp;/&nbsp;14)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="3" class="abs high">(3&nbsp;/&nbsp;3)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="16" class="abs high">(16&nbsp;/&nbsp;16)</td>
	</tr>

<tr>
	<td class="file high" data-value="test.js"><a href="test.js.html">test.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="54" class="abs high">(54&nbsp;/&nbsp;54)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="39" class="abs high">(39&nbsp;/&nbsp;39)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="13" class="abs high">(13&nbsp;/&nbsp;13)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="54" class="abs high">(54&nbsp;/&nbsp;54)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/example.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/example.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(83 / 83)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(73 / 73)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(12 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(83 / 83)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric">26 statements, 1 function, 30 branches</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/</a> &#187; example.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
example.js
&nbsp;
quickstart example
&nbsp;
instruction
    1. save this script as example.js
    2. run the shell command:
        $ npm install npmtest-jdf &amp;&amp; PORT=8081 node example.js
    3. play with the browser-demo on http://127.0.0.1:8081
*/
&nbsp;
&nbsp;
&nbsp;
/* istanbul instrument in package npmtest_jdf */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 8,
    maxlen: 96,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - pre-init
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &amp;&amp;
                    typeof document.querySelector('body') === 'object' &amp;&amp;
                    typeof XMLHttpRequest.prototype.open === 'function' &amp;&amp;
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &amp;&amp;
                    typeof process.versions.node === 'string' &amp;&amp;
                    typeof require('http').createServer === 'function' &amp;&amp;
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || (local.modeJs === 'browser'
            ? local.global.utility2_npmtest_jdf
            : global.utility2_moduleExports);
        // export local
        local.global.local = local;
    }());
    switch (local.modeJs) {
&nbsp;
&nbsp;
&nbsp;
    // post-init
    // run browser js-env code - post-init
    /* istanbul ignore next */
    case 'browser':
        local.testRunBrowser = function (event) {
            <span class="skip-if-branch" title="else path not taken" >E</span>if (!event || (event &amp;&amp;
                    event.currentTarget &amp;&amp;
                    event.currentTarget.className &amp;&amp;
                    event.currentTarget.className.includes &amp;&amp;
                    event.currentTarget.className.includes('onreset'))) {
                // reset output
                Array.from(
                    document.querySelectorAll('body &gt; .resettable')
                ).forEach(function (element) {
                    switch (element.tagName) {
<span class="branch-0 cbranch-skip" title="branch not covered" >                    case 'INPUT':</span>
                    case 'TEXTAREA':
                        element.value = '';
                        break;
<span class="branch-2 cbranch-skip" title="branch not covered" >                    default:</span>
<span class="cstat-skip" title="statement not covered" >                        element.textContent = '';</span>
                    }
                });
            }
            switch (event &amp;&amp; event.currentTarget &amp;&amp; event.currentTarget.id) {
            case 'testRunButton1':
                // show tests
                <span class="skip-if-branch" title="else path not taken" >E</span>if (document.querySelector('#testReportDiv1').style.display === 'none') {
                    document.querySelector('#testReportDiv1').style.display = 'block';
                    document.querySelector('#testRunButton1').textContent =
                        'hide internal test';
                    local.modeTest = true;
                    local.testRunDefault(local);
                // hide tests
                } else {
<span class="cstat-skip" title="statement not covered" >                    document.querySelector('#testReportDiv1').style.display = 'none';</span>
<span class="cstat-skip" title="statement not covered" >                    document.querySelector('#testRunButton1').textContent = 'run internal test';</span>
                }
                break;
            // custom-case
            default:
                break;
            }
            <span class="skip-if-branch" title="if path not taken" >I</span>if (document.querySelector('#inputTextareaEval1') &amp;&amp; (<span class="branch-1 cbranch-skip" title="branch not covered" >!event </span>|| (<span class="branch-2 cbranch-skip" title="branch not covered" >event </span>&amp;&amp;
<span class="branch-3 cbranch-skip" title="branch not covered" >                    event.currentTarget </span>&amp;&amp;
<span class="branch-4 cbranch-skip" title="branch not covered" >                    event.currentTarget.className </span>&amp;&amp;
<span class="branch-5 cbranch-skip" title="branch not covered" >                    event.currentTarget.className.includes </span>&amp;&amp;
<span class="branch-6 cbranch-skip" title="branch not covered" >                    event.currentTarget.className.includes('oneval'))</span>)) {
                // try to eval input-code
<span class="cstat-skip" title="statement not covered" >                try {</span>
                    /*jslint evil: true*/
<span class="cstat-skip" title="statement not covered" >                    eval(document.querySelector('#inputTextareaEval1').value);</span>
                } catch (errorCaught) {
<span class="cstat-skip" title="statement not covered" >                    console.error(errorCaught);</span>
                }
            }
        };
        // log stderr and stdout to #outputTextareaStdout1
        ['error', 'log'].forEach(function (key) {
            console[key + '_original'] = console[key];
            console[key] = function () {
                var element;
                console[key + '_original'].apply(console, arguments);
                element = document.querySelector('#outputTextareaStdout1');
                <span class="skip-if-branch" title="if path not taken" >I</span>if (!element) {
<span class="cstat-skip" title="statement not covered" >                    return;</span>
                }
                // append text to #outputTextareaStdout1
                element.value += Array.from(arguments).map(function (arg) {
                    return typeof arg === 'string'
                        ? arg
                        : <span class="branch-1 cbranch-skip" title="branch not covered" >JSON.stringify(arg, null, 4);</span>
                }).join(' ') + '\n';
                // scroll textarea to bottom
                element.scrollTop = element.scrollHeight;
            };
        });
        // init event-handling
        ['change', 'click', 'keyup'].forEach(function (event) {
            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {
                element.addEventListener(event, local.testRunBrowser);
            });
        });
        // run tests
        local.testRunBrowser();
        break;
&nbsp;
&nbsp;
&nbsp;
    // run node js-env code - post-init
    /* istanbul ignore next */
    case 'node':
        // export local
        module.exports = local;
        // require modules
        local.fs = require('fs');
        local.http = require('http');
        local.url = require('url');
        // init assets
        local.assetsDict = local.assetsDict || {};
        /* jslint-ignore-begin */
        local.assetsDict['/assets.index.template.html'] = '\
&lt;!doctype html&gt;\n\
&lt;html lang="en"&gt;\n\
&lt;head&gt;\n\
&lt;meta charset="UTF-8"&gt;\n\
&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;\n\
&lt;title&gt;{{env.npm_package_name}} (v{{env.npm_package_version}})&lt;/title&gt;\n\
&lt;style&gt;\n\
/*csslint\n\
    box-sizing: false,\n\
    universal-selector: false\n\
*/\n\
* {\n\
    box-sizing: border-box;\n\
}\n\
body {\n\
    background: #dde;\n\
    font-family: Arial, Helvetica, sans-serif;\n\
    margin: 2rem;\n\
}\n\
body &gt; * {\n\
    margin-bottom: 1rem;\n\
}\n\
.utility2FooterDiv {\n\
    margin-top: 20px;\n\
    text-align: center;\n\
}\n\
&lt;/style&gt;\n\
&lt;style&gt;\n\
/*csslint\n\
*/\n\
textarea {\n\
    font-family: monospace;\n\
    height: 10rem;\n\
    width: 100%;\n\
}\n\
textarea[readonly] {\n\
    background: #ddd;\n\
}\n\
&lt;/style&gt;\n\
&lt;/head&gt;\n\
&lt;body&gt;\n\
&lt;!-- utility2-comment\n\
&lt;div id="ajaxProgressDiv1" style="background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;"&gt;&lt;/div&gt;\n\
utility2-comment --&gt;\n\
&lt;h1&gt;\n\
&lt;!-- utility2-comment\n\
    &lt;a\n\
        {{#if env.npm_package_homepage}}\n\
        href="{{env.npm_package_homepage}}"\n\
        {{/if env.npm_package_homepage}}\n\
        target="_blank"\n\
    &gt;\n\
utility2-comment --&gt;\n\
        {{env.npm_package_name}} (v{{env.npm_package_version}})\n\
&lt;!-- utility2-comment\n\
    &lt;/a&gt;\n\
utility2-comment --&gt;\n\
&lt;/h1&gt;\n\
&lt;h3&gt;{{env.npm_package_description}}&lt;/h3&gt;\n\
&lt;!-- utility2-comment\n\
&lt;h4&gt;&lt;a download href="assets.app.js"&gt;download standalone app&lt;/a&gt;&lt;/h4&gt;\n\
&lt;button class="onclick onreset" id="testRunButton1"&gt;run internal test&lt;/button&gt;&lt;br&gt;\n\
&lt;div id="testReportDiv1" style="display: none;"&gt;&lt;/div&gt;\n\
utility2-comment --&gt;\n\
\n\
\n\
\n\
&lt;label&gt;stderr and stdout&lt;/label&gt;\n\
&lt;textarea class="resettable" id="outputTextareaStdout1" readonly&gt;&lt;/textarea&gt;\n\
&lt;!-- utility2-comment\n\
{{#if isRollup}}\n\
&lt;script src="assets.app.js"&gt;&lt;/script&gt;\n\
{{#unless isRollup}}\n\
utility2-comment --&gt;\n\
&lt;script src="assets.utility2.rollup.js"&gt;&lt;/script&gt;\n\
&lt;script src="jsonp.utility2._stateInit?callback=window.utility2._stateInit"&gt;&lt;/script&gt;\n\
&lt;script src="assets.npmtest_jdf.rollup.js"&gt;&lt;/script&gt;\n\
&lt;script src="assets.example.js"&gt;&lt;/script&gt;\n\
&lt;script src="assets.test.js"&gt;&lt;/script&gt;\n\
&lt;!-- utility2-comment\n\
{{/if isRollup}}\n\
utility2-comment --&gt;\n\
&lt;div class="utility2FooterDiv"&gt;\n\
    [ this app was created with\n\
    &lt;a href="https://github.com/kaizhu256/node-utility2" target="_blank"&gt;utility2&lt;/a&gt;\n\
    ]\n\
&lt;/div&gt;\n\
&lt;/body&gt;\n\
&lt;/html&gt;\n\
';
        /* jslint-ignore-end */
        <span class="skip-if-branch" title="if path not taken" >I</span>if (local.templateRender) {
<span class="cstat-skip" title="statement not covered" >            local.assetsDict['/'] = local.templateRender(</span>
                local.assetsDict['/assets.index.template.html'],
                {
                    env: local.objectSetDefault(local.env, {
                        npm_package_description: 'the greatest app in the world!',
                        npm_package_name: 'my-app',
                        npm_package_nameAlias: 'my_app',
                        npm_package_version: '0.0.1'
                    })
                }
            );
        } else {
            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']
                .replace((/\{\{env\.(\w+?)\}\}/g), function (match0, match1) {
                    // jslint-hack
                    String(match0);
                    switch (match1) {
                    case 'npm_package_description':
                        return 'the greatest app in the world!';
                    case 'npm_package_name':
                        return 'my-app';
<span class="branch-2 cbranch-skip" title="branch not covered" >                    case 'npm_package_nameAlias':</span>
<span class="cstat-skip" title="statement not covered" >                        return 'my_app';</span>
                    case 'npm_package_version':
                        return '0.0.1';
                    }
                });
        }
        // run the cli
        <span class="skip-if-branch" title="else path not taken" >E</span>if (local.global.utility2_rollup || module !== require.main) {
            break;
        }
<span class="cstat-skip" title="statement not covered" >        local.assetsDict['/assets.example.js'] =</span>
            local.assetsDict['/assets.example.js'] ||
            local.fs.readFileSync(__filename, 'utf8');
        // bug-workaround - long $npm_package_buildCustomOrg
        /* jslint-ignore-begin */
<span class="cstat-skip" title="statement not covered" >        local.assetsDict['/assets.npmtest_jdf.rollup.js'] =</span>
            local.assetsDict['/assets.npmtest_jdf.rollup.js'] ||
            local.fs.readFileSync(
                local.npmtest_jdf.__dirname + '/lib.npmtest_jdf.js',
                'utf8'
            ).replace((/^#!/), '//');
        /* jslint-ignore-end */
<span class="cstat-skip" title="statement not covered" >        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';</span>
        // if $npm_config_timeout_exit exists,
        // then exit this process after $npm_config_timeout_exit ms
<span class="cstat-skip" title="statement not covered" >        if (Number(process.env.npm_config_timeout_exit)) {</span>
<span class="cstat-skip" title="statement not covered" >            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));</span>
        }
        // start server
<span class="cstat-skip" title="statement not covered" >        if (local.global.utility2_serverHttp1) {</span>
<span class="cstat-skip" title="statement not covered" >            break;</span>
        }
<span class="cstat-skip" title="statement not covered" >        process.env.PORT = process.env.PORT || '8081';</span>
<span class="cstat-skip" title="statement not covered" >        console.error('server starting on port ' + process.env.PORT);</span>
<span class="cstat-skip" title="statement not covered" >        local.http.createServer(<span class="fstat-skip" title="function not covered" >function (request, response) {</span></span>
<span class="cstat-skip" title="statement not covered" >            request.urlParsed = local.url.parse(request.url);</span>
<span class="cstat-skip" title="statement not covered" >            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {</span>
<span class="cstat-skip" title="statement not covered" >                response.end(local.assetsDict[request.urlParsed.pathname]);</span>
<span class="cstat-skip" title="statement not covered" >                return;</span>
            }
<span class="cstat-skip" title="statement not covered" >            response.statusCode = 404;</span>
<span class="cstat-skip" title="statement not covered" >            response.end();</span>
        }).listen(process.env.PORT);
<span class="cstat-skip" title="statement not covered" >        break;</span>
    }
}());
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/lib.npmtest_jdf.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/lib.npmtest_jdf.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(16 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(14 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(3 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(16 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/</a> &#187; lib.npmtest_jdf.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/* istanbul instrument in package npmtest_jdf */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 8,
    maxlen: 96,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - pre-init
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &amp;&amp;
                    typeof document.querySelector('body') === 'object' &amp;&amp;
                    typeof XMLHttpRequest.prototype.open === 'function' &amp;&amp;
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &amp;&amp;
                    typeof process.versions.node === 'string' &amp;&amp;
                    typeof require('http').createServer === 'function' &amp;&amp;
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        // init lib
        local.local = local.npmtest_jdf = local;
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_npmtest_jdf = local;
        } else {
            module.exports = local;
            module.exports.__dirname = __dirname;
            module.exports.module = module;
        }
    }());
}());
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/test.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/test.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(54 / 54)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(39 / 39)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(13 / 13)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(54 / 54)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/</a> &#187; test.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/* istanbul instrument in package npmtest_jdf */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 8,
    maxlen: 96,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - pre-init
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &amp;&amp;
                    typeof document.querySelector('body') === 'object' &amp;&amp;
                    typeof XMLHttpRequest.prototype.open === 'function' &amp;&amp;
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &amp;&amp;
                    typeof process.versions.node === 'string' &amp;&amp;
                    typeof require('http').createServer === 'function' &amp;&amp;
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        switch (local.modeJs) {
        // re-init local from window.local
        case 'browser':
            local = local.global.utility2.objectSetDefault(
                local.global.utility2_rollup || local.global.local,
                local.global.utility2
            );
            break;
        // re-init local from example.js
        case 'node':
            local = (local.global.utility2_rollup || require('utility2'))
                .requireExampleJsFromReadme();
            break;
        }
        // export local
        local.global.local = local;
    }());
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - function
    (function () {
        return;
    }());
    switch (local.modeJs) {
&nbsp;
&nbsp;
&nbsp;
    // run browser js-env code - function
    case 'browser':
        break;
&nbsp;
&nbsp;
&nbsp;
    // run node js-env code - function
    case 'node':
        break;
    }
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - post-init
    (function () {
        return;
    }());
    switch (local.modeJs) {
&nbsp;
&nbsp;
&nbsp;
    // run browser js-env code - post-init
    case 'browser':
        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (
            options,
            onError
        ) {
        /*
         * this function will test browsers's null-case handling-behavior-behavior
         */
            onError(null, options);
        };
&nbsp;
        // run tests
        local.nop(local.modeTest &amp;&amp;
            document.querySelector('#testRunButton1') &amp;&amp;
            document.querySelector('#testRunButton1').click());
        break;
&nbsp;
&nbsp;
&nbsp;
    // run node js-env code - post-init
    /* istanbul ignore next */
    case 'node':
        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildApidoc's default handling-behavior-behavior
         */
            options = { modulePathList: module.paths };
            local.buildApidoc(options, onError);
        };
&nbsp;
        local.testCase_buildApp_default = local.testCase_buildApp_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildApp's default handling-behavior-behavior
         */
            local.testCase_buildReadme_default(options, local.onErrorThrow);
            local.testCase_buildLib_default(options, local.onErrorThrow);
            local.testCase_buildTest_default(options, local.onErrorThrow);
            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);
            options = [];
            local.buildApp(options, onError);
        };
&nbsp;
        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||
            function (options, onError) {
            /*
             * this function will test buildCustomOrg's default handling-behavior
             */
                options = {};
                local.buildCustomOrg(options, onError);
            };
&nbsp;
        local.testCase_buildLib_default = local.testCase_buildLib_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildLib's default handling-behavior
         */
            options = {};
            local.buildLib(options, onError);
        };
&nbsp;
        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildReadme's default handling-behavior-behavior
         */
            options = {};
            local.buildReadme(options, onError);
        };
&nbsp;
        local.testCase_buildTest_default = local.testCase_buildTest_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildTest's default handling-behavior
         */
            options = {};
            local.buildTest(options, onError);
        };
&nbsp;
        local.testCase_webpage_default = local.testCase_webpage_default || function (
            options,
            onError
        ) {
        /*
         * this function will test webpage's default handling-behavior
         */
            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };
            local.browserTest(options, onError);
        };
&nbsp;
        // run test-server
        local.testRunServer(local);
        break;
    }
}());
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-images/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-images/</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; node-npmtest-jdf/node_modules/jdf-images/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file high" data-value="index.js"><a href="index.js.html">index.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="1" class="abs high">(1&nbsp;/&nbsp;1)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="1" class="abs high">(1&nbsp;/&nbsp;1)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-images/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-images/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-images/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2</td><td class="line-coverage"><span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">module.exports = require('./jdf-images');
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-images/jdf-images/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-images/jdf-images/</span></h1>
    <h2>
        
        Statements: <span class="metric">3.57% <small>(4 / 112)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 62)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 26)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">3.7% <small>(4 / 108)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; node-npmtest-jdf/node_modules/jdf-images/jdf-images/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="index.js"><a href="index.js.html">index.js</a></td>
	<td data-value="3.57" class="pic low"><span class="cover-fill" style="width: 3px;"></span><span class="cover-empty" style="width:97px;"></span></td>
	<td data-value="3.57" class="pct low">3.57%</td>
	<td data-value="112" class="abs low">(4&nbsp;/&nbsp;112)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="62" class="abs low">(0&nbsp;/&nbsp;62)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="26" class="abs low">(0&nbsp;/&nbsp;26)</td>
	<td data-value="3.7" class="pct low">3.7%</td>
	<td data-value="108" class="abs low">(4&nbsp;/&nbsp;108)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-images/jdf-images/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-images/jdf-images/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">3.57% <small>(4 / 112)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 62)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 26)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">3.7% <small>(4 / 108)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-images/jdf-images/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
 * Index.js
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013 ZhangYuanwei &lt;zhangyuanwei1988@gmail.com&gt;
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sub license, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice (including the
 * next paragraph) shall be included in all copies or substantial portions
 * of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT.
 * IN NO EVENT SHALL INTEL AND/OR ITS SUPPLIERS BE LIABLE FOR
 * ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
&nbsp;
var USE_OLD_API = false,
    fs = require("fs"),
    path = require("path"),
    _images = require("./binding.js"),
    _Image = _images.Image,
    slice = Array.prototype.slice,
    FILE_TYPE_MAP,
    CONFIG_GENERATOR,
    prototype,
    nextGCThreshold = 0,
    gcThreshold = 0;
&nbsp;
<span class="fstat-no" title="function not covered" >function WrappedImage(width, height) {</span>
<span class="cstat-no" title="statement not covered" >    if (!(this instanceof WrappedImage)) <span class="cstat-no" title="statement not covered" >return new WrappedImage(width, height);</span></span>
<span class="cstat-no" title="statement not covered" >    if (gcThreshold &amp;&amp; nextGCThreshold) {</span>
<span class="cstat-no" title="statement not covered" >        if (images.getUsedMemory() &gt; nextGCThreshold) {</span>
<span class="cstat-no" title="statement not covered" >            images.gc();</span>
<span class="cstat-no" title="statement not covered" >            nextGCThreshold = images.getUsedMemory() + gcThreshold;</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    this._handle = new _Image(width, height);</span>
}
&nbsp;
<span class="cstat-no" title="statement not covered" >prototype = {</span>
    loadFromBuffer: <span class="fstat-no" title="function not covered" >function(buffer, start, end) {</span>
<span class="cstat-no" title="statement not covered" >        this._handle.loadFromBuffer(buffer, start, end);</span>
    },
    copyFromImage: <span class="fstat-no" title="function not covered" >function(img, x, y, width, height) {</span>
<span class="cstat-no" title="statement not covered" >        if (img instanceof WrappedImage) {</span>
<span class="cstat-no" title="statement not covered" >            img = img._handle;</span>
        }
<span class="cstat-no" title="statement not covered" >        this._handle.copyFromImage(img, x, y, width, height);</span>
    },
    fill: <span class="fstat-no" title="function not covered" >function(red, green, blue, alpha) {</span>
<span class="cstat-no" title="statement not covered" >        this._handle.fillColor(red, green, blue, alpha);</span>
    },
    draw: <span class="fstat-no" title="function not covered" >function(img, x, y) {</span>
<span class="cstat-no" title="statement not covered" >        if (img instanceof WrappedImage) {</span>
<span class="cstat-no" title="statement not covered" >            img = img._handle;</span>
        }
<span class="cstat-no" title="statement not covered" >        this._handle.drawImage(img, x, y);</span>
    },
    encode: <span class="fstat-no" title="function not covered" >function(type, config) {</span>
<span class="cstat-no" title="statement not covered" >        var configurator;</span>
<span class="cstat-no" title="statement not covered" >        if (typeof(type) != "number") {</span>
<span class="cstat-no" title="statement not covered" >            type = String(type).toLowerCase();</span>
<span class="cstat-no" title="statement not covered" >            type = (FILE_TYPE_MAP["." + type] || FILE_TYPE_MAP[type]);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (config != undefined) {</span>
<span class="cstat-no" title="statement not covered" >            configurator = CONFIG_GENERATOR[type];</span>
<span class="cstat-no" title="statement not covered" >            config = configurator &amp;&amp; configurator(config);</span>
        }
<span class="cstat-no" title="statement not covered" >        return this._handle.toBuffer(type, config);</span>
    },
    save: <span class="fstat-no" title="function not covered" >function(file, type, config) {</span>
<span class="cstat-no" title="statement not covered" >        if (type &amp;&amp; typeof(type) == "object") {</span>
<span class="cstat-no" title="statement not covered" >            config = type;</span>
<span class="cstat-no" title="statement not covered" >            type = undefined;</span>
        }
<span class="cstat-no" title="statement not covered" >        fs.writeFileSync(file, this.encode(type || path.extname(file), config));</span>
    },
    saveAsync: <span class="fstat-no" title="function not covered" >function (file, type, config, callback) {</span>
<span class="cstat-no" title="statement not covered" >        if (type &amp;&amp; typeof(type) === 'object') {</span>
<span class="cstat-no" title="statement not covered" >            config = type;</span>
<span class="cstat-no" title="statement not covered" >            type = undefined;</span>
        }
<span class="cstat-no" title="statement not covered" >        if (!callback) {</span>
<span class="cstat-no" title="statement not covered" >            if (typeof type === 'function') {</span>
<span class="cstat-no" title="statement not covered" >                callback = type;</span>
<span class="cstat-no" title="statement not covered" >                type = undefined;</span>
            }
<span class="cstat-no" title="statement not covered" >            if (typeof config === 'function') {</span>
<span class="cstat-no" title="statement not covered" >                callback = config;</span>
<span class="cstat-no" title="statement not covered" >                config = undefined;</span>
            }
        }
<span class="cstat-no" title="statement not covered" >        fs.writeFile(file, this.encode(type || path.extname(file), config), callback);</span>
<span class="cstat-no" title="statement not covered" >        return this;</span>
    },
    resize: <span class="fstat-no" title="function not covered" >function(width, height, filter) {</span>
<span class="cstat-no" title="statement not covered" >        this._handle.resize(width, height, filter);</span>
<span class="cstat-no" title="statement not covered" >        return this;</span>
    },
&nbsp;
    size: <span class="fstat-no" title="function not covered" >function(width, height) {</span>
<span class="cstat-no" title="statement not covered" >        var size;</span>
<span class="cstat-no" title="statement not covered" >        if (width === undefined) <span class="cstat-no" title="statement not covered" >return {</span></span>
            width: this.width(),
            height: this.height()
        };
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (height === undefined) {</span>
<span class="cstat-no" title="statement not covered" >            size = this.size();</span>
<span class="cstat-no" title="statement not covered" >            height = width * size.height / size.width;</span>
        }
<span class="cstat-no" title="statement not covered" >        this.width(width).height(height);</span>
    },
    width: <span class="fstat-no" title="function not covered" >function(width) {</span>
<span class="cstat-no" title="statement not covered" >        if (width === undefined) <span class="cstat-no" title="statement not covered" >return this._handle.width;</span></span>
<span class="cstat-no" title="statement not covered" >        this._handle.width = width;</span>
    },
    height: <span class="fstat-no" title="function not covered" >function(height) {</span>
<span class="cstat-no" title="statement not covered" >        if (height === undefined) <span class="cstat-no" title="statement not covered" >return this._handle.height;</span></span>
<span class="cstat-no" title="statement not covered" >        this._handle.height = height;</span>
    }
};
&nbsp;
<span class="fstat-no" title="function not covered" >function bind(target, obj, aliases) {</span>
<span class="cstat-no" title="statement not covered" >    var item;</span>
<span class="cstat-no" title="statement not covered" >    for (item in obj) {</span>
<span class="cstat-no" title="statement not covered" >        if (obj.hasOwnProperty(item)) {</span>
<span class="cstat-no" title="statement not covered" >            target[item] = (<span class="fstat-no" title="function not covered" >function(fn) {</span></span>
<span class="cstat-no" title="statement not covered" >                return <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >                    var ret = fn.apply(this, slice.call(arguments, 0));</span>
<span class="cstat-no" title="statement not covered" >                    return ret === undefined ? this : ret;</span>
                };
            })(obj[item]);
<span class="cstat-no" title="statement not covered" >            if (aliases.hasOwnProperty(item)) {</span>
<span class="cstat-no" title="statement not covered" >                aliases[item].forEach(<span class="fstat-no" title="function not covered" >function(alias) {</span></span>
<span class="cstat-no" title="statement not covered" >                    target[alias] = target[item];</span>
                });
            }
        }
    }
}
&nbsp;
<span class="cstat-no" title="statement not covered" >bind(WrappedImage.prototype, prototype, {</span>
    "fill": ["fillColor"],
    "encode": ["toBuffer"],
    "draw": ["drawImage"]
});
&nbsp;
<span class="fstat-no" title="function not covered" >function images(obj) {</span>
<span class="cstat-no" title="statement not covered" >    var constructor;</span>
<span class="cstat-no" title="statement not covered" >    if (obj instanceof Buffer) {</span>
<span class="cstat-no" title="statement not covered" >        constructor = images.loadFromBuffer;</span>
    } else <span class="cstat-no" title="statement not covered" >if (obj instanceof WrappedImage) {</span>
<span class="cstat-no" title="statement not covered" >        constructor = images.copyFromImage;</span>
    } else <span class="cstat-no" title="statement not covered" >if (typeof(obj) == "string") {</span>
<span class="cstat-no" title="statement not covered" >        constructor = images.loadFromFile;</span>
    } else {
<span class="cstat-no" title="statement not covered" >        constructor = images.createImage;</span>
    }
<span class="cstat-no" title="statement not covered" >    return constructor.apply(images, slice.call(arguments, 0));</span>
}
&nbsp;
<span class="cstat-no" title="statement not covered" >images.TYPE_PNG = _images.TYPE_PNG;</span>
<span class="cstat-no" title="statement not covered" >images.TYPE_JPEG = _images.TYPE_JPEG;</span>
<span class="cstat-no" title="statement not covered" >images.TYPE_GIF = _images.TYPE_GIF;</span>
<span class="cstat-no" title="statement not covered" >images.TYPE_BMP = _images.TYPE_BMP;</span>
<span class="cstat-no" title="statement not covered" >images.TYPE_RAW = _images.TYPE_RAW;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >FILE_TYPE_MAP = {</span>
    ".png": images.TYPE_PNG,
    ".jpg": images.TYPE_JPEG,
    ".jpeg": images.TYPE_JPEG,
    ".gif": images.TYPE_GIF,
    ".bmp": images.TYPE_BMP,
    ".raw": images.TYPE_RAW
};
&nbsp;
<span class="cstat-no" title="statement not covered" >CONFIG_GENERATOR = [];</span>
//CONFIG_GENERATOR[images.TYPE_PNG]
<span class="cstat-no" title="statement not covered" >CONFIG_GENERATOR[images.TYPE_JPEG] = <span class="fstat-no" title="function not covered" >function(config) {</span></span>
<span class="cstat-no" title="statement not covered" >    var JPEG_CONFIG_SIZE = 5,</span>
        ret = new Buffer(JPEG_CONFIG_SIZE);
&nbsp;
<span class="cstat-no" title="statement not covered" >    ret.write("JPEG", 0, 4, "ascii");</span>
<span class="cstat-no" title="statement not covered" >    ret[4] = config.quality === undefined ? 100 : config.quality;</span>
<span class="cstat-no" title="statement not covered" >    return ret;</span>
};
&nbsp;
<span class="cstat-no" title="statement not covered" >images.Image = WrappedImage;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >images.loadFromFile = <span class="fstat-no" title="function not covered" >function(file) {</span></span>
<span class="cstat-no" title="statement not covered" >    return images.loadFromBuffer(fs.readFileSync(file));</span>
};
&nbsp;
<span class="cstat-no" title="statement not covered" >images.createImage = <span class="fstat-no" title="function not covered" >function(width, height) {</span></span>
<span class="cstat-no" title="statement not covered" >    return WrappedImage(width, height);</span>
};
&nbsp;
<span class="cstat-no" title="statement not covered" >images.loadFromBuffer = <span class="fstat-no" title="function not covered" >function(buffer, start, end) {</span></span>
<span class="cstat-no" title="statement not covered" >    return WrappedImage().loadFromBuffer(buffer, start, end);</span>
};
&nbsp;
<span class="cstat-no" title="statement not covered" >images.copyFromImage = <span class="fstat-no" title="function not covered" >function(src, x, y, width, height) {</span></span>
<span class="cstat-no" title="statement not covered" >    return WrappedImage().copyFromImage(src, x, y, width, height);</span>
};
&nbsp;
<span class="cstat-no" title="statement not covered" >images.setLimit = <span class="fstat-no" title="function not covered" >function(maxWidth, maxHeight) {</span></span>
<span class="cstat-no" title="statement not covered" >    _images.maxHeight = maxHeight;</span>
<span class="cstat-no" title="statement not covered" >    _images.maxWidth = maxWidth;</span>
<span class="cstat-no" title="statement not covered" >    return images;</span>
};
&nbsp;
<span class="cstat-no" title="statement not covered" >images.setGCThreshold = <span class="fstat-no" title="function not covered" >function(value) {</span></span>
<span class="cstat-no" title="statement not covered" >    gcThreshold = value;</span>
<span class="cstat-no" title="statement not covered" >    nextGCThreshold = value;</span>
};
&nbsp;
<span class="cstat-no" title="statement not covered" >images.getUsedMemory = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    return _images.usedMemory;</span>
};
&nbsp;
<span class="cstat-no" title="statement not covered" >images.gc = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    return _images.gc();</span>
};
&nbsp;
<span class="cstat-no" title="statement not covered" >module.exports = USE_OLD_API ? _images : images;</span>
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-png-native/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-png-native/</span></h1>
    <h2>
        
        Statements: <span class="metric">5% <small>(2 / 40)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 25)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">5.13% <small>(2 / 39)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; node-npmtest-jdf/node_modules/jdf-png-native/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="index.js"><a href="index.js.html">index.js</a></td>
	<td data-value="5" class="pic low"><span class="cover-fill" style="width: 5px;"></span><span class="cover-empty" style="width:95px;"></span></td>
	<td data-value="5" class="pct low">5%</td>
	<td data-value="40" class="abs low">(2&nbsp;/&nbsp;40)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="25" class="abs low">(0&nbsp;/&nbsp;25)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="4" class="abs low">(0&nbsp;/&nbsp;4)</td>
	<td data-value="5.13" class="pct low">5.13%</td>
	<td data-value="39" class="abs low">(2&nbsp;/&nbsp;39)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-png-native/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-png-native/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">5% <small>(2 / 40)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 25)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">5.13% <small>(2 / 39)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-png-native/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</td><td class="line-coverage"><span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var _handle = require('./binding.js');
&nbsp;
<span class="fstat-no" title="function not covered" >function Pngquant() {</span>
<span class="cstat-no" title="statement not covered" >    this.params = '';</span>
}
&nbsp;
<span class="cstat-no" title="statement not covered" >Pngquant.prototype = {</span>
    option: <span class="fstat-no" title="function not covered" >function (opt) {</span>
<span class="cstat-no" title="statement not covered" >        opt = opt || {};</span>
<span class="cstat-no" title="statement not covered" >        opt.filename = opt.filename || 'stdin.png';</span>
<span class="cstat-no" title="statement not covered" >        if (opt.params) {</span>
<span class="cstat-no" title="statement not covered" >            this.params = opt.params + ' ' + opt.filename;</span>
        } else {
<span class="cstat-no" title="statement not covered" >            var toString = Object.prototype.toString;</span>
<span class="cstat-no" title="statement not covered" >            var params = [];</span>
<span class="cstat-no" title="statement not covered" >            for (var p in opt) {</span>
<span class="cstat-no" title="statement not covered" >                if (opt.hasOwnProperty(p)) {</span>
<span class="cstat-no" title="statement not covered" >                    switch(p) {</span>
                        case 'quality':
<span class="cstat-no" title="statement not covered" >                            var quality = opt[p];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                            if (toString.call(quality) == '[object Array]') {</span>
<span class="cstat-no" title="statement not covered" >                                var l = parseInt(quality[0]), h = parseInt(quality[1]);</span>
<span class="cstat-no" title="statement not covered" >                                if (l &lt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                                    l = 0;</span>
                                }
                                
<span class="cstat-no" title="statement not covered" >                                if (h &gt; 100) {</span>
<span class="cstat-no" title="statement not covered" >                                    h = 100;</span>
                                }
<span class="cstat-no" title="statement not covered" >                                params.push('--quality=' + l + '-' + h)</span>
                            }
<span class="cstat-no" title="statement not covered" >                            break;</span>
                        case 'speed':
<span class="cstat-no" title="statement not covered" >                            var speed = parseInt(opt[p]);</span>
<span class="cstat-no" title="statement not covered" >                            if (!speed) <span class="cstat-no" title="statement not covered" >speed = 1;</span></span>
<span class="cstat-no" title="statement not covered" >                            params.push('--speed='+speed);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                            break;</span>
                        case 'iebug':
<span class="cstat-no" title="statement not covered" >                            if (opt[p]) {</span>
<span class="cstat-no" title="statement not covered" >                                params.push('--iebug');</span>
                            }
<span class="cstat-no" title="statement not covered" >                            break;</span>
                    }
                }
            }
<span class="cstat-no" title="statement not covered" >            this.params = params.join(' ') + ' ' + opt.filename;</span>
        }
<span class="cstat-no" title="statement not covered" >        return this;</span>
    },
&nbsp;
    compress: <span class="fstat-no" title="function not covered" >function(buffer, opt) {</span>
<span class="cstat-no" title="statement not covered" >        if (Object.prototype.toString.call(opt) == '[object Object]') {</span>
<span class="cstat-no" title="statement not covered" >            this.option(opt);</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (process.versions.node &gt;= '4.0.0') {</span>
<span class="cstat-no" title="statement not covered" >            out = (new _handle(buffer, this.params)).compress();</span>
        } else {
<span class="cstat-no" title="statement not covered" >            var handle = new _handle.Pngquant();</span>
<span class="cstat-no" title="statement not covered" >            out = handle.compress(buffer, this.params, <span class="fstat-no" title="function not covered" >function nope(){</span>});</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        return out;</span>
    }
};
&nbsp;
<span class="cstat-no" title="statement not covered" >module.exports = new Pngquant;</span>
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; node-npmtest-jdf/node_modules/jdf-ws/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file high" data-value="index.js"><a href="index.js.html">index.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="1" class="abs high">(1&nbsp;/&nbsp;1)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="1" class="abs high">(1&nbsp;/&nbsp;1)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">module.exports = require('./ws');
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/</span></h1>
    <h2>
        
        Statements: <span class="metric">42.86% <small>(6 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">42.86% <small>(6 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; node-npmtest-jdf/node_modules/jdf-ws/ws/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="index.js"><a href="index.js.html">index.js</a></td>
	<td data-value="42.86" class="pic low"><span class="cover-fill" style="width: 42px;"></span><span class="cover-empty" style="width:58px;"></span></td>
	<td data-value="42.86" class="pct low">42.86%</td>
	<td data-value="14" class="abs low">(6&nbsp;/&nbsp;14)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="4" class="abs low">(0&nbsp;/&nbsp;4)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="2" class="abs low">(0&nbsp;/&nbsp;2)</td>
	<td data-value="42.86" class="pct low">42.86%</td>
	<td data-value="14" class="abs low">(6&nbsp;/&nbsp;14)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">42.86% <small>(6 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">42.86% <small>(6 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
module.exports = require('./lib/WebSocket');
module.exports.Server = require('./lib/WebSocketServer');
module.exports.Sender = require('./lib/Sender');
module.exports.Receiver = require('./lib/Receiver');
&nbsp;
module.exports.createServer = <span class="fstat-no" title="function not covered" >function (options, connectionListener) {</span>
<span class="cstat-no" title="statement not covered" >  var server = new module.exports.Server(options);</span>
<span class="cstat-no" title="statement not covered" >  if (typeof connectionListener === 'function') {</span>
<span class="cstat-no" title="statement not covered" >    server.on('connection', connectionListener);</span>
  }
<span class="cstat-no" title="statement not covered" >  return server;</span>
};
&nbsp;
module.exports.connect = module.exports.createConnection = <span class="fstat-no" title="function not covered" >function (address, openListener) {</span>
<span class="cstat-no" title="statement not covered" >  var client = new module.exports(address);</span>
<span class="cstat-no" title="statement not covered" >  if (typeof openListener === 'function') {</span>
<span class="cstat-no" title="statement not covered" >    client.on('open', openListener);</span>
  }
<span class="cstat-no" title="statement not covered" >  return client;</span>
};
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</span></h1>
    <h2>
        
        Statements: <span class="metric">9.15% <small>(120 / 1311)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0.13% <small>(1 / 758)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">1.12% <small>(2 / 179)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">9.85% <small>(120 / 1218)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="BufferPool.js"><a href="BufferPool.js.html">BufferPool.js</a></td>
	<td data-value="12.82" class="pic low"><span class="cover-fill" style="width: 12px;"></span><span class="cover-empty" style="width:88px;"></span></td>
	<td data-value="12.82" class="pct low">12.82%</td>
	<td data-value="39" class="abs low">(5&nbsp;/&nbsp;39)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="24" class="abs low">(0&nbsp;/&nbsp;24)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="7" class="abs low">(0&nbsp;/&nbsp;7)</td>
	<td data-value="13.16" class="pct low">13.16%</td>
	<td data-value="38" class="abs low">(5&nbsp;/&nbsp;38)</td>
	</tr>

<tr>
	<td class="file low" data-value="BufferUtil.fallback.js"><a href="BufferUtil.fallback.js.html">BufferUtil.fallback.js</a></td>
	<td data-value="3.45" class="pic low"><span class="cover-fill" style="width: 3px;"></span><span class="cover-empty" style="width:97px;"></span></td>
	<td data-value="3.45" class="pct low">3.45%</td>
	<td data-value="29" class="abs low">(1&nbsp;/&nbsp;29)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="12" class="abs low">(0&nbsp;/&nbsp;12)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="3.7" class="pct low">3.7%</td>
	<td data-value="27" class="abs low">(1&nbsp;/&nbsp;27)</td>
	</tr>

<tr>
	<td class="file medium" data-value="BufferUtil.js"><a href="BufferUtil.js.html">BufferUtil.js</a></td>
	<td data-value="75" class="pic medium"><span class="cover-fill" style="width: 75px;"></span><span class="cover-empty" style="width:25px;"></span></td>
	<td data-value="75" class="pct medium">75%</td>
	<td data-value="8" class="abs medium">(6&nbsp;/&nbsp;8)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="75" class="pct medium">75%</td>
	<td data-value="8" class="abs medium">(6&nbsp;/&nbsp;8)</td>
	</tr>

<tr>
	<td class="file medium" data-value="ErrorCodes.js"><a href="ErrorCodes.js.html">ErrorCodes.js</a></td>
	<td data-value="50" class="pic medium"><span class="cover-fill" style="width: 50px;"></span><span class="cover-empty" style="width:50px;"></span></td>
	<td data-value="50" class="pct medium">50%</td>
	<td data-value="2" class="abs medium">(1&nbsp;/&nbsp;2)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="7" class="abs low">(0&nbsp;/&nbsp;7)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="1" class="abs low">(0&nbsp;/&nbsp;1)</td>
	<td data-value="50" class="pct medium">50%</td>
	<td data-value="2" class="abs medium">(1&nbsp;/&nbsp;2)</td>
	</tr>

<tr>
	<td class="file low" data-value="Receiver.hixie.js"><a href="Receiver.hixie.js.html">Receiver.hixie.js</a></td>
	<td data-value="12.12" class="pic low"><span class="cover-fill" style="width: 12px;"></span><span class="cover-empty" style="width:88px;"></span></td>
	<td data-value="12.12" class="pct low">12.12%</td>
	<td data-value="99" class="abs low">(12&nbsp;/&nbsp;99)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="35" class="abs low">(0&nbsp;/&nbsp;35)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="14" class="abs low">(0&nbsp;/&nbsp;14)</td>
	<td data-value="12.77" class="pct low">12.77%</td>
	<td data-value="94" class="abs low">(12&nbsp;/&nbsp;94)</td>
	</tr>

<tr>
	<td class="file low" data-value="Receiver.js"><a href="Receiver.js.html">Receiver.js</a></td>
	<td data-value="6.01" class="pic low"><span class="cover-fill" style="width: 6px;"></span><span class="cover-empty" style="width:94px;"></span></td>
	<td data-value="6.01" class="pct low">6.01%</td>
	<td data-value="316" class="abs low">(19&nbsp;/&nbsp;316)</td>
	<td data-value="0.69" class="pct low">0.69%</td>
	<td data-value="145" class="abs low">(1&nbsp;/&nbsp;145)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="60" class="abs low">(0&nbsp;/&nbsp;60)</td>
	<td data-value="6.27" class="pct low">6.27%</td>
	<td data-value="303" class="abs low">(19&nbsp;/&nbsp;303)</td>
	</tr>

<tr>
	<td class="file low" data-value="Sender.hixie.js"><a href="Sender.hixie.js.html">Sender.hixie.js</a></td>
	<td data-value="20.93" class="pic low"><span class="cover-fill" style="width: 20px;"></span><span class="cover-empty" style="width:80px;"></span></td>
	<td data-value="20.93" class="pct low">20.93%</td>
	<td data-value="43" class="abs low">(9&nbsp;/&nbsp;43)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="44" class="abs low">(0&nbsp;/&nbsp;44)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="6" class="abs low">(0&nbsp;/&nbsp;6)</td>
	<td data-value="23.08" class="pct low">23.08%</td>
	<td data-value="39" class="abs low">(9&nbsp;/&nbsp;39)</td>
	</tr>

<tr>
	<td class="file low" data-value="Sender.js"><a href="Sender.js.html">Sender.js</a></td>
	<td data-value="11.61" class="pic low"><span class="cover-fill" style="width: 11px;"></span><span class="cover-empty" style="width:89px;"></span></td>
	<td data-value="11.61" class="pct low">11.61%</td>
	<td data-value="112" class="abs low">(13&nbsp;/&nbsp;112)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="88" class="abs low">(0&nbsp;/&nbsp;88)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="10" class="abs low">(0&nbsp;/&nbsp;10)</td>
	<td data-value="12.5" class="pct low">12.5%</td>
	<td data-value="104" class="abs low">(13&nbsp;/&nbsp;104)</td>
	</tr>

<tr>
	<td class="file medium" data-value="Validation.fallback.js"><a href="Validation.fallback.js.html">Validation.fallback.js</a></td>
	<td data-value="50" class="pic medium"><span class="cover-fill" style="width: 50px;"></span><span class="cover-empty" style="width:50px;"></span></td>
	<td data-value="50" class="pct medium">50%</td>
	<td data-value="2" class="abs medium">(1&nbsp;/&nbsp;2)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="1" class="abs low">(0&nbsp;/&nbsp;1)</td>
	<td data-value="50" class="pct medium">50%</td>
	<td data-value="2" class="abs medium">(1&nbsp;/&nbsp;2)</td>
	</tr>

<tr>
	<td class="file medium" data-value="Validation.js"><a href="Validation.js.html">Validation.js</a></td>
	<td data-value="75" class="pic medium"><span class="cover-fill" style="width: 75px;"></span><span class="cover-empty" style="width:25px;"></span></td>
	<td data-value="75" class="pct medium">75%</td>
	<td data-value="8" class="abs medium">(6&nbsp;/&nbsp;8)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="75" class="pct medium">75%</td>
	<td data-value="8" class="abs medium">(6&nbsp;/&nbsp;8)</td>
	</tr>

<tr>
	<td class="file low" data-value="WebSocket.js"><a href="WebSocket.js.html">WebSocket.js</a></td>
	<td data-value="8.94" class="pic low"><span class="cover-fill" style="width: 8px;"></span><span class="cover-empty" style="width:92px;"></span></td>
	<td data-value="8.94" class="pct low">8.94%</td>
	<td data-value="425" class="abs low">(38&nbsp;/&nbsp;425)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="282" class="abs low">(0&nbsp;/&nbsp;282)</td>
	<td data-value="3.92" class="pct low">3.92%</td>
	<td data-value="51" class="abs low">(2&nbsp;/&nbsp;51)</td>
	<td data-value="9.9" class="pct low">9.9%</td>
	<td data-value="384" class="abs low">(38&nbsp;/&nbsp;384)</td>
	</tr>

<tr>
	<td class="file low" data-value="WebSocketServer.js"><a href="WebSocketServer.js.html">WebSocketServer.js</a></td>
	<td data-value="3.95" class="pic low"><span class="cover-fill" style="width: 3px;"></span><span class="cover-empty" style="width:97px;"></span></td>
	<td data-value="3.95" class="pct low">3.95%</td>
	<td data-value="228" class="abs low">(9&nbsp;/&nbsp;228)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="121" class="abs low">(0&nbsp;/&nbsp;121)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="26" class="abs low">(0&nbsp;/&nbsp;26)</td>
	<td data-value="4.31" class="pct low">4.31%</td>
	<td data-value="209" class="abs low">(9&nbsp;/&nbsp;209)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/BufferPool.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/BufferPool.js</span></h1>
    <h2>
        
        Statements: <span class="metric">12.82% <small>(5 / 39)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 24)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 7)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">13.16% <small>(5 / 38)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; BufferPool.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
var util = require('util');
&nbsp;
<span class="fstat-no" title="function not covered" >function BufferPool(initialSize, growStrategy, shrinkStrategy) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof initialSize === 'function') {</span>
<span class="cstat-no" title="statement not covered" >    shrinkStrategy = growStrategy;</span>
<span class="cstat-no" title="statement not covered" >    growStrategy = initialSize;</span>
<span class="cstat-no" title="statement not covered" >    initialSize = 0;</span>
  }
  else <span class="cstat-no" title="statement not covered" >if (typeof initialSize === 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >    initialSize = 0;</span>
  }
<span class="cstat-no" title="statement not covered" >  this._growStrategy = (growStrategy || <span class="fstat-no" title="function not covered" >function(db, size) {</span></span>
<span class="cstat-no" title="statement not covered" >    return db.used + size;</span>
  }).bind(null, this);
<span class="cstat-no" title="statement not covered" >  this._shrinkStrategy = (shrinkStrategy || <span class="fstat-no" title="function not covered" >function(db) {</span></span>
<span class="cstat-no" title="statement not covered" >    return initialSize;</span>
  }).bind(null, this);
<span class="cstat-no" title="statement not covered" >  this._buffer = initialSize ? new Buffer(initialSize) : null;</span>
<span class="cstat-no" title="statement not covered" >  this._offset = 0;</span>
<span class="cstat-no" title="statement not covered" >  this._used = 0;</span>
<span class="cstat-no" title="statement not covered" >  this._changeFactor = 0;</span>
<span class="cstat-no" title="statement not covered" >  this.__defineGetter__('size', <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >    return this._buffer == null ? 0 : this._buffer.length;</span>
  });
<span class="cstat-no" title="statement not covered" >  this.__defineGetter__('used', <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >    return this._used;</span>
  });
}
&nbsp;
BufferPool.prototype.get = <span class="fstat-no" title="function not covered" >function(length) {</span>
<span class="cstat-no" title="statement not covered" >  if (this._buffer == null || this._offset + length &gt; this._buffer.length) {</span>
<span class="cstat-no" title="statement not covered" >    var newBuf = new Buffer(this._growStrategy(length));</span>
<span class="cstat-no" title="statement not covered" >    this._buffer = newBuf;</span>
<span class="cstat-no" title="statement not covered" >    this._offset = 0;</span>
  }
<span class="cstat-no" title="statement not covered" >  this._used += length;</span>
<span class="cstat-no" title="statement not covered" >  var buf = this._buffer.slice(this._offset, this._offset + length);</span>
<span class="cstat-no" title="statement not covered" >  this._offset += length;</span>
<span class="cstat-no" title="statement not covered" >  return buf;</span>
}
&nbsp;
BufferPool.prototype.reset = <span class="fstat-no" title="function not covered" >function(forceNewBuffer) {</span>
<span class="cstat-no" title="statement not covered" >  var len = this._shrinkStrategy();</span>
<span class="cstat-no" title="statement not covered" >  if (len &lt; this.size) <span class="cstat-no" title="statement not covered" >this._changeFactor -= 1;</span></span>
<span class="cstat-no" title="statement not covered" >  if (forceNewBuffer || this._changeFactor &lt; -2) {</span>
<span class="cstat-no" title="statement not covered" >    this._changeFactor = 0;</span>
<span class="cstat-no" title="statement not covered" >    this._buffer = len ? new Buffer(len) : null;</span>
  }
<span class="cstat-no" title="statement not covered" >  this._offset = 0;</span>
<span class="cstat-no" title="statement not covered" >  this._used = 0;</span>
}
&nbsp;
module.exports = BufferPool;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/BufferUtil.fallback.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/BufferUtil.fallback.js</span></h1>
    <h2>
        
        Statements: <span class="metric">3.45% <small>(1 / 29)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">3.7% <small>(1 / 27)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; BufferUtil.fallback.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
module.exports.BufferUtil = {
  merge: <span class="fstat-no" title="function not covered" >function(mergedBuffer, buffers) {</span>
<span class="cstat-no" title="statement not covered" >    var offset = 0;</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0, l = buffers.length; i &lt; l; ++i) {</span>
<span class="cstat-no" title="statement not covered" >      var buf = buffers[i];</span>
<span class="cstat-no" title="statement not covered" >      buf.copy(mergedBuffer, offset);</span>
<span class="cstat-no" title="statement not covered" >      offset += buf.length;</span>
    }
  },
  mask: <span class="fstat-no" title="function not covered" >function(source, mask, output, offset, length) {</span>
<span class="cstat-no" title="statement not covered" >    var maskNum = mask.readUInt32LE(0, true);</span>
<span class="cstat-no" title="statement not covered" >    var i = 0;</span>
<span class="cstat-no" title="statement not covered" >    for (; i &lt; length - 3; i += 4) {</span>
<span class="cstat-no" title="statement not covered" >      var num = maskNum ^ source.readUInt32LE(i, true);</span>
<span class="cstat-no" title="statement not covered" >      if (num &lt; 0) <span class="cstat-no" title="statement not covered" >num = 4294967296 + num;</span></span>
<span class="cstat-no" title="statement not covered" >      output.writeUInt32LE(num, offset + i, true);</span>
    }
<span class="cstat-no" title="statement not covered" >    switch (length % 4) {</span>
      case 3: <span class="cstat-no" title="statement not covered" >output[offset + i + 2] = source[i + 2] ^ mask[2];</span>
      case 2: <span class="cstat-no" title="statement not covered" >output[offset + i + 1] = source[i + 1] ^ mask[1];</span>
      case 1: <span class="cstat-no" title="statement not covered" >output[offset + i] = source[i] ^ mask[0];</span>
      case 0:;
    }
  },
  unmask: <span class="fstat-no" title="function not covered" >function(data, mask) {</span>
<span class="cstat-no" title="statement not covered" >    var maskNum = mask.readUInt32LE(0, true);</span>
<span class="cstat-no" title="statement not covered" >    var length = data.length;</span>
<span class="cstat-no" title="statement not covered" >    var i = 0;</span>
<span class="cstat-no" title="statement not covered" >    for (; i &lt; length - 3; i += 4) {</span>
<span class="cstat-no" title="statement not covered" >      var num = maskNum ^ data.readUInt32LE(i, true);</span>
<span class="cstat-no" title="statement not covered" >      if (num &lt; 0) <span class="cstat-no" title="statement not covered" >num = 4294967296 + num;</span></span>
<span class="cstat-no" title="statement not covered" >      data.writeUInt32LE(num, i, true);</span>
    }
<span class="cstat-no" title="statement not covered" >    switch (length % 4) {</span>
      case 3: <span class="cstat-no" title="statement not covered" >data[i + 2] = data[i + 2] ^ mask[2];</span>
      case 2: <span class="cstat-no" title="statement not covered" >data[i + 1] = data[i + 1] ^ mask[1];</span>
      case 1: <span class="cstat-no" title="statement not covered" >data[i] = data[i] ^ mask[0];</span>
      case 0:;
    }
  }
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/BufferUtil.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header medium">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/BufferUtil.js</span></h1>
    <h2>
        
        Statements: <span class="metric">75% <small>(6 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">75% <small>(6 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; BufferUtil.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
try {
  module.exports = require('../build/Release/bufferutil');
} catch (e) { try {
  module.exports = require('../build/default/bufferutil');
} catch (e) { try {
  module.exports = require('./BufferUtil.fallback');
} catch (e) {
<span class="cstat-no" title="statement not covered" >  console.error('bufferutil.node seems to not have been built. Run npm install.');</span>
<span class="cstat-no" title="statement not covered" >  throw e;</span>
}}}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/ErrorCodes.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header medium">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/ErrorCodes.js</span></h1>
    <h2>
        
        Statements: <span class="metric">50% <small>(1 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 7)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">50% <small>(1 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; ErrorCodes.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
module.exports = {
  isValidErrorCode: <span class="fstat-no" title="function not covered" >function(code) {</span>
<span class="cstat-no" title="statement not covered" >    return (code &gt;= 1000 &amp;&amp; code &lt;= 1011 &amp;&amp; code != 1004 &amp;&amp; code != 1005 &amp;&amp; code != 1006) ||</span>
         (code &gt;= 3000 &amp;&amp; code &lt;= 4999);
  },
  1000: 'normal',
  1001: 'going away',
  1002: 'protocol error',
  1003: 'unsupported data',
  1004: 'reserved',
  1005: 'reserved for extensions',
  1006: 'reserved for extensions',
  1007: 'inconsistent or invalid data',
  1008: 'policy violation',
  1009: 'message too big',
  1010: 'extension handshake missing',
  1011: 'an unexpected condition prevented the request from being fulfilled',
};
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Receiver.hixie.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Receiver.hixie.js</span></h1>
    <h2>
        
        Statements: <span class="metric">12.12% <small>(12 / 99)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 35)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">12.77% <small>(12 / 94)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; Receiver.hixie.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
var util = require('util');
&nbsp;
/**
 * State constants
 */
&nbsp;
var EMPTY = 0
  , BODY = 1;
var BINARYLENGTH = 2
  , BINARYBODY = 3;
&nbsp;
/**
 * Hixie Receiver implementation
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function Receiver () {</span>
<span class="cstat-no" title="statement not covered" >  this.state = EMPTY;</span>
<span class="cstat-no" title="statement not covered" >  this.buffers = [];</span>
<span class="cstat-no" title="statement not covered" >  this.messageEnd = -1;</span>
<span class="cstat-no" title="statement not covered" >  this.spanLength = 0;</span>
<span class="cstat-no" title="statement not covered" >  this.dead = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.onerror = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >  this.ontext = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >  this.onbinary = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >  this.onclose = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >  this.onping = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >  this.onpong = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
}
&nbsp;
module.exports = Receiver;
&nbsp;
/**
 * Add new data to the parser.
 *
 * @api public
 */
&nbsp;
Receiver.prototype.add = <span class="fstat-no" title="function not covered" >function(data) {</span>
<span class="cstat-no" title="statement not covered" >  var self = this;</span>
<span class="fstat-no" title="function not covered" >  function doAdd() {</span>
<span class="cstat-no" title="statement not covered" >    if (self.state === EMPTY) {</span>
<span class="cstat-no" title="statement not covered" >      if (data.length == 2 &amp;&amp; data[0] == 0xFF &amp;&amp; data[1] == 0x00) {</span>
<span class="cstat-no" title="statement not covered" >        self.reset();</span>
<span class="cstat-no" title="statement not covered" >        self.onclose();</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
<span class="cstat-no" title="statement not covered" >      if (data[0] === 0x80) {</span>
<span class="cstat-no" title="statement not covered" >        self.messageEnd = 0;</span>
<span class="cstat-no" title="statement not covered" >	self.state = BINARYLENGTH;</span>
<span class="cstat-no" title="statement not covered" >        data = data.slice(1);</span>
      } else {
&nbsp;
<span class="cstat-no" title="statement not covered" >      if (data[0] !== 0x00) {</span>
<span class="cstat-no" title="statement not covered" >        self.error('payload must start with 0x00 byte', true);</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
<span class="cstat-no" title="statement not covered" >      data = data.slice(1);</span>
<span class="cstat-no" title="statement not covered" >      self.state = BODY;</span>
&nbsp;
      }
    }
<span class="cstat-no" title="statement not covered" >    if (self.state === BINARYLENGTH) {</span>
<span class="cstat-no" title="statement not covered" >      var i = 0;</span>
<span class="cstat-no" title="statement not covered" >      while ((i &lt; data.length) &amp;&amp; (data[i] &amp; 0x80)) {</span>
<span class="cstat-no" title="statement not covered" >        self.messageEnd = 128 * self.messageEnd + (data[i] &amp; 0x7f);</span>
<span class="cstat-no" title="statement not covered" >        ++i;</span>
      }
<span class="cstat-no" title="statement not covered" >      if (i &lt; data.length) {</span>
<span class="cstat-no" title="statement not covered" >        self.messageEnd = 128 * self.messageEnd + (data[i] &amp; 0x7f);</span>
<span class="cstat-no" title="statement not covered" >        self.state = BINARYBODY;</span>
<span class="cstat-no" title="statement not covered" >        ++i;</span>
      }
<span class="cstat-no" title="statement not covered" >      if (i &gt; 0)</span>
<span class="cstat-no" title="statement not covered" >        data = data.slice(i);</span>
    }
<span class="cstat-no" title="statement not covered" >    if (self.state === BINARYBODY) {</span>
<span class="cstat-no" title="statement not covered" >      var dataleft = self.messageEnd - self.spanLength;</span>
<span class="cstat-no" title="statement not covered" >      if (data.length &gt;= dataleft) {</span>
	// consume the whole buffer to finish the frame
<span class="cstat-no" title="statement not covered" >        self.buffers.push(data);</span>
<span class="cstat-no" title="statement not covered" >        self.spanLength += dataleft;</span>
<span class="cstat-no" title="statement not covered" >        self.messageEnd = dataleft;</span>
<span class="cstat-no" title="statement not covered" >        return self.parse();</span>
      }
      // frame's not done even if we consume it all
<span class="cstat-no" title="statement not covered" >      self.buffers.push(data);</span>
<span class="cstat-no" title="statement not covered" >      self.spanLength += data.length;</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    self.buffers.push(data);</span>
<span class="cstat-no" title="statement not covered" >    if ((self.messageEnd = bufferIndex(data, 0xFF)) != -1) {</span>
<span class="cstat-no" title="statement not covered" >      self.spanLength += self.messageEnd;</span>
<span class="cstat-no" title="statement not covered" >      return self.parse();</span>
    }
    else <span class="cstat-no" title="statement not covered" >self.spanLength += data.length;</span>
  }
<span class="cstat-no" title="statement not covered" >  while(data) <span class="cstat-no" title="statement not covered" >data = doAdd();</span></span>
}
&nbsp;
/**
 * Releases all resources used by the receiver.
 *
 * @api public
 */
&nbsp;
Receiver.prototype.cleanup = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  this.dead = true;</span>
<span class="cstat-no" title="statement not covered" >  this.state = EMPTY;</span>
<span class="cstat-no" title="statement not covered" >  this.buffers = [];</span>
}
&nbsp;
/**
 * Process buffered data.
 *
 * @api public
 */
&nbsp;
Receiver.prototype.parse = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  var output = new Buffer(this.spanLength);</span>
<span class="cstat-no" title="statement not covered" >  var outputIndex = 0;</span>
<span class="cstat-no" title="statement not covered" >  for (var bi = 0, bl = this.buffers.length; bi &lt; bl - 1; ++bi) {</span>
<span class="cstat-no" title="statement not covered" >    var buffer = this.buffers[bi];</span>
<span class="cstat-no" title="statement not covered" >    buffer.copy(output, outputIndex);</span>
<span class="cstat-no" title="statement not covered" >    outputIndex += buffer.length;</span>
  }
<span class="cstat-no" title="statement not covered" >  var lastBuffer = this.buffers[this.buffers.length - 1];</span>
<span class="cstat-no" title="statement not covered" >  if (this.messageEnd &gt; 0) <span class="cstat-no" title="statement not covered" >lastBuffer.copy(output, outputIndex, 0, this.messageEnd);</span></span>
<span class="cstat-no" title="statement not covered" >  if (this.state !== BODY) <span class="cstat-no" title="statement not covered" >--this.messageEnd;</span></span>
<span class="cstat-no" title="statement not covered" >  var tail = null;</span>
<span class="cstat-no" title="statement not covered" >  if (this.messageEnd &lt; lastBuffer.length - 1) {</span>
<span class="cstat-no" title="statement not covered" >    tail = lastBuffer.slice(this.messageEnd + 1);</span>
  }
<span class="cstat-no" title="statement not covered" >  this.reset();</span>
<span class="cstat-no" title="statement not covered" >  this.ontext(output.toString('utf8'));</span>
<span class="cstat-no" title="statement not covered" >  return tail;</span>
}
&nbsp;
/**
 * Handles an error
 *
 * @api private
 */
&nbsp;
Receiver.prototype.error = <span class="fstat-no" title="function not covered" >function (reason, terminate) {</span>
<span class="cstat-no" title="statement not covered" >  this.reset();</span>
<span class="cstat-no" title="statement not covered" >  this.onerror(reason, terminate);</span>
<span class="cstat-no" title="statement not covered" >  return this;</span>
}
&nbsp;
/**
 * Reset parser state
 *
 * @api private
 */
&nbsp;
Receiver.prototype.reset = <span class="fstat-no" title="function not covered" >function (reason) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.dead) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  this.state = EMPTY;</span>
<span class="cstat-no" title="statement not covered" >  this.buffers = [];</span>
<span class="cstat-no" title="statement not covered" >  this.messageEnd = -1;</span>
<span class="cstat-no" title="statement not covered" >  this.spanLength = 0;</span>
}
&nbsp;
/**
 * Internal api
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function bufferIndex(buffer, byte) {</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, l = buffer.length; i &lt; l; ++i) {</span>
<span class="cstat-no" title="statement not covered" >    if (buffer[i] === byte) <span class="cstat-no" title="statement not covered" >return i;</span></span>
  }
<span class="cstat-no" title="statement not covered" >  return -1;</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Receiver.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Receiver.js</span></h1>
    <h2>
        
        Statements: <span class="metric">6.01% <small>(19 / 316)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0.69% <small>(1 / 145)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 60)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">6.27% <small>(19 / 303)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; Receiver.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
var util = require('util')
  , Validation = require('./Validation').Validation
  , ErrorCodes = require('./ErrorCodes')
  , BufferPool = require('./BufferPool')
  , bufferUtil = require('./BufferUtil').BufferUtil;
&nbsp;
/**
 * Node version 0.4 and 0.6 compatibility
 */
&nbsp;
var isNodeV4 = /^v0\.4/.test(process.version);
&nbsp;
/**
 * HyBi Receiver implementation
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function Receiver () {</span>
  // memory pool for fragmented messages
<span class="cstat-no" title="statement not covered" >  var fragmentedPoolPrevUsed = -1;</span>
<span class="cstat-no" title="statement not covered" >  this.fragmentedBufferPool = new BufferPool(1024, <span class="fstat-no" title="function not covered" >function(db, length) {</span></span>
<span class="cstat-no" title="statement not covered" >    return db.used + length;</span>
  }, <span class="fstat-no" title="function not covered" >function(db) {</span>
<span class="cstat-no" title="statement not covered" >    return fragmentedPoolPrevUsed = fragmentedPoolPrevUsed &gt;= 0 ?</span>
      (fragmentedPoolPrevUsed + db.used) / 2 :
      db.used;
  });
&nbsp;
  // memory pool for unfragmented messages
<span class="cstat-no" title="statement not covered" >  var unfragmentedPoolPrevUsed = -1;</span>
<span class="cstat-no" title="statement not covered" >  this.unfragmentedBufferPool = new BufferPool(1024, <span class="fstat-no" title="function not covered" >function(db, length) {</span></span>
<span class="cstat-no" title="statement not covered" >    return db.used + length;</span>
  }, <span class="fstat-no" title="function not covered" >function(db) {</span>
<span class="cstat-no" title="statement not covered" >    return unfragmentedPoolPrevUsed = unfragmentedPoolPrevUsed &gt;= 0 ?</span>
      (unfragmentedPoolPrevUsed + db.used) / 2 :
      db.used;
  });
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.state = {</span>
    activeFragmentedOperation: null,
    lastFragment: false,
    masked: false,
    opcode: 0,
    fragmentedOperation: false
  };
<span class="cstat-no" title="statement not covered" >  this.overflow = [];</span>
<span class="cstat-no" title="statement not covered" >  this.headerBuffer = new Buffer(10);</span>
<span class="cstat-no" title="statement not covered" >  this.expectOffset = 0;</span>
<span class="cstat-no" title="statement not covered" >  this.expectBuffer = null;</span>
<span class="cstat-no" title="statement not covered" >  this.expectHandler = null;</span>
<span class="cstat-no" title="statement not covered" >  this.currentMessage = [];</span>
<span class="cstat-no" title="statement not covered" >  this.expectHeader(2, this.processPacket);</span>
<span class="cstat-no" title="statement not covered" >  this.dead = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.onerror = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >  this.ontext = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >  this.onbinary = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >  this.onclose = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >  this.onping = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
<span class="cstat-no" title="statement not covered" >  this.onpong = <span class="fstat-no" title="function not covered" >function() {</span>};</span>
};
&nbsp;
module.exports = Receiver;
&nbsp;
/**
 * Add new data to the parser.
 *
 * @api public
 */
&nbsp;
Receiver.prototype.add = <span class="fstat-no" title="function not covered" >function(data) {</span>
<span class="cstat-no" title="statement not covered" >  var dataLength = data.length;</span>
<span class="cstat-no" title="statement not covered" >  if (dataLength == 0) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  if (this.expectBuffer == null) {</span>
<span class="cstat-no" title="statement not covered" >    this.overflow.push(data);</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  var toRead = Math.min(dataLength, this.expectBuffer.length - this.expectOffset);</span>
<span class="cstat-no" title="statement not covered" >  fastCopy(toRead, data, this.expectBuffer, this.expectOffset);</span>
<span class="cstat-no" title="statement not covered" >  this.expectOffset += toRead;</span>
<span class="cstat-no" title="statement not covered" >  if (toRead &lt; dataLength) {</span>
<span class="cstat-no" title="statement not covered" >    this.overflow.push(data.slice(toRead));</span>
  }
<span class="cstat-no" title="statement not covered" >  while (this.expectBuffer &amp;&amp; this.expectOffset == this.expectBuffer.length) {</span>
<span class="cstat-no" title="statement not covered" >    var bufferForHandler = this.expectBuffer;</span>
<span class="cstat-no" title="statement not covered" >    this.expectBuffer = null;</span>
<span class="cstat-no" title="statement not covered" >    this.expectOffset = 0;</span>
<span class="cstat-no" title="statement not covered" >    this.expectHandler.call(this, bufferForHandler);</span>
  }
}
&nbsp;
/**
 * Releases all resources used by the receiver.
 *
 * @api public
 */
&nbsp;
Receiver.prototype.cleanup = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  this.dead = true;</span>
<span class="cstat-no" title="statement not covered" >  this.overflow = null;</span>
<span class="cstat-no" title="statement not covered" >  this.headerBuffer = null;</span>
<span class="cstat-no" title="statement not covered" >  this.expectBuffer = null;</span>
<span class="cstat-no" title="statement not covered" >  this.expectHandler = null;</span>
<span class="cstat-no" title="statement not covered" >  this.unfragmentedBufferPool = null;</span>
<span class="cstat-no" title="statement not covered" >  this.fragmentedBufferPool = null;</span>
<span class="cstat-no" title="statement not covered" >  this.state = null;</span>
<span class="cstat-no" title="statement not covered" >  this.currentMessage = null;</span>
<span class="cstat-no" title="statement not covered" >  this.onerror = null;</span>
<span class="cstat-no" title="statement not covered" >  this.ontext = null;</span>
<span class="cstat-no" title="statement not covered" >  this.onbinary = null;</span>
<span class="cstat-no" title="statement not covered" >  this.onclose = null;</span>
<span class="cstat-no" title="statement not covered" >  this.onping = null;</span>
<span class="cstat-no" title="statement not covered" >  this.onpong = null;</span>
}
&nbsp;
/**
 * Waits for a certain amount of header bytes to be available, then fires a callback.
 *
 * @api private
 */
&nbsp;
Receiver.prototype.expectHeader = <span class="fstat-no" title="function not covered" >function(length, handler) {</span>
<span class="cstat-no" title="statement not covered" >  if (length == 0) {</span>
<span class="cstat-no" title="statement not covered" >    handler(null);</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  this.expectBuffer = this.headerBuffer.slice(this.expectOffset, this.expectOffset + length);</span>
<span class="cstat-no" title="statement not covered" >  this.expectHandler = handler;</span>
<span class="cstat-no" title="statement not covered" >  var toRead = length;</span>
<span class="cstat-no" title="statement not covered" >  while (toRead &gt; 0 &amp;&amp; this.overflow.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >    var fromOverflow = this.overflow.pop();</span>
<span class="cstat-no" title="statement not covered" >    if (toRead &lt; fromOverflow.length) <span class="cstat-no" title="statement not covered" >this.overflow.push(fromOverflow.slice(toRead));</span></span>
<span class="cstat-no" title="statement not covered" >    var read = Math.min(fromOverflow.length, toRead);</span>
<span class="cstat-no" title="statement not covered" >    fastCopy(read, fromOverflow, this.expectBuffer, this.expectOffset);</span>
<span class="cstat-no" title="statement not covered" >    this.expectOffset += read;</span>
<span class="cstat-no" title="statement not covered" >    toRead -= read;</span>
  }
}
&nbsp;
/**
 * Waits for a certain amount of data bytes to be available, then fires a callback.
 *
 * @api private
 */
&nbsp;
Receiver.prototype.expectData = <span class="fstat-no" title="function not covered" >function(length, handler) {</span>
<span class="cstat-no" title="statement not covered" >  if (length == 0) {</span>
<span class="cstat-no" title="statement not covered" >    handler(null);</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  this.expectBuffer = this.allocateFromPool(length, this.state.fragmentedOperation);</span>
<span class="cstat-no" title="statement not covered" >  this.expectHandler = handler;</span>
<span class="cstat-no" title="statement not covered" >  var toRead = length;</span>
<span class="cstat-no" title="statement not covered" >  while (toRead &gt; 0 &amp;&amp; this.overflow.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >    var fromOverflow = this.overflow.pop();</span>
<span class="cstat-no" title="statement not covered" >    if (toRead &lt; fromOverflow.length) <span class="cstat-no" title="statement not covered" >this.overflow.push(fromOverflow.slice(toRead));</span></span>
<span class="cstat-no" title="statement not covered" >    var read = Math.min(fromOverflow.length, toRead);</span>
<span class="cstat-no" title="statement not covered" >    fastCopy(read, fromOverflow, this.expectBuffer, this.expectOffset);</span>
<span class="cstat-no" title="statement not covered" >    this.expectOffset += read;</span>
<span class="cstat-no" title="statement not covered" >    toRead -= read;</span>
  }
}
&nbsp;
/**
 * Allocates memory from the buffer pool.
 *
 * @api private
 */
&nbsp;
Receiver.prototype.allocateFromPool = !isNodeV4
  ? <span class="fstat-no" title="function not covered" >function(length, isFragmented) {</span> <span class="cstat-no" title="statement not covered" >return (isFragmented ? this.fragmentedBufferPool : this.unfragmentedBufferPool).get(length); </span>}
  : <span class="fstat-no" title="function not covered" ><span class="branch-1 cbranch-no" title="branch not covered" >function(length) {</span> <span class="cstat-no" title="statement not covered" >return new Buffer(length); </span>};</span>
&nbsp;
/**
 * Start processing a new packet.
 *
 * @api private
 */
&nbsp;
Receiver.prototype.processPacket = <span class="fstat-no" title="function not covered" >function (data) {</span>
<span class="cstat-no" title="statement not covered" >  if ((data[0] &amp; 0x70) != 0) {</span>
<span class="cstat-no" title="statement not covered" >    this.error('reserved fields must be empty', 1002);</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  this.state.lastFragment = (data[0] &amp; 0x80) == 0x80;</span>
<span class="cstat-no" title="statement not covered" >  this.state.masked = (data[1] &amp; 0x80) == 0x80;</span>
<span class="cstat-no" title="statement not covered" >  var opcode = data[0] &amp; 0xf;</span>
<span class="cstat-no" title="statement not covered" >  if (opcode === 0) {</span>
    // continuation frame
<span class="cstat-no" title="statement not covered" >    this.state.fragmentedOperation = true;</span>
<span class="cstat-no" title="statement not covered" >    this.state.opcode = this.state.activeFragmentedOperation;</span>
<span class="cstat-no" title="statement not covered" >    if (!(this.state.opcode == 1 || this.state.opcode == 2)) {</span>
<span class="cstat-no" title="statement not covered" >      this.error('continuation frame cannot follow current opcode', 1002);</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
  }
  else {
<span class="cstat-no" title="statement not covered" >    if (opcode &lt; 3 &amp;&amp; this.state.activeFragmentedOperation != null) {</span>
<span class="cstat-no" title="statement not covered" >      this.error('data frames after the initial data frame must have opcode 0', 1002);</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.state.opcode = opcode;</span>
<span class="cstat-no" title="statement not covered" >    if (this.state.lastFragment === false) {</span>
<span class="cstat-no" title="statement not covered" >      this.state.fragmentedOperation = true;</span>
<span class="cstat-no" title="statement not covered" >      this.state.activeFragmentedOperation = opcode;</span>
    }
    else <span class="cstat-no" title="statement not covered" >this.state.fragmentedOperation = false;</span>
  }
<span class="cstat-no" title="statement not covered" >  var handler = opcodes[this.state.opcode];</span>
<span class="cstat-no" title="statement not covered" >  if (typeof handler == 'undefined') <span class="cstat-no" title="statement not covered" >this.error('no handler for opcode ' + this.state.opcode, 1002);</span></span>
  else {
<span class="cstat-no" title="statement not covered" >    handler.start.call(this, data);</span>
  }
}
&nbsp;
/**
 * Endprocessing a packet.
 *
 * @api private
 */
&nbsp;
Receiver.prototype.endPacket = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (!this.state.fragmentedOperation) <span class="cstat-no" title="statement not covered" >this.unfragmentedBufferPool.reset(true);</span></span>
  else <span class="cstat-no" title="statement not covered" >if (this.state.lastFragment) <span class="cstat-no" title="statement not covered" >this.fragmentedBufferPool.reset(false);</span></span>
<span class="cstat-no" title="statement not covered" >  this.expectOffset = 0;</span>
<span class="cstat-no" title="statement not covered" >  this.expectBuffer = null;</span>
<span class="cstat-no" title="statement not covered" >  this.expectHandler = null;</span>
<span class="cstat-no" title="statement not covered" >  if (this.state.lastFragment &amp;&amp; this.state.opcode === this.state.activeFragmentedOperation) {</span>
    // end current fragmented operation
<span class="cstat-no" title="statement not covered" >    this.state.activeFragmentedOperation = null;</span>
  }
<span class="cstat-no" title="statement not covered" >  this.state.lastFragment = false;</span>
<span class="cstat-no" title="statement not covered" >  this.state.opcode = this.state.activeFragmentedOperation != null ? this.state.activeFragmentedOperation : 0;</span>
<span class="cstat-no" title="statement not covered" >  this.state.masked = false;</span>
<span class="cstat-no" title="statement not covered" >  this.expectHeader(2, this.processPacket);</span>
}
&nbsp;
/**
 * Reset the parser state.
 *
 * @api private
 */
&nbsp;
Receiver.prototype.reset = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (this.dead) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  this.state = {</span>
    activeFragmentedOperation: null,
    lastFragment: false,
    masked: false,
    opcode: 0,
    fragmentedOperation: false
  };
<span class="cstat-no" title="statement not covered" >  this.fragmentedBufferPool.reset(true);</span>
<span class="cstat-no" title="statement not covered" >  this.unfragmentedBufferPool.reset(true);</span>
<span class="cstat-no" title="statement not covered" >  this.expectOffset = 0;</span>
<span class="cstat-no" title="statement not covered" >  this.expectBuffer = null;</span>
<span class="cstat-no" title="statement not covered" >  this.expectHandler = null;</span>
<span class="cstat-no" title="statement not covered" >  this.overflow = [];</span>
<span class="cstat-no" title="statement not covered" >  this.currentMessage = [];</span>
}
&nbsp;
/**
 * Unmask received data.
 *
 * @api private
 */
&nbsp;
Receiver.prototype.unmask = <span class="fstat-no" title="function not covered" >function (mask, buf, binary) {</span>
<span class="cstat-no" title="statement not covered" >  if (mask != null &amp;&amp; buf != null) <span class="cstat-no" title="statement not covered" >bufferUtil.unmask(buf, mask);</span></span>
<span class="cstat-no" title="statement not covered" >  if (binary) <span class="cstat-no" title="statement not covered" >return buf;</span></span>
<span class="cstat-no" title="statement not covered" >  return buf != null ? buf.toString('utf8') : '';</span>
}
&nbsp;
/**
 * Concatenates a list of buffers.
 *
 * @api private
 */
&nbsp;
Receiver.prototype.concatBuffers = <span class="fstat-no" title="function not covered" >function(buffers) {</span>
<span class="cstat-no" title="statement not covered" >  var length = 0;</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, l = buffers.length; i &lt; l; ++i) <span class="cstat-no" title="statement not covered" >length += buffers[i].length;</span></span>
<span class="cstat-no" title="statement not covered" >  var mergedBuffer = new Buffer(length);</span>
<span class="cstat-no" title="statement not covered" >  bufferUtil.merge(mergedBuffer, buffers);</span>
<span class="cstat-no" title="statement not covered" >  return mergedBuffer;</span>
}
&nbsp;
/**
 * Handles an error
 *
 * @api private
 */
&nbsp;
Receiver.prototype.error = <span class="fstat-no" title="function not covered" >function (reason, protocolErrorCode) {</span>
<span class="cstat-no" title="statement not covered" >  this.reset();</span>
<span class="cstat-no" title="statement not covered" >  this.onerror(reason, protocolErrorCode);</span>
<span class="cstat-no" title="statement not covered" >  return this;</span>
}
&nbsp;
/**
 * Buffer utilities
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function readUInt16BE(start) {</span>
<span class="cstat-no" title="statement not covered" >  return (this[start]&lt;&lt;8) +</span>
         this[start+1];
}
&nbsp;
<span class="fstat-no" title="function not covered" >function readUInt32BE(start) {</span>
<span class="cstat-no" title="statement not covered" >  return (this[start]&lt;&lt;24) +</span>
         (this[start+1]&lt;&lt;16) +
         (this[start+2]&lt;&lt;8) +
         this[start+3];
}
&nbsp;
<span class="fstat-no" title="function not covered" >function fastCopy(length, srcBuffer, dstBuffer, dstOffset) {</span>
<span class="cstat-no" title="statement not covered" >  switch (length) {</span>
    default: <span class="cstat-no" title="statement not covered" >srcBuffer.copy(dstBuffer, dstOffset, 0, length); <span class="cstat-no" title="statement not covered" ></span>break;</span>
    case 16: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+15] = srcBuffer[15];</span>
    case 15: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+14] = srcBuffer[14];</span>
    case 14: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+13] = srcBuffer[13];</span>
    case 13: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+12] = srcBuffer[12];</span>
    case 12: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+11] = srcBuffer[11];</span>
    case 11: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+10] = srcBuffer[10];</span>
    case 10: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+9] = srcBuffer[9];</span>
    case 9: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+8] = srcBuffer[8];</span>
    case 8: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+7] = srcBuffer[7];</span>
    case 7: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+6] = srcBuffer[6];</span>
    case 6: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+5] = srcBuffer[5];</span>
    case 5: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+4] = srcBuffer[4];</span>
    case 4: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+3] = srcBuffer[3];</span>
    case 3: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+2] = srcBuffer[2];</span>
    case 2: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset+1] = srcBuffer[1];</span>
    case 1: <span class="cstat-no" title="statement not covered" >dstBuffer[dstOffset] = srcBuffer[0];</span>
  }
}
&nbsp;
/**
 * Opcode handlers
 */
&nbsp;
var opcodes = {
  // text
  '1': {
    start: <span class="fstat-no" title="function not covered" >function(data) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
      // decode length
<span class="cstat-no" title="statement not covered" >      var firstLength = data[1] &amp; 0x7f;</span>
<span class="cstat-no" title="statement not covered" >      if (firstLength &lt; 126) {</span>
<span class="cstat-no" title="statement not covered" >        opcodes['1'].getData.call(self, firstLength);</span>
      }
      else <span class="cstat-no" title="statement not covered" >if (firstLength == 126) {</span>
<span class="cstat-no" title="statement not covered" >        self.expectHeader(2, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          opcodes['1'].getData.call(self, readUInt16BE.call(data, 0));</span>
        });
      }
      else <span class="cstat-no" title="statement not covered" >if (firstLength == 127) {</span>
<span class="cstat-no" title="statement not covered" >        self.expectHeader(8, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          if (readUInt32BE.call(data, 0) != 0) {</span>
<span class="cstat-no" title="statement not covered" >            self.error('packets with length spanning more than 32 bit is currently not supported', 1008);</span>
<span class="cstat-no" title="statement not covered" >            return;</span>
          }
<span class="cstat-no" title="statement not covered" >          opcodes['1'].getData.call(self, readUInt32BE.call(data, 4));</span>
        });
      }
    },
    getData: <span class="fstat-no" title="function not covered" >function(length) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      if (self.state.masked) {</span>
<span class="cstat-no" title="statement not covered" >        self.expectHeader(4, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          var mask = data;</span>
<span class="cstat-no" title="statement not covered" >          self.expectData(length, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >            opcodes['1'].finish.call(self, mask, data);</span>
          });
        });
      }
      else {
<span class="cstat-no" title="statement not covered" >        self.expectData(length, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          opcodes['1'].finish.call(self, null, data);</span>
        });
      }
    },
    finish: <span class="fstat-no" title="function not covered" >function(mask, data) {</span>
<span class="cstat-no" title="statement not covered" >      var packet = this.unmask(mask, data, true);</span>
<span class="cstat-no" title="statement not covered" >      if (packet != null) <span class="cstat-no" title="statement not covered" >this.currentMessage.push(packet);</span></span>
<span class="cstat-no" title="statement not covered" >      if (this.state.lastFragment) {</span>
<span class="cstat-no" title="statement not covered" >        var messageBuffer = this.concatBuffers(this.currentMessage);</span>
<span class="cstat-no" title="statement not covered" >        if (!Validation.isValidUTF8(messageBuffer)) {</span>
<span class="cstat-no" title="statement not covered" >          this.error('invalid utf8 sequence', 1007);</span>
<span class="cstat-no" title="statement not covered" >          return;</span>
        }
<span class="cstat-no" title="statement not covered" >        this.ontext(messageBuffer.toString('utf8'), {masked: this.state.masked, buffer: messageBuffer});</span>
<span class="cstat-no" title="statement not covered" >        this.currentMessage = [];</span>
      }
<span class="cstat-no" title="statement not covered" >      this.endPacket();</span>
    }
  },
  // binary
  '2': {
    start: <span class="fstat-no" title="function not covered" >function(data) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
      // decode length
<span class="cstat-no" title="statement not covered" >      var firstLength = data[1] &amp; 0x7f;</span>
<span class="cstat-no" title="statement not covered" >      if (firstLength &lt; 126) {</span>
<span class="cstat-no" title="statement not covered" >        opcodes['2'].getData.call(self, firstLength);</span>
      }
      else <span class="cstat-no" title="statement not covered" >if (firstLength == 126) {</span>
<span class="cstat-no" title="statement not covered" >        self.expectHeader(2, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          opcodes['2'].getData.call(self, readUInt16BE.call(data, 0));</span>
        });
      }
      else <span class="cstat-no" title="statement not covered" >if (firstLength == 127) {</span>
<span class="cstat-no" title="statement not covered" >        self.expectHeader(8, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          if (readUInt32BE.call(data, 0) != 0) {</span>
<span class="cstat-no" title="statement not covered" >            self.error('packets with length spanning more than 32 bit is currently not supported', 1008);</span>
<span class="cstat-no" title="statement not covered" >            return;</span>
          }
<span class="cstat-no" title="statement not covered" >          opcodes['2'].getData.call(self, readUInt32BE.call(data, 4, true));</span>
        });
      }
    },
    getData: <span class="fstat-no" title="function not covered" >function(length) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      if (self.state.masked) {</span>
<span class="cstat-no" title="statement not covered" >        self.expectHeader(4, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          var mask = data;</span>
<span class="cstat-no" title="statement not covered" >          self.expectData(length, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >            opcodes['2'].finish.call(self, mask, data);</span>
          });
        });
      }
      else {
<span class="cstat-no" title="statement not covered" >        self.expectData(length, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          opcodes['2'].finish.call(self, null, data);</span>
        });
      }
    },
    finish: <span class="fstat-no" title="function not covered" >function(mask, data) {</span>
<span class="cstat-no" title="statement not covered" >      var packet = this.unmask(mask, data, true);</span>
<span class="cstat-no" title="statement not covered" >      if (packet != null) <span class="cstat-no" title="statement not covered" >this.currentMessage.push(packet);</span></span>
<span class="cstat-no" title="statement not covered" >      if (this.state.lastFragment) {</span>
<span class="cstat-no" title="statement not covered" >        var messageBuffer = this.concatBuffers(this.currentMessage);</span>
<span class="cstat-no" title="statement not covered" >        this.onbinary(messageBuffer, {masked: this.state.masked, buffer: messageBuffer});</span>
<span class="cstat-no" title="statement not covered" >        this.currentMessage = [];</span>
      }
<span class="cstat-no" title="statement not covered" >      this.endPacket();</span>
    }
  },
  // close
  '8': {
    start: <span class="fstat-no" title="function not covered" >function(data) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      if (self.state.lastFragment == false) {</span>
<span class="cstat-no" title="statement not covered" >        self.error('fragmented close is not supported', 1002);</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
&nbsp;
      // decode length
<span class="cstat-no" title="statement not covered" >      var firstLength = data[1] &amp; 0x7f;</span>
<span class="cstat-no" title="statement not covered" >      if (firstLength &lt; 126) {</span>
<span class="cstat-no" title="statement not covered" >        opcodes['8'].getData.call(self, firstLength);</span>
      }
      else {
<span class="cstat-no" title="statement not covered" >        self.error('control frames cannot have more than 125 bytes of data', 1002);</span>
      }
    },
    getData: <span class="fstat-no" title="function not covered" >function(length) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      if (self.state.masked) {</span>
<span class="cstat-no" title="statement not covered" >        self.expectHeader(4, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          var mask = data;</span>
<span class="cstat-no" title="statement not covered" >          self.expectData(length, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >            opcodes['8'].finish.call(self, mask, data);</span>
          });
        });
      }
      else {
<span class="cstat-no" title="statement not covered" >        self.expectData(length, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          opcodes['8'].finish.call(self, null, data);</span>
        });
      }
    },
    finish: <span class="fstat-no" title="function not covered" >function(mask, data) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      data = self.unmask(mask, data, true);</span>
<span class="cstat-no" title="statement not covered" >      if (data &amp;&amp; data.length == 1) {</span>
<span class="cstat-no" title="statement not covered" >        self.error('close packets with data must be at least two bytes long', 1002);</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
<span class="cstat-no" title="statement not covered" >      var code = data &amp;&amp; data.length &gt; 1 ? readUInt16BE.call(data, 0) : 1000;</span>
<span class="cstat-no" title="statement not covered" >      if (!ErrorCodes.isValidErrorCode(code)) {</span>
<span class="cstat-no" title="statement not covered" >        self.error('invalid error code', 1002);</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
<span class="cstat-no" title="statement not covered" >      var message = '';</span>
<span class="cstat-no" title="statement not covered" >      if (data &amp;&amp; data.length &gt; 2) {</span>
<span class="cstat-no" title="statement not covered" >        var messageBuffer = data.slice(2);</span>
<span class="cstat-no" title="statement not covered" >        if (!Validation.isValidUTF8(messageBuffer)) {</span>
<span class="cstat-no" title="statement not covered" >          self.error('invalid utf8 sequence', 1007);</span>
<span class="cstat-no" title="statement not covered" >          return;</span>
        }
<span class="cstat-no" title="statement not covered" >        message = messageBuffer.toString('utf8');</span>
      }
<span class="cstat-no" title="statement not covered" >      this.onclose(code, message, {masked: self.state.masked});</span>
<span class="cstat-no" title="statement not covered" >      this.reset();</span>
    },
  },
  // ping
  '9': {
    start: <span class="fstat-no" title="function not covered" >function(data) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      if (self.state.lastFragment == false) {</span>
<span class="cstat-no" title="statement not covered" >        self.error('fragmented ping is not supported', 1002);</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
&nbsp;
      // decode length
<span class="cstat-no" title="statement not covered" >      var firstLength = data[1] &amp; 0x7f;</span>
<span class="cstat-no" title="statement not covered" >      if (firstLength &lt; 126) {</span>
<span class="cstat-no" title="statement not covered" >        opcodes['9'].getData.call(self, firstLength);</span>
      }
      else {
<span class="cstat-no" title="statement not covered" >        self.error('control frames cannot have more than 125 bytes of data', 1002);</span>
      }
    },
    getData: <span class="fstat-no" title="function not covered" >function(length) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      if (self.state.masked) {</span>
<span class="cstat-no" title="statement not covered" >        self.expectHeader(4, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          var mask = data;</span>
<span class="cstat-no" title="statement not covered" >          self.expectData(length, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >            opcodes['9'].finish.call(self, mask, data);</span>
          });
        });
      }
      else {
<span class="cstat-no" title="statement not covered" >        self.expectData(length, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          opcodes['9'].finish.call(self, null, data);</span>
        });
      }
    },
    finish: <span class="fstat-no" title="function not covered" >function(mask, data) {</span>
<span class="cstat-no" title="statement not covered" >      this.onping(this.unmask(mask, data, true), {masked: this.state.masked, binary: true});</span>
<span class="cstat-no" title="statement not covered" >      this.endPacket();</span>
    }
  },
  // pong
  '10': {
    start: <span class="fstat-no" title="function not covered" >function(data) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      if (self.state.lastFragment == false) {</span>
<span class="cstat-no" title="statement not covered" >        self.error('fragmented pong is not supported', 1002);</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
&nbsp;
      // decode length
<span class="cstat-no" title="statement not covered" >      var firstLength = data[1] &amp; 0x7f;</span>
<span class="cstat-no" title="statement not covered" >      if (firstLength &lt; 126) {</span>
<span class="cstat-no" title="statement not covered" >        opcodes['10'].getData.call(self, firstLength);</span>
      }
      else {
<span class="cstat-no" title="statement not covered" >        self.error('control frames cannot have more than 125 bytes of data', 1002);</span>
      }
    },
    getData: <span class="fstat-no" title="function not covered" >function(length) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      if (this.state.masked) {</span>
<span class="cstat-no" title="statement not covered" >        this.expectHeader(4, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          var mask = data;</span>
<span class="cstat-no" title="statement not covered" >          self.expectData(length, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >            opcodes['10'].finish.call(self, mask, data);</span>
          });
        });
      }
      else {
<span class="cstat-no" title="statement not covered" >        this.expectData(length, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >          opcodes['10'].finish.call(self, null, data);</span>
        });
      }
    },
    finish: <span class="fstat-no" title="function not covered" >function(mask, data) {</span>
<span class="cstat-no" title="statement not covered" >      this.onpong(this.unmask(mask, data, true), {masked: this.state.masked, binary: true});</span>
<span class="cstat-no" title="statement not covered" >      this.endPacket();</span>
    }
  }
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Sender.hixie.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Sender.hixie.js</span></h1>
    <h2>
        
        Statements: <span class="metric">20.93% <small>(9 / 43)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 44)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">23.08% <small>(9 / 39)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; Sender.hixie.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
var events = require('events')
  , util = require('util')
  , EventEmitter = events.EventEmitter;
&nbsp;
/**
 * Hixie Sender implementation
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function Sender(socket) {</span>
<span class="cstat-no" title="statement not covered" >  this.socket = socket;</span>
<span class="cstat-no" title="statement not covered" >  this.continuationFrame = false;</span>
<span class="cstat-no" title="statement not covered" >  this.isClosed = false;</span>
}
&nbsp;
module.exports = Sender;
&nbsp;
/**
 * Inherits from EventEmitter.
 */
&nbsp;
util.inherits(Sender, events.EventEmitter);
&nbsp;
/**
 * Frames and writes data.
 *
 * @api public
 */
&nbsp;
Sender.prototype.send = <span class="fstat-no" title="function not covered" >function(data, options, cb) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.isClosed) <span class="cstat-no" title="statement not covered" >return;</span></span>
/*
  if (options &amp;&amp; options.binary) {
    this.error('hixie websockets do not support binary');
    return;
  }
*/
<span class="cstat-no" title="statement not covered" >  var isString = typeof data == 'string'</span>
    , length = isString ? Buffer.byteLength(data) : data.length
    , lengthbytes = (length &gt; 127) ? 2 : 1 // assume less than 2**14 bytes
    , writeStartMarker = this.continuationFrame == false
    , writeEndMarker = !options || !(typeof options.fin != 'undefined' &amp;&amp; !options.fin)
    , buffer = new Buffer((writeStartMarker ? ((options &amp;&amp; options.binary) ? (1 + lengthbytes) : 1) : 0) + length + ((writeEndMarker &amp;&amp; !(options &amp;&amp; options.binary)) ? 1 : 0))
    , offset = writeStartMarker ? 1 : 0;
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (writeStartMarker) {</span>
<span class="cstat-no" title="statement not covered" >    if (options &amp;&amp; options.binary) {</span>
<span class="cstat-no" title="statement not covered" >      buffer.write('\x80', 'binary');</span>
      // assume length less than 2**14 bytes
<span class="cstat-no" title="statement not covered" >      if (lengthbytes &gt; 1) </span>
<span class="cstat-no" title="statement not covered" >        buffer.write(String.fromCharCode(128+length/128), offset++, 'binary');</span>
<span class="cstat-no" title="statement not covered" >      buffer.write(String.fromCharCode(length&amp;0x7f), offset++, 'binary');</span>
    } else
<span class="cstat-no" title="statement not covered" >      buffer.write('\x00', 'binary');</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (isString) <span class="cstat-no" title="statement not covered" >buffer.write(data, offset, 'utf8');</span></span>
  else <span class="cstat-no" title="statement not covered" >data.copy(buffer, offset, 0);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (writeEndMarker) {</span>
<span class="cstat-no" title="statement not covered" >    if (options &amp;&amp; options.binary) {</span>
      // sending binary, not writing end marker
    } else 
<span class="cstat-no" title="statement not covered" >      buffer.write('\xff', offset + length, 'binary');</span>
<span class="cstat-no" title="statement not covered" >    this.continuationFrame = false;</span>
  }
  else <span class="cstat-no" title="statement not covered" >this.continuationFrame = true;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  try {</span>
<span class="cstat-no" title="statement not covered" >    this.socket.write(buffer, 'binary', cb);</span>
  } catch (e) {
<span class="cstat-no" title="statement not covered" >    this.error(e.toString());</span>
  }
}
&nbsp;
/**
 * Sends a close instruction to the remote party.
 *
 * @api public
 */
&nbsp;
Sender.prototype.close = <span class="fstat-no" title="function not covered" >function(code, data, mask, cb) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.isClosed) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  this.isClosed = true;</span>
<span class="cstat-no" title="statement not covered" >  try {</span>
<span class="cstat-no" title="statement not covered" >    if (this.continuationFrame) <span class="cstat-no" title="statement not covered" >this.socket.write(new Buffer([0xff], 'binary'));</span></span>
<span class="cstat-no" title="statement not covered" >    this.socket.write(new Buffer([0xff, 0x00]), 'binary', cb);</span>
  } catch (e) {
<span class="cstat-no" title="statement not covered" >    this.error(e.toString());</span>
  }
}
&nbsp;
/**
 * Sends a ping message to the remote party. Not available for hixie.
 *
 * @api public
 */
&nbsp;
Sender.prototype.ping = <span class="fstat-no" title="function not covered" >function(data, options) {</span>}
&nbsp;
/**
 * Sends a pong message to the remote party. Not available for hixie.
 *
 * @api public
 */
&nbsp;
Sender.prototype.pong = <span class="fstat-no" title="function not covered" >function(data, options) {</span>}
&nbsp;
/**
 * Handles an error
 *
 * @api private
 */
&nbsp;
Sender.prototype.error = <span class="fstat-no" title="function not covered" >function (reason) {</span>
<span class="cstat-no" title="statement not covered" >  this.emit('error', reason);</span>
<span class="cstat-no" title="statement not covered" >  return this;</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Sender.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Sender.js</span></h1>
    <h2>
        
        Statements: <span class="metric">11.61% <small>(13 / 112)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 88)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 10)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">12.5% <small>(13 / 104)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; Sender.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
var events = require('events')
  , util = require('util')
  , EventEmitter = events.EventEmitter
  , ErrorCodes = require('./ErrorCodes')
  , bufferUtil = require('./BufferUtil').BufferUtil;
&nbsp;
/**
 * HyBi Sender implementation
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function Sender(socket) {</span>
<span class="cstat-no" title="statement not covered" >  this._socket = socket;</span>
<span class="cstat-no" title="statement not covered" >  this.firstFragment = true;</span>
}
&nbsp;
/**
 * Inherits from EventEmitter.
 */
&nbsp;
util.inherits(Sender, events.EventEmitter);
&nbsp;
/**
 * Sends a close instruction to the remote party.
 *
 * @api public
 */
&nbsp;
Sender.prototype.close = <span class="fstat-no" title="function not covered" >function(code, data, mask) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof code !== 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof code !== 'number' ||</span>
      !ErrorCodes.isValidErrorCode(code)) <span class="cstat-no" title="statement not covered" >throw new Error('first argument must be a valid error code number');</span>
  }
<span class="cstat-no" title="statement not covered" >  code = code || 1000;</span>
<span class="cstat-no" title="statement not covered" >  var dataBuffer = new Buffer(2 + (data ? Buffer.byteLength(data) : 0));</span>
<span class="cstat-no" title="statement not covered" >  writeUInt16BE.call(dataBuffer, code, 0);</span>
<span class="cstat-no" title="statement not covered" >  if (dataBuffer.length &gt; 2) <span class="cstat-no" title="statement not covered" >dataBuffer.write(data, 2);</span></span>
<span class="cstat-no" title="statement not covered" >  this.frameAndSend(0x8, dataBuffer, true, mask);</span>
}
&nbsp;
/**
 * Sends a ping message to the remote party.
 *
 * @api public
 */
&nbsp;
Sender.prototype.ping = <span class="fstat-no" title="function not covered" >function(data, options) {</span>
<span class="cstat-no" title="statement not covered" >  var mask = options &amp;&amp; options.mask;</span>
<span class="cstat-no" title="statement not covered" >  this.frameAndSend(0x9, data || '', true, mask);</span>
}
&nbsp;
/**
 * Sends a pong message to the remote party.
 *
 * @api public
 */
&nbsp;
Sender.prototype.pong = <span class="fstat-no" title="function not covered" >function(data, options) {</span>
<span class="cstat-no" title="statement not covered" >  var mask = options &amp;&amp; options.mask;</span>
<span class="cstat-no" title="statement not covered" >  this.frameAndSend(0xa, data || '', true, mask);</span>
}
&nbsp;
/**
 * Sends text or binary data to the remote party.
 *
 * @api public
 */
&nbsp;
Sender.prototype.send = <span class="fstat-no" title="function not covered" >function(data, options, cb) {</span>
<span class="cstat-no" title="statement not covered" >  var finalFragment = options &amp;&amp; options.fin === false ? false : true;</span>
<span class="cstat-no" title="statement not covered" >  var mask = options &amp;&amp; options.mask;</span>
<span class="cstat-no" title="statement not covered" >  var opcode = options &amp;&amp; options.binary ? 2 : 1;</span>
<span class="cstat-no" title="statement not covered" >  if (this.firstFragment === false) <span class="cstat-no" title="statement not covered" >opcode = 0;</span></span>
  else <span class="cstat-no" title="statement not covered" >this.firstFragment = false;</span>
<span class="cstat-no" title="statement not covered" >  if (finalFragment) <span class="cstat-no" title="statement not covered" >this.firstFragment = true</span></span>
<span class="cstat-no" title="statement not covered" >  this.frameAndSend(opcode, data, finalFragment, mask, cb);</span>
}
&nbsp;
/**
 * Frames and sends a piece of data according to the HyBi WebSocket protocol.
 *
 * @api private
 */
&nbsp;
Sender.prototype.frameAndSend = <span class="fstat-no" title="function not covered" >function(opcode, data, finalFragment, maskData, cb) {</span>
<span class="cstat-no" title="statement not covered" >  var canModifyData = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!data) {</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      this._socket.write(new Buffer([opcode | (finalFragment ? 0x80 : 0), 0 | (maskData ? 0x80 : 0)].concat(maskData ? [0, 0, 0, 0] : [])), 'binary', cb);</span>
    }
    catch (e) {
<span class="cstat-no" title="statement not covered" >      if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(e);</span></span>
      else <span class="cstat-no" title="statement not covered" >this.emit('error', e);</span>
    }
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!Buffer.isBuffer(data)) {</span>
<span class="cstat-no" title="statement not covered" >    canModifyData = true;</span>
<span class="cstat-no" title="statement not covered" >    if (data &amp;&amp; (typeof data.byteLength !== 'undefined' || typeof data.buffer !== 'undefined')) {</span>
<span class="cstat-no" title="statement not covered" >      data = getArrayBuffer(data);</span>
    } else {
<span class="cstat-no" title="statement not covered" >      data = new Buffer(data);</span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var dataLength = data.length</span>
    , dataOffset = maskData ? 6 : 2
    , secondByte = dataLength;
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (dataLength &gt;= 65536) {</span>
<span class="cstat-no" title="statement not covered" >    dataOffset += 8;</span>
<span class="cstat-no" title="statement not covered" >    secondByte = 127;</span>
  }
  else <span class="cstat-no" title="statement not covered" >if (dataLength &gt; 125) {</span>
<span class="cstat-no" title="statement not covered" >    dataOffset += 2;</span>
<span class="cstat-no" title="statement not covered" >    secondByte = 126;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var mergeBuffers = dataLength &lt; 32768 || (maskData &amp;&amp; !canModifyData);</span>
<span class="cstat-no" title="statement not covered" >  var totalLength = mergeBuffers ? dataLength + dataOffset : dataOffset;</span>
<span class="cstat-no" title="statement not covered" >  var outputBuffer = new Buffer(totalLength);</span>
<span class="cstat-no" title="statement not covered" >  outputBuffer[0] = finalFragment ? opcode | 0x80 : opcode;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  switch (secondByte) {</span>
    case 126:
<span class="cstat-no" title="statement not covered" >      writeUInt16BE.call(outputBuffer, dataLength, 2);</span>
<span class="cstat-no" title="statement not covered" >      break;</span>
    case 127:
<span class="cstat-no" title="statement not covered" >      writeUInt32BE.call(outputBuffer, 0, 2);</span>
<span class="cstat-no" title="statement not covered" >      writeUInt32BE.call(outputBuffer, dataLength, 6);</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (maskData) {</span>
<span class="cstat-no" title="statement not covered" >    outputBuffer[1] = secondByte | 0x80;</span>
<span class="cstat-no" title="statement not covered" >    var mask = this._randomMask || (this._randomMask = getRandomMask());</span>
<span class="cstat-no" title="statement not covered" >    outputBuffer[dataOffset - 4] = mask[0];</span>
<span class="cstat-no" title="statement not covered" >    outputBuffer[dataOffset - 3] = mask[1];</span>
<span class="cstat-no" title="statement not covered" >    outputBuffer[dataOffset - 2] = mask[2];</span>
<span class="cstat-no" title="statement not covered" >    outputBuffer[dataOffset - 1] = mask[3];</span>
<span class="cstat-no" title="statement not covered" >    if (mergeBuffers) {</span>
<span class="cstat-no" title="statement not covered" >      bufferUtil.mask(data, mask, outputBuffer, dataOffset, dataLength);</span>
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        this._socket.write(outputBuffer, 'binary', cb);</span>
      }
      catch (e) {
<span class="cstat-no" title="statement not covered" >        if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(e);</span></span>
        else <span class="cstat-no" title="statement not covered" >this.emit('error', e);</span>
      }
    }
    else {
<span class="cstat-no" title="statement not covered" >      bufferUtil.mask(data, mask, data, 0, dataLength);</span>
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        this._socket.write(outputBuffer, 'binary');</span>
<span class="cstat-no" title="statement not covered" >        this._socket.write(data, 'binary', cb);</span>
      }
      catch (e) {
<span class="cstat-no" title="statement not covered" >        if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(e);</span></span>
        else <span class="cstat-no" title="statement not covered" >this.emit('error', e);</span>
      }
    }
  }
  else {
<span class="cstat-no" title="statement not covered" >    outputBuffer[1] = secondByte;</span>
<span class="cstat-no" title="statement not covered" >    if (mergeBuffers) {</span>
<span class="cstat-no" title="statement not covered" >      data.copy(outputBuffer, dataOffset);</span>
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        this._socket.write(outputBuffer, 'binary', cb);</span>
      }
      catch (e) {
<span class="cstat-no" title="statement not covered" >        if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(e);</span></span>
        else <span class="cstat-no" title="statement not covered" >this.emit('error', e);</span>
      }
    }
    else {
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        this._socket.write(outputBuffer, 'binary');</span>
<span class="cstat-no" title="statement not covered" >        this._socket.write(data, 'binary', cb);</span>
      }
      catch (e) {
<span class="cstat-no" title="statement not covered" >        if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(e);</span></span>
        else <span class="cstat-no" title="statement not covered" >this.emit('error', e);</span>
      }
    }
  }
}
&nbsp;
module.exports = Sender;
&nbsp;
<span class="fstat-no" title="function not covered" >function writeUInt16BE(value, offset) {</span>
<span class="cstat-no" title="statement not covered" >  this[offset] = (value &amp; 0xff00)&gt;&gt;8;</span>
<span class="cstat-no" title="statement not covered" >  this[offset+1] = value &amp; 0xff;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function writeUInt32BE(value, offset) {</span>
<span class="cstat-no" title="statement not covered" >  this[offset] = (value &amp; 0xff000000)&gt;&gt;24;</span>
<span class="cstat-no" title="statement not covered" >  this[offset+1] = (value &amp; 0xff0000)&gt;&gt;16;</span>
<span class="cstat-no" title="statement not covered" >  this[offset+2] = (value &amp; 0xff00)&gt;&gt;8;</span>
<span class="cstat-no" title="statement not covered" >  this[offset+3] = value &amp; 0xff;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function getArrayBuffer(data) {</span>
  // data is either an ArrayBuffer or ArrayBufferView.
<span class="cstat-no" title="statement not covered" >  var array = new Uint8Array(data.buffer || data)</span>
    , l = data.byteLength || data.length
    , o = data.byteOffset || 0
    , buffer = new Buffer(l);
<span class="cstat-no" title="statement not covered" >  for (var i = 0; i &lt; l; ++i) {</span>
<span class="cstat-no" title="statement not covered" >    buffer[i] = array[o+i];</span>
  }
<span class="cstat-no" title="statement not covered" >  return buffer;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function getRandomMask() {</span>
<span class="cstat-no" title="statement not covered" >  return new Buffer([</span>
    ~~(Math.random() * 255),
    ~~(Math.random() * 255),
    ~~(Math.random() * 255),
    ~~(Math.random() * 255)
  ]);
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Validation.fallback.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header medium">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Validation.fallback.js</span></h1>
    <h2>
        
        Statements: <span class="metric">50% <small>(1 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">50% <small>(1 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; Validation.fallback.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
 
module.exports.Validation = {
  isValidUTF8: <span class="fstat-no" title="function not covered" >function(buffer) {</span>
<span class="cstat-no" title="statement not covered" >    return true;</span>
  }
};
&nbsp;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Validation.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header medium">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/Validation.js</span></h1>
    <h2>
        
        Statements: <span class="metric">75% <small>(6 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">75% <small>(6 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; Validation.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
try {
  module.exports = require('../build/Release/validation');
} catch (e) { try {
  module.exports = require('../build/default/validation');
} catch (e) { try {
  module.exports = require('./Validation.fallback');
} catch (e) {
<span class="cstat-no" title="statement not covered" >  console.error('validation.node seems to not have been built. Run npm install.');</span>
<span class="cstat-no" title="statement not covered" >  throw e;</span>
}}}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/WebSocket.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/WebSocket.js</span></h1>
    <h2>
        
        Statements: <span class="metric">8.94% <small>(38 / 425)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 282)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">3.92% <small>(2 / 51)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">9.9% <small>(38 / 384)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; WebSocket.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
var util = require('util')
  , events = require('events')
  , http = require('http')
  , https = require('https')
  , crypto = require('crypto')
  , url = require('url')
  , fs = require('fs')
  , Options = require('../options')
  , Sender = require('./Sender')
  , Receiver = require('./Receiver')
  , SenderHixie = require('./Sender.hixie')
  , ReceiverHixie = require('./Receiver.hixie');
&nbsp;
/**
 * Constants
 */
&nbsp;
// Default protocol version
&nbsp;
var protocolVersion = 13;
&nbsp;
// Close timeout
&nbsp;
var closeTimeout = 30000; // Allow 5 seconds to terminate the connection cleanly
&nbsp;
/**
 * Node version 0.4 and 0.6 compatibility
 */
&nbsp;
var isNodeV4 = /^v0\.4/.test(process.version);
&nbsp;
/**
 * WebSocket implementation
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function WebSocket(address, protocols, options) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (protocols &amp;&amp; !Array.isArray(protocols) &amp;&amp; 'object' == typeof protocols) {</span>
    // accept the "options" Object as the 2nd argument
<span class="cstat-no" title="statement not covered" >    options = protocols;</span>
<span class="cstat-no" title="statement not covered" >    protocols = null;</span>
  }
<span class="cstat-no" title="statement not covered" >  if ('string' == typeof protocols) {</span>
<span class="cstat-no" title="statement not covered" >    protocols = [ protocols ];</span>
  }
<span class="cstat-no" title="statement not covered" >  if (!Array.isArray(protocols)) {</span>
<span class="cstat-no" title="statement not covered" >    protocols = [];</span>
  }
  // TODO: actually handle the `Sub-Protocols` part of the WebSocket client
&nbsp;
<span class="cstat-no" title="statement not covered" >  this._socket = null;</span>
<span class="cstat-no" title="statement not covered" >  this.bytesReceived = 0;</span>
<span class="cstat-no" title="statement not covered" >  this.readyState = null;</span>
<span class="cstat-no" title="statement not covered" >  this.supports = {};</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (Array.isArray(address)) {</span>
<span class="cstat-no" title="statement not covered" >    initAsServerClient.apply(this, address.concat(options));</span>
  } else {
<span class="cstat-no" title="statement not covered" >    initAsClient.apply(this, [address, protocols, options]);</span>
  }
}
&nbsp;
/**
 * Inherits from EventEmitter.
 */
&nbsp;
util.inherits(WebSocket, events.EventEmitter);
&nbsp;
/**
 * Ready States
 */
&nbsp;
["CONNECTING", "OPEN", "CLOSING", "CLOSED"].forEach(function (state, index) {
    WebSocket.prototype[state] = WebSocket[state] = index;
});
&nbsp;
/**
 * Gracefully closes the connection, after sending a description message to the server
 *
 * @param {Object} data to be sent to the server
 * @api public
 */
&nbsp;
WebSocket.prototype.close = <span class="fstat-no" title="function not covered" >function(code, data) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.readyState == WebSocket.CLOSING || this.readyState == WebSocket.CLOSED) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  if (this.readyState == WebSocket.CONNECTING) {</span>
<span class="cstat-no" title="statement not covered" >    this.readyState = WebSocket.CLOSED;</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  try {</span>
<span class="cstat-no" title="statement not covered" >    this.readyState = WebSocket.CLOSING;</span>
<span class="cstat-no" title="statement not covered" >    this._closeCode = code;</span>
<span class="cstat-no" title="statement not covered" >    this._closeMessage = data;</span>
<span class="cstat-no" title="statement not covered" >    var mask = !this._isServer;</span>
<span class="cstat-no" title="statement not covered" >    this._sender.close(code, data, mask);</span>
  }
  catch (e) {
<span class="cstat-no" title="statement not covered" >    this.emit('error', e);</span>
  }
  finally {
<span class="cstat-no" title="statement not covered" >    this.terminate();</span>
  }
}
&nbsp;
/**
 * Pause the client stream
 *
 * @api public
 */
&nbsp;
WebSocket.prototype.pause = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (this.readyState != WebSocket.OPEN) <span class="cstat-no" title="statement not covered" >throw new Error('not opened');</span></span>
<span class="cstat-no" title="statement not covered" >  return this._socket.pause();</span>
}
&nbsp;
/**
 * Sends a ping
 *
 * @param {Object} data to be sent to the server
 * @param {Object} Members - mask: boolean, binary: boolean
 * @param {boolean} dontFailWhenClosed indicates whether or not to throw if the connection isnt open
 * @api public
 */
&nbsp;
WebSocket.prototype.ping = <span class="fstat-no" title="function not covered" >function(data, options, dontFailWhenClosed) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.readyState != WebSocket.OPEN) {</span>
<span class="cstat-no" title="statement not covered" >    if (dontFailWhenClosed === true) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    throw new Error('not opened');</span>
  }
<span class="cstat-no" title="statement not covered" >  options = options || {};</span>
<span class="cstat-no" title="statement not covered" >  if (typeof options.mask == 'undefined') <span class="cstat-no" title="statement not covered" >options.mask = !this._isServer;</span></span>
<span class="cstat-no" title="statement not covered" >  this._sender.ping(data, options);</span>
}
&nbsp;
/**
 * Sends a pong
 *
 * @param {Object} data to be sent to the server
 * @param {Object} Members - mask: boolean, binary: boolean
 * @param {boolean} dontFailWhenClosed indicates whether or not to throw if the connection isnt open
 * @api public
 */
&nbsp;
WebSocket.prototype.pong = <span class="fstat-no" title="function not covered" >function(data, options, dontFailWhenClosed) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.readyState != WebSocket.OPEN) {</span>
<span class="cstat-no" title="statement not covered" >    if (dontFailWhenClosed === true) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    throw new Error('not opened');</span>
  }
<span class="cstat-no" title="statement not covered" >  options = options || {};</span>
<span class="cstat-no" title="statement not covered" >  if (typeof options.mask == 'undefined') <span class="cstat-no" title="statement not covered" >options.mask = !this._isServer;</span></span>
<span class="cstat-no" title="statement not covered" >  this._sender.pong(data, options);</span>
}
&nbsp;
/**
 * Resume the client stream
 *
 * @api public
 */
&nbsp;
WebSocket.prototype.resume = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (this.readyState != WebSocket.OPEN) <span class="cstat-no" title="statement not covered" >throw new Error('not opened');</span></span>
<span class="cstat-no" title="statement not covered" >  return this._socket.resume();</span>
}
&nbsp;
/**
 * Sends a piece of data
 *
 * @param {Object} data to be sent to the server
 * @param {Object} Members - mask: boolean, binary: boolean
 * @param {function} Optional callback which is executed after the send completes
 * @api public
 */
&nbsp;
WebSocket.prototype.send = <span class="fstat-no" title="function not covered" >function(data, options, cb) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof options == 'function') {</span>
<span class="cstat-no" title="statement not covered" >    cb = options;</span>
<span class="cstat-no" title="statement not covered" >    options = {};</span>
  }
<span class="cstat-no" title="statement not covered" >  if (this.readyState != WebSocket.OPEN) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(new Error('not opened'));</span></span>
    else <span class="cstat-no" title="statement not covered" >throw new Error('not opened');</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  if (!data) <span class="cstat-no" title="statement not covered" >data = '';</span></span>
<span class="cstat-no" title="statement not covered" >  if (this._queue) {</span>
<span class="cstat-no" title="statement not covered" >    var self = this;</span>
<span class="cstat-no" title="statement not covered" >    this._queue.push(<span class="fstat-no" title="function not covered" >function() {</span> <span class="cstat-no" title="statement not covered" >self.send(data, options, cb); </span>});</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  options = options || {};</span>
<span class="cstat-no" title="statement not covered" >  options.fin = true;</span>
<span class="cstat-no" title="statement not covered" >  if (typeof options.binary == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >    options.binary = (data instanceof ArrayBuffer || data instanceof Buffer ||</span>
      data instanceof Uint8Array ||
      data instanceof Uint16Array ||
      data instanceof Uint32Array ||
      data instanceof Int8Array ||
      data instanceof Int16Array ||
      data instanceof Int32Array ||
      data instanceof Float32Array ||
      data instanceof Float64Array);
  }
<span class="cstat-no" title="statement not covered" >  if (typeof options.mask == 'undefined') <span class="cstat-no" title="statement not covered" >options.mask = !this._isServer;</span></span>
<span class="cstat-no" title="statement not covered" >  if (data instanceof fs.ReadStream) {</span>
<span class="cstat-no" title="statement not covered" >    startQueue(this);</span>
<span class="cstat-no" title="statement not covered" >    var self = this;</span>
<span class="cstat-no" title="statement not covered" >    sendStream(this, data, options, <span class="fstat-no" title="function not covered" >function(error) {</span></span>
<span class="cstat-no" title="statement not covered" >      process.nextTick(<span class="fstat-no" title="function not covered" >function() {</span> <span class="cstat-no" title="statement not covered" >executeQueueSends(self); </span>});</span>
<span class="cstat-no" title="statement not covered" >      if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(error);</span></span>
    });
  }
  else <span class="cstat-no" title="statement not covered" >this._sender.send(data, options, cb);</span>
}
&nbsp;
/**
 * Streams data through calls to a user supplied function
 *
 * @param {Object} Members - mask: boolean, binary: boolean
 * @param {function} 'function (error, send)' which is executed on successive ticks of which send is 'function (data, final)'.
 * @api public
 */
&nbsp;
WebSocket.prototype.stream = <span class="fstat-no" title="function not covered" >function(options, cb) {</span>
<span class="cstat-no" title="statement not covered" >  if (typeof options == 'function') {</span>
<span class="cstat-no" title="statement not covered" >    cb = options;</span>
<span class="cstat-no" title="statement not covered" >    options = {};</span>
  }
<span class="cstat-no" title="statement not covered" >  var self = this;</span>
<span class="cstat-no" title="statement not covered" >  if (typeof cb != 'function') <span class="cstat-no" title="statement not covered" >throw new Error('callback must be provided');</span></span>
<span class="cstat-no" title="statement not covered" >  if (this.readyState != WebSocket.OPEN) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(new Error('not opened'));</span></span>
    else <span class="cstat-no" title="statement not covered" >throw new Error('not opened');</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  if (this._queue) {</span>
<span class="cstat-no" title="statement not covered" >    this._queue.push(<span class="fstat-no" title="function not covered" >function() {</span> <span class="cstat-no" title="statement not covered" >self.stream(options, cb); </span>});</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
<span class="cstat-no" title="statement not covered" >  options = options || {};</span>
<span class="cstat-no" title="statement not covered" >  if (typeof options.mask == 'undefined') <span class="cstat-no" title="statement not covered" >options.mask = !this._isServer;</span></span>
<span class="cstat-no" title="statement not covered" >  startQueue(this);</span>
<span class="cstat-no" title="statement not covered" >  var send = <span class="fstat-no" title="function not covered" >function(data, final) {</span></span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      if (self.readyState != WebSocket.OPEN) <span class="cstat-no" title="statement not covered" >throw new Error('not opened');</span></span>
<span class="cstat-no" title="statement not covered" >      options.fin = final === true;</span>
<span class="cstat-no" title="statement not covered" >      self._sender.send(data, options);</span>
<span class="cstat-no" title="statement not covered" >      if (!final) <span class="cstat-no" title="statement not covered" >process.nextTick(cb.bind(null, null, send));</span></span>
      else <span class="cstat-no" title="statement not covered" >executeQueueSends(self);</span>
    }
    catch (e) {
<span class="cstat-no" title="statement not covered" >      if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(e);</span></span>
      else {
<span class="cstat-no" title="statement not covered" >        delete self._queue;</span>
<span class="cstat-no" title="statement not covered" >        self.emit('error', e);</span>
      }
    }
  }
<span class="cstat-no" title="statement not covered" >  process.nextTick(cb.bind(null, null, send));</span>
}
&nbsp;
/**
 * Immediately shuts down the connection
 *
 * @api public
 */
&nbsp;
WebSocket.prototype.terminate = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >  if (this.readyState == WebSocket.CLOSED) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  if (this._socket) {</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
      // End the connection
<span class="cstat-no" title="statement not covered" >      this._socket.end();</span>
    }
    catch (e) {
      // Socket error during end() call, so just destroy it right now
<span class="cstat-no" title="statement not covered" >      cleanupWebsocketResources.call(this, true);</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
    // Add a timeout to ensure that the connection is completely
    // cleaned up within 30 seconds, even if the clean close procedure
    // fails for whatever reason
<span class="cstat-no" title="statement not covered" >    this._closeTimer = setTimeout(cleanupWebsocketResources.bind(this, true), closeTimeout);</span>
  }
  else <span class="cstat-no" title="statement not covered" >if (this.readyState == WebSocket.CONNECTING) {</span>
<span class="cstat-no" title="statement not covered" >    cleanupWebsocketResources.call(this, true);</span>
  }
};
&nbsp;
/**
 * Expose bufferedAmount
 *
 * @api public
 */
&nbsp;
Object.defineProperty(WebSocket.prototype, 'bufferedAmount', {
  get: <span class="fstat-no" title="function not covered" >function get() {</span>
<span class="cstat-no" title="statement not covered" >    var amount = 0;</span>
<span class="cstat-no" title="statement not covered" >    if (this._socket) {</span>
<span class="cstat-no" title="statement not covered" >      amount = this._socket.bufferSize || 0;</span>
    }
<span class="cstat-no" title="statement not covered" >    return amount;</span>
  }
});
&nbsp;
/**
 * Emulates the W3C Browser based WebSocket interface using function members.
 *
 * @see http://dev.w3.org/html5/websockets/#the-websocket-interface
 * @api public
 */
&nbsp;
['open', 'error', 'close', 'message'].forEach(function(method) {
  Object.defineProperty(WebSocket.prototype, 'on' + method, {
    /**
     * Returns the current listener
     *
     * @returns {Mixed} the set function or undefined
     * @api public
     */
&nbsp;
    get: <span class="fstat-no" title="function not covered" >function get() {</span>
<span class="cstat-no" title="statement not covered" >      var listener = this.listeners(method)[0];</span>
<span class="cstat-no" title="statement not covered" >      return listener ? (listener._listener ? listener._listener : listener) : undefined;</span>
    },
&nbsp;
    /**
     * Start listening for events
     *
     * @param {Function} listener the listener
     * @returns {Mixed} the set function or undefined
     * @api public
     */
&nbsp;
    set: <span class="fstat-no" title="function not covered" >function set(listener) {</span>
<span class="cstat-no" title="statement not covered" >      this.removeAllListeners(method);</span>
<span class="cstat-no" title="statement not covered" >      this.addEventListener(method, listener);</span>
    }
  });
});
&nbsp;
/**
 * Emulates the W3C Browser based WebSocket interface using addEventListener.
 *
 * @see https://developer.mozilla.org/en/DOM/element.addEventListener
 * @see http://dev.w3.org/html5/websockets/#the-websocket-interface
 * @api public
 */
WebSocket.prototype.addEventListener = <span class="fstat-no" title="function not covered" >function(method, listener) {</span>
<span class="cstat-no" title="statement not covered" >  var target = this;</span>
<span class="cstat-no" title="statement not covered" >  if (typeof listener === 'function') {</span>
<span class="cstat-no" title="statement not covered" >    if (method === 'message') {</span>
<span class="fstat-no" title="function not covered" >      function onMessage (data, flags) {</span>
<span class="cstat-no" title="statement not covered" >        listener.call(this, new MessageEvent(data, flags.binary ? 'Binary' : 'Text', target));</span>
      }
      // store a reference so we can return the original function from the addEventListener hook
<span class="cstat-no" title="statement not covered" >      onMessage._listener = listener;</span>
<span class="cstat-no" title="statement not covered" >      this.on(method, onMessage);</span>
    } else <span class="cstat-no" title="statement not covered" >if (method === 'close') {</span>
<span class="fstat-no" title="function not covered" >      function onClose (code, message) {</span>
<span class="cstat-no" title="statement not covered" >        listener.call(this, new CloseEvent(code, message, target));</span>
      }
      // store a reference so we can return the original function from the addEventListener hook
<span class="cstat-no" title="statement not covered" >      onClose._listener = listener;</span>
<span class="cstat-no" title="statement not covered" >      this.on(method, onClose);</span>
    } else <span class="cstat-no" title="statement not covered" >if (method === 'error') {</span>
<span class="fstat-no" title="function not covered" >      function onError (event) {</span>
<span class="cstat-no" title="statement not covered" >        event.target = target;</span>
<span class="cstat-no" title="statement not covered" >        listener.call(this, event);</span>
      }
      // store a reference so we can return the original function from the addEventListener hook
<span class="cstat-no" title="statement not covered" >      onError._listener = listener;</span>
<span class="cstat-no" title="statement not covered" >      this.on(method, onError);</span>
    } else <span class="cstat-no" title="statement not covered" >if (method === 'open') {</span>
<span class="fstat-no" title="function not covered" >      function onOpen () {</span>
<span class="cstat-no" title="statement not covered" >        listener.call(this, new OpenEvent(target));</span>
      }
      // store a reference so we can return the original function from the addEventListener hook
<span class="cstat-no" title="statement not covered" >      onOpen._listener = listener;</span>
<span class="cstat-no" title="statement not covered" >      this.on(method, onOpen);</span>
    } else {
<span class="cstat-no" title="statement not covered" >      this.on(method, listener);</span>
    }
  }
}
&nbsp;
module.exports = WebSocket;
&nbsp;
/**
 * W3C MessageEvent
 *
 * @see http://www.w3.org/TR/html5/comms.html
 * @api private
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function MessageEvent(dataArg, typeArg, target) {</span>
<span class="cstat-no" title="statement not covered" >  this.data = dataArg;</span>
<span class="cstat-no" title="statement not covered" >  this.type = typeArg;</span>
<span class="cstat-no" title="statement not covered" >  this.target = target;</span>
}
&nbsp;
/**
 * W3C CloseEvent
 *
 * @see http://www.w3.org/TR/html5/comms.html
 * @api private
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function CloseEvent(code, reason, target) {</span>
<span class="cstat-no" title="statement not covered" >  this.wasClean = (typeof code == 'undefined' || code == 1000);</span>
<span class="cstat-no" title="statement not covered" >  this.code = code;</span>
<span class="cstat-no" title="statement not covered" >  this.reason = reason;</span>
<span class="cstat-no" title="statement not covered" >  this.target = target;</span>
}
&nbsp;
/**
 * W3C OpenEvent
 *
 * @see http://www.w3.org/TR/html5/comms.html
 * @api private
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function OpenEvent(target) {</span>
<span class="cstat-no" title="statement not covered" >  this.target = target;</span>
}
&nbsp;
/**
 * Entirely private apis,
 * which may or may not be bound to a sepcific WebSocket instance.
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function initAsServerClient(req, socket, upgradeHead, options) {</span>
<span class="cstat-no" title="statement not covered" >  options = new Options({</span>
    protocolVersion: protocolVersion,
    protocol: null
  }).merge(options);
&nbsp;
  // expose state properties
<span class="cstat-no" title="statement not covered" >  this.protocol = options.value.protocol;</span>
<span class="cstat-no" title="statement not covered" >  this.protocolVersion = options.value.protocolVersion;</span>
<span class="cstat-no" title="statement not covered" >  this.supports.binary = (this.protocolVersion != 'hixie-76');</span>
<span class="cstat-no" title="statement not covered" >  this.upgradeReq = req;</span>
<span class="cstat-no" title="statement not covered" >  this.readyState = WebSocket.CONNECTING;</span>
<span class="cstat-no" title="statement not covered" >  this._isServer = true;</span>
&nbsp;
  // establish connection
<span class="cstat-no" title="statement not covered" >  if (options.value.protocolVersion == 'hixie-76') <span class="cstat-no" title="statement not covered" >establishConnection.call(this, ReceiverHixie, SenderHixie, socket, upgradeHead);</span></span>
  else <span class="cstat-no" title="statement not covered" >establishConnection.call(this, Receiver, Sender, socket, upgradeHead);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function initAsClient(address, protocols, options) {</span>
<span class="cstat-no" title="statement not covered" >  options = new Options({</span>
    origin: null,
    protocolVersion: protocolVersion,
    host: null,
    headers: null,
    protocol: null,
    agent: null,
&nbsp;
    // ssl-related options
    pfx: null,
    key: null,
    passphrase: null,
    cert: null,
    ca: null,
    ciphers: null,
    rejectUnauthorized: null
  }).merge(options);
<span class="cstat-no" title="statement not covered" >  if (options.value.protocolVersion != 8 &amp;&amp; options.value.protocolVersion != 13) {</span>
<span class="cstat-no" title="statement not covered" >    throw new Error('unsupported protocol version');</span>
  }
&nbsp;
  // verify url and establish http class
<span class="cstat-no" title="statement not covered" >  var serverUrl = url.parse(address);</span>
<span class="cstat-no" title="statement not covered" >  var isUnixSocket = serverUrl.protocol === 'ws+unix:';</span>
<span class="cstat-no" title="statement not covered" >  if (!serverUrl.host &amp;&amp; !isUnixSocket) <span class="cstat-no" title="statement not covered" >throw new Error('invalid url');</span></span>
<span class="cstat-no" title="statement not covered" >  var isSecure = serverUrl.protocol === 'wss:' || serverUrl.protocol === 'https:';</span>
<span class="cstat-no" title="statement not covered" >  var httpObj = isSecure ? https : http;</span>
<span class="cstat-no" title="statement not covered" >  var port = serverUrl.port || (isSecure ? 443 : 80);</span>
<span class="cstat-no" title="statement not covered" >  var auth = serverUrl.auth;</span>
&nbsp;
  // expose state properties
<span class="cstat-no" title="statement not covered" >  this._isServer = false;</span>
<span class="cstat-no" title="statement not covered" >  this.url = address;</span>
<span class="cstat-no" title="statement not covered" >  this.protocolVersion = options.value.protocolVersion;</span>
<span class="cstat-no" title="statement not covered" >  this.supports.binary = (this.protocolVersion != 'hixie-76');</span>
&nbsp;
  // begin handshake
<span class="cstat-no" title="statement not covered" >  var key = new Buffer(options.value.protocolVersion + '-' + Date.now()).toString('base64');</span>
<span class="cstat-no" title="statement not covered" >  var shasum = crypto.createHash('sha1');</span>
<span class="cstat-no" title="statement not covered" >  shasum.update(key + '258EAFA5-E914-47DA-95CA-C5AB0DC85B11');</span>
<span class="cstat-no" title="statement not covered" >  var expectedServerKey = shasum.digest('base64');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  var agent = options.value.agent;</span>
  // node&lt;=v0.4.x compatibility
<span class="cstat-no" title="statement not covered" >  if (!agent &amp;&amp; isNodeV4) {</span>
<span class="cstat-no" title="statement not covered" >    isNodeV4 = true;</span>
<span class="cstat-no" title="statement not covered" >    agent = new httpObj.Agent({</span>
      host: serverUrl.hostname,
      port: port
    });
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var headerHost = serverUrl.hostname;</span>
  // Append port number to Host and Origin header, only if specified in the url and non-default
<span class="cstat-no" title="statement not covered" >  if(serverUrl.port) {</span>
<span class="cstat-no" title="statement not covered" >    if((isSecure &amp;&amp; (port != 443)) || (!isSecure &amp;&amp; (port != 80))){</span>
<span class="cstat-no" title="statement not covered" >      headerHost = headerHost + ':' + port;</span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var requestOptions = {</span>
    port: port,
    host: serverUrl.hostname,
    headers: {
      'Connection': 'Upgrade',
      'Upgrade': 'websocket',
      'Host': headerHost,
      'Origin': headerHost,
      'Sec-WebSocket-Version': options.value.protocolVersion,
      'Sec-WebSocket-Key': key
    }
  };
&nbsp;
  // If we have basic auth.
<span class="cstat-no" title="statement not covered" >  if (auth) {</span>
<span class="cstat-no" title="statement not covered" >    requestOptions.headers['Authorization'] = 'Basic ' + new Buffer(auth).toString('base64');</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (options.value.protocol) {</span>
<span class="cstat-no" title="statement not covered" >    requestOptions.headers['Sec-WebSocket-Protocol'] = options.value.protocol;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (options.value.host) {</span>
<span class="cstat-no" title="statement not covered" >    requestOptions.headers['Host'] = options.value.host;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (options.value.headers) {</span>
<span class="cstat-no" title="statement not covered" >    for (var header in options.value.headers) {</span>
<span class="cstat-no" title="statement not covered" >       if (options.value.headers.hasOwnProperty(header)) {</span>
<span class="cstat-no" title="statement not covered" >        requestOptions.headers[header] = options.value.headers[header];</span>
       }
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (options.isDefinedAndNonNull('pfx')</span>
   || options.isDefinedAndNonNull('key')
   || options.isDefinedAndNonNull('passphrase')
   || options.isDefinedAndNonNull('cert')
   || options.isDefinedAndNonNull('ca')
   || options.isDefinedAndNonNull('ciphers')
   || options.isDefinedAndNonNull('rejectUnauthorized')) {
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (isNodeV4) {</span>
<span class="cstat-no" title="statement not covered" >      throw new Error('Client side certificates are not supported on Node 0.4.x');</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (options.isDefinedAndNonNull('pfx')) <span class="cstat-no" title="statement not covered" >requestOptions.pfx = options.value.pfx;</span></span>
<span class="cstat-no" title="statement not covered" >    if (options.isDefinedAndNonNull('key')) <span class="cstat-no" title="statement not covered" >requestOptions.key = options.value.key;</span></span>
<span class="cstat-no" title="statement not covered" >    if (options.isDefinedAndNonNull('passphrase')) <span class="cstat-no" title="statement not covered" >requestOptions.passphrase = options.value.passphrase;</span></span>
<span class="cstat-no" title="statement not covered" >    if (options.isDefinedAndNonNull('cert')) <span class="cstat-no" title="statement not covered" >requestOptions.cert = options.value.cert;</span></span>
<span class="cstat-no" title="statement not covered" >    if (options.isDefinedAndNonNull('ca')) <span class="cstat-no" title="statement not covered" >requestOptions.ca = options.value.ca;</span></span>
<span class="cstat-no" title="statement not covered" >    if (options.isDefinedAndNonNull('ciphers')) <span class="cstat-no" title="statement not covered" >requestOptions.ciphers = options.value.ciphers;</span></span>
<span class="cstat-no" title="statement not covered" >    if (options.isDefinedAndNonNull('rejectUnauthorized')) <span class="cstat-no" title="statement not covered" >requestOptions.rejectUnauthorized = options.value.rejectUnauthorized;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!agent) {</span>
        // global agent ignores client side certificates
<span class="cstat-no" title="statement not covered" >        agent = new httpObj.Agent(requestOptions);</span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (isNodeV4) {</span>
<span class="cstat-no" title="statement not covered" >    requestOptions.path = (serverUrl.pathname || '/') + (serverUrl.search || '');</span>
  }
  else <span class="cstat-no" title="statement not covered" >requestOptions.path = serverUrl.path || '/';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (agent) {</span>
<span class="cstat-no" title="statement not covered" >    requestOptions.agent = agent;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (isUnixSocket) {</span>
<span class="cstat-no" title="statement not covered" >    requestOptions.socketPath = serverUrl.pathname;</span>
  }
<span class="cstat-no" title="statement not covered" >  if (options.value.origin) {</span>
<span class="cstat-no" title="statement not covered" >    if (options.value.protocolVersion &lt; 13) <span class="cstat-no" title="statement not covered" >requestOptions.headers['Sec-WebSocket-Origin'] = options.value.origin;</span></span>
    else <span class="cstat-no" title="statement not covered" >requestOptions.headers['Origin'] = options.value.origin;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var self = this;</span>
<span class="cstat-no" title="statement not covered" >  var req = httpObj.request(requestOptions);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  (isNodeV4 ? agent : req).on('error', <span class="fstat-no" title="function not covered" >function(error) {</span></span>
<span class="cstat-no" title="statement not covered" >    self.emit('error', error);</span>
<span class="cstat-no" title="statement not covered" >    cleanupWebsocketResources.call(this, error);</span>
  });
<span class="cstat-no" title="statement not covered" >  (isNodeV4 ? agent : req).once('response', <span class="fstat-no" title="function not covered" >function(res) {</span></span>
<span class="cstat-no" title="statement not covered" >    var error = new Error('unexpected server response (' + res.statusCode + ')');</span>
<span class="cstat-no" title="statement not covered" >    self.emit('error', error);</span>
<span class="cstat-no" title="statement not covered" >    cleanupWebsocketResources.call(this, error);</span>
  });
<span class="cstat-no" title="statement not covered" >  (isNodeV4 ? agent : req).once('upgrade', <span class="fstat-no" title="function not covered" >function(res, socket, upgradeHead) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (self.readyState == WebSocket.CLOSED) {</span>
      // client closed before server accepted connection
<span class="cstat-no" title="statement not covered" >      self.emit('close');</span>
<span class="cstat-no" title="statement not covered" >      removeAllListeners(self);</span>
<span class="cstat-no" title="statement not covered" >      socket.end();</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    var serverKey = res.headers['sec-websocket-accept'];</span>
<span class="cstat-no" title="statement not covered" >    if (typeof serverKey == 'undefined' || serverKey !== expectedServerKey) {</span>
<span class="cstat-no" title="statement not covered" >      self.emit('error', 'invalid server key');</span>
<span class="cstat-no" title="statement not covered" >      removeAllListeners(self);</span>
<span class="cstat-no" title="statement not covered" >      socket.end();</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var serverProt = res.headers['sec-websocket-protocol'];</span>
<span class="cstat-no" title="statement not covered" >    var protList = (options.value.protocol || "").split(/, */);</span>
<span class="cstat-no" title="statement not covered" >    var protError = null;</span>
<span class="cstat-no" title="statement not covered" >    if (!options.value.protocol &amp;&amp; serverProt) {</span>
<span class="cstat-no" title="statement not covered" >        protError = 'server sent a subprotocol even though none requested';</span>
    } else <span class="cstat-no" title="statement not covered" >if (options.value.protocol &amp;&amp; !serverProt) {</span>
<span class="cstat-no" title="statement not covered" >        protError = 'server sent no subprotocol even though requested';</span>
    } else <span class="cstat-no" title="statement not covered" >if (serverProt &amp;&amp; protList.indexOf(serverProt) === -1) {</span>
<span class="cstat-no" title="statement not covered" >        protError = 'server responded with an invalid protocol';</span>
    }
<span class="cstat-no" title="statement not covered" >    if (protError) {</span>
<span class="cstat-no" title="statement not covered" >        self.emit('error', protError);</span>
<span class="cstat-no" title="statement not covered" >        removeAllListeners(self);</span>
<span class="cstat-no" title="statement not covered" >        socket.end();</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    } else <span class="cstat-no" title="statement not covered" >if (serverProt) {</span>
<span class="cstat-no" title="statement not covered" >        self.protocol = serverProt;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    establishConnection.call(self, Receiver, Sender, socket, upgradeHead);</span>
&nbsp;
    // perform cleanup on http resources
<span class="cstat-no" title="statement not covered" >    removeAllListeners(isNodeV4 ? agent : req);</span>
<span class="cstat-no" title="statement not covered" >    req = null;</span>
<span class="cstat-no" title="statement not covered" >    agent = null;</span>
  });
&nbsp;
<span class="cstat-no" title="statement not covered" >  req.end();</span>
<span class="cstat-no" title="statement not covered" >  this.readyState = WebSocket.CONNECTING;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function establishConnection(ReceiverClass, SenderClass, socket, upgradeHead) {</span>
<span class="cstat-no" title="statement not covered" >  this._socket = socket;</span>
<span class="cstat-no" title="statement not covered" >  socket.setTimeout(0);</span>
<span class="cstat-no" title="statement not covered" >  socket.setNoDelay(true);</span>
<span class="cstat-no" title="statement not covered" >  var self = this;</span>
<span class="cstat-no" title="statement not covered" >  this._receiver = new ReceiverClass();</span>
&nbsp;
  // socket cleanup handlers
<span class="cstat-no" title="statement not covered" >  socket.on('end', cleanupWebsocketResources.bind(this));</span>
<span class="cstat-no" title="statement not covered" >  socket.on('close', cleanupWebsocketResources.bind(this));</span>
<span class="cstat-no" title="statement not covered" >  socket.on('error', cleanupWebsocketResources.bind(this));</span>
&nbsp;
  // ensure that the upgradeHead is added to the receiver
<span class="fstat-no" title="function not covered" >  function firstHandler(data) {</span>
<span class="cstat-no" title="statement not covered" >    if (self.readyState != WebSocket.OPEN) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    if (upgradeHead &amp;&amp; upgradeHead.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >      self.bytesReceived += upgradeHead.length;</span>
<span class="cstat-no" title="statement not covered" >      var head = upgradeHead;</span>
<span class="cstat-no" title="statement not covered" >      upgradeHead = null;</span>
<span class="cstat-no" title="statement not covered" >      self._receiver.add(head);</span>
    }
<span class="cstat-no" title="statement not covered" >    dataHandler = realHandler;</span>
<span class="cstat-no" title="statement not covered" >    if (data) {</span>
<span class="cstat-no" title="statement not covered" >      self.bytesReceived += data.length;</span>
<span class="cstat-no" title="statement not covered" >      self._receiver.add(data);</span>
    }
  }
  // subsequent packets are pushed straight to the receiver
<span class="fstat-no" title="function not covered" >  function realHandler(data) {</span>
<span class="cstat-no" title="statement not covered" >    if (data) <span class="cstat-no" title="statement not covered" >self.bytesReceived += data.length;</span></span>
<span class="cstat-no" title="statement not covered" >    self._receiver.add(data);</span>
  }
<span class="cstat-no" title="statement not covered" >  var dataHandler = firstHandler;</span>
  // if data was passed along with the http upgrade,
  // this will schedule a push of that on to the receiver.
  // this has to be done on next tick, since the caller
  // hasn't had a chance to set event handlers on this client
  // object yet.
<span class="cstat-no" title="statement not covered" >  process.nextTick(firstHandler);</span>
&nbsp;
  // receiver event handlers
<span class="cstat-no" title="statement not covered" >  self._receiver.ontext = <span class="fstat-no" title="function not covered" >function (data, flags) {</span></span>
<span class="cstat-no" title="statement not covered" >    flags = flags || {};</span>
<span class="cstat-no" title="statement not covered" >    self.emit('message', data, flags);</span>
  };
<span class="cstat-no" title="statement not covered" >  self._receiver.onbinary = <span class="fstat-no" title="function not covered" >function (data, flags) {</span></span>
<span class="cstat-no" title="statement not covered" >    flags = flags || {};</span>
<span class="cstat-no" title="statement not covered" >    flags.binary = true;</span>
<span class="cstat-no" title="statement not covered" >    self.emit('message', data, flags);</span>
  };
<span class="cstat-no" title="statement not covered" >  self._receiver.onping = <span class="fstat-no" title="function not covered" >function(data, flags) {</span></span>
<span class="cstat-no" title="statement not covered" >    flags = flags || {};</span>
<span class="cstat-no" title="statement not covered" >    self.pong(data, {mask: !self._isServer, binary: flags.binary === true}, true);</span>
<span class="cstat-no" title="statement not covered" >    self.emit('ping', data, flags);</span>
  };
<span class="cstat-no" title="statement not covered" >  self._receiver.onpong = <span class="fstat-no" title="function not covered" >function(data, flags) {</span></span>
<span class="cstat-no" title="statement not covered" >    self.emit('pong', data, flags);</span>
  };
<span class="cstat-no" title="statement not covered" >  self._receiver.onclose = <span class="fstat-no" title="function not covered" >function(code, data, flags) {</span></span>
<span class="cstat-no" title="statement not covered" >    flags = flags || {};</span>
<span class="cstat-no" title="statement not covered" >    self.close(code, data);</span>
  };
<span class="cstat-no" title="statement not covered" >  self._receiver.onerror = <span class="fstat-no" title="function not covered" >function(reason, errorCode) {</span></span>
    // close the connection when the receiver reports a HyBi error code
<span class="cstat-no" title="statement not covered" >    self.close(typeof errorCode != 'undefined' ? errorCode : 1002, '');</span>
<span class="cstat-no" title="statement not covered" >    self.emit('error', reason, errorCode);</span>
  };
&nbsp;
  // finalize the client
<span class="cstat-no" title="statement not covered" >  this._sender = new SenderClass(socket);</span>
<span class="cstat-no" title="statement not covered" >  this._sender.on('error', <span class="fstat-no" title="function not covered" >function(error) {</span></span>
<span class="cstat-no" title="statement not covered" >    self.close(1002, '');</span>
<span class="cstat-no" title="statement not covered" >    self.emit('error', error);</span>
  });
<span class="cstat-no" title="statement not covered" >  this.readyState = WebSocket.OPEN;</span>
<span class="cstat-no" title="statement not covered" >  this.emit('open');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  socket.on('data', dataHandler);</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function startQueue(instance) {</span>
<span class="cstat-no" title="statement not covered" >  instance._queue = instance._queue || [];</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function executeQueueSends(instance) {</span>
<span class="cstat-no" title="statement not covered" >  var queue = instance._queue;</span>
<span class="cstat-no" title="statement not covered" >  if (typeof queue == 'undefined') <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  delete instance._queue;</span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, l = queue.length; i &lt; l; ++i) {</span>
<span class="cstat-no" title="statement not covered" >    queue[i]();</span>
  }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function sendStream(instance, stream, options, cb) {</span>
<span class="cstat-no" title="statement not covered" >  stream.on('data', <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (instance.readyState != WebSocket.OPEN) {</span>
<span class="cstat-no" title="statement not covered" >      if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(new Error('not opened'));</span></span>
      else {
<span class="cstat-no" title="statement not covered" >        delete instance._queue;</span>
<span class="cstat-no" title="statement not covered" >        instance.emit('error', new Error('not opened'));</span>
      }
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    options.fin = false;</span>
<span class="cstat-no" title="statement not covered" >    instance._sender.send(data, options);</span>
  });
<span class="cstat-no" title="statement not covered" >  stream.on('end', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    if (instance.readyState != WebSocket.OPEN) {</span>
<span class="cstat-no" title="statement not covered" >      if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(new Error('not opened'));</span></span>
      else {
<span class="cstat-no" title="statement not covered" >        delete instance._queue;</span>
<span class="cstat-no" title="statement not covered" >        instance.emit('error', new Error('not opened'));</span>
      }
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    options.fin = true;</span>
<span class="cstat-no" title="statement not covered" >    instance._sender.send(null, options);</span>
<span class="cstat-no" title="statement not covered" >    if (typeof cb == 'function') <span class="cstat-no" title="statement not covered" >cb(null);</span></span>
  });
}
&nbsp;
<span class="fstat-no" title="function not covered" >function cleanupWebsocketResources(error) {</span>
<span class="cstat-no" title="statement not covered" >  if (this.readyState == WebSocket.CLOSED) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >  var emitClose = this.readyState != WebSocket.CONNECTING;</span>
<span class="cstat-no" title="statement not covered" >  this.readyState = WebSocket.CLOSED;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  clearTimeout(this._closeTimer);</span>
<span class="cstat-no" title="statement not covered" >  this._closeTimer = null;</span>
<span class="cstat-no" title="statement not covered" >  if (emitClose) <span class="cstat-no" title="statement not covered" >this.emit('close', this._closeCode || 1000, this._closeMessage || '');</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (this._socket) {</span>
<span class="cstat-no" title="statement not covered" >    removeAllListeners(this._socket);</span>
    // catch all socket error after removing all standard handlers
<span class="cstat-no" title="statement not covered" >    var socket = this._socket;</span>
<span class="cstat-no" title="statement not covered" >    this._socket.on('error', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >      try { <span class="cstat-no" title="statement not covered" >socket.destroy(); </span>} catch (e) {}</span>
    });
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      if (!error) <span class="cstat-no" title="statement not covered" >this._socket.end();</span></span>
      else <span class="cstat-no" title="statement not covered" >this._socket.destroy();</span>
    }
    catch (e) { /* Ignore termination errors */ }
<span class="cstat-no" title="statement not covered" >    this._socket = null;</span>
  }
<span class="cstat-no" title="statement not covered" >  if (this._sender) {</span>
<span class="cstat-no" title="statement not covered" >    removeAllListeners(this._sender);</span>
<span class="cstat-no" title="statement not covered" >    this._sender = null;</span>
  }
<span class="cstat-no" title="statement not covered" >  if (this._receiver) {</span>
<span class="cstat-no" title="statement not covered" >    this._receiver.cleanup();</span>
<span class="cstat-no" title="statement not covered" >    this._receiver = null;</span>
  }
<span class="cstat-no" title="statement not covered" >  removeAllListeners(this);</span>
<span class="cstat-no" title="statement not covered" >  this.on('error', <span class="fstat-no" title="function not covered" >function() {</span>}); </span>// catch all errors after this
<span class="cstat-no" title="statement not covered" >  delete this._queue;</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function removeAllListeners(instance) {</span>
<span class="cstat-no" title="statement not covered" >  if (isNodeV4) {</span>
    // node v4 doesn't *actually* remove all listeners globally,
    // so we do that instead
<span class="cstat-no" title="statement not covered" >    instance._events = {};</span>
  }
  else <span class="cstat-no" title="statement not covered" >instance.removeAllListeners();</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/lib/WebSocketServer.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/WebSocketServer.js</span></h1>
    <h2>
        
        Statements: <span class="metric">3.95% <small>(9 / 228)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 121)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 26)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">4.31% <small>(9 / 209)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/lib/</a> &#187; WebSocketServer.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
var util = require('util')
  , events = require('events')
  , http = require('http')
  , crypto = require('crypto')
  , url = require('url')
  , Options = require('../options')
  , WebSocket = require('./WebSocket')
  , tls = require('tls')
  , url = require('url');
&nbsp;
/**
 * WebSocket Server implementation
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function WebSocketServer(options, callback) {</span>
<span class="cstat-no" title="statement not covered" >  options = new Options({</span>
    host: '0.0.0.0',
    port: null,
    server: null,
    verifyClient: null,
    handleProtocols: null,
    path: null,
    noServer: false,
    disableHixie: false,
    clientTracking: true
  }).merge(options);
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (!options.isDefinedAndNonNull('port') &amp;&amp; !options.isDefinedAndNonNull('server') &amp;&amp; !options.value.noServer) {</span>
<span class="cstat-no" title="statement not covered" >    throw new TypeError('`port` or a `server` must be provided');</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var self = this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (options.isDefinedAndNonNull('port')) {</span>
<span class="cstat-no" title="statement not covered" >    this._server = http.createServer(<span class="fstat-no" title="function not covered" >function (req, res) {</span></span>
<span class="cstat-no" title="statement not covered" >      res.writeHead(200, {'Content-Type': 'text/plain'});</span>
<span class="cstat-no" title="statement not covered" >      res.end('Not implemented');</span>
    });
<span class="cstat-no" title="statement not covered" >    this._server.listen(options.value.port, options.value.host, callback);</span>
<span class="cstat-no" title="statement not covered" >    this._closeServer = <span class="fstat-no" title="function not covered" >function() {</span> <span class="cstat-no" title="statement not covered" >self._server.close(); </span>};</span>
  }
  else <span class="cstat-no" title="statement not covered" >if (options.value.server) {</span>
<span class="cstat-no" title="statement not covered" >    this._server = options.value.server;</span>
<span class="cstat-no" title="statement not covered" >    if (options.value.path) {</span>
      // take note of the path, to avoid collisions when multiple websocket servers are
      // listening on the same http server
<span class="cstat-no" title="statement not covered" >      if (this._server._webSocketPaths &amp;&amp; options.value.server._webSocketPaths[options.value.path]) {</span>
<span class="cstat-no" title="statement not covered" >        throw new Error('two instances of WebSocketServer cannot listen on the same http server path');</span>
      }
<span class="cstat-no" title="statement not covered" >      if (typeof this._server._webSocketPaths !== 'object') {</span>
<span class="cstat-no" title="statement not covered" >        this._server._webSocketPaths = {};</span>
      }
<span class="cstat-no" title="statement not covered" >      this._server._webSocketPaths[options.value.path] = 1;</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  if (this._server) <span class="cstat-no" title="statement not covered" >this._server.once('listening', <span class="fstat-no" title="function not covered" >function() {</span> <span class="cstat-no" title="statement not covered" >self.emit('listening'); </span>});</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof this._server != 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >    this._server.on('error', <span class="fstat-no" title="function not covered" >function(error) {</span></span>
<span class="cstat-no" title="statement not covered" >      self.emit('error', error)</span>
    });
<span class="cstat-no" title="statement not covered" >    this._server.on('upgrade', <span class="fstat-no" title="function not covered" >function(req, socket, upgradeHead) {</span></span>
      //copy upgradeHead to avoid retention of large slab buffers used in node core
<span class="cstat-no" title="statement not covered" >      var head = new Buffer(upgradeHead.length);</span>
<span class="cstat-no" title="statement not covered" >      upgradeHead.copy(head);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      self.handleUpgrade(req, socket, head, <span class="fstat-no" title="function not covered" >function(client) {</span></span>
<span class="cstat-no" title="statement not covered" >        self.emit('connection'+req.url, client);</span>
<span class="cstat-no" title="statement not covered" >        self.emit('connection', client);</span>
      });
    });
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  this.options = options.value;</span>
<span class="cstat-no" title="statement not covered" >  this.path = options.value.path;</span>
<span class="cstat-no" title="statement not covered" >  this.clients = [];</span>
}
&nbsp;
/**
 * Inherits from EventEmitter.
 */
&nbsp;
util.inherits(WebSocketServer, events.EventEmitter);
&nbsp;
/**
 * Immediately shuts down the connection.
 *
 * @api public
 */
&nbsp;
WebSocketServer.prototype.close = <span class="fstat-no" title="function not covered" >function() {</span>
  // terminate all associated clients
<span class="cstat-no" title="statement not covered" >  var error = null;</span>
<span class="cstat-no" title="statement not covered" >  try {</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0, l = this.clients.length; i &lt; l; ++i) {</span>
<span class="cstat-no" title="statement not covered" >      this.clients[i].terminate();</span>
    }
  }
  catch (e) {
<span class="cstat-no" title="statement not covered" >    error = e;</span>
  }
&nbsp;
  // remove path descriptor, if any
<span class="cstat-no" title="statement not covered" >  if (this.path &amp;&amp; this._server._webSocketPaths) {</span>
<span class="cstat-no" title="statement not covered" >    delete this._server._webSocketPaths[this.path];</span>
<span class="cstat-no" title="statement not covered" >    if (Object.keys(this._server._webSocketPaths).length == 0) {</span>
<span class="cstat-no" title="statement not covered" >      delete this._server._webSocketPaths;</span>
    }
  }
&nbsp;
  // close the http server if it was internally created
<span class="cstat-no" title="statement not covered" >  try {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof this._closeServer !== 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >      this._closeServer();</span>
    }
  }
  finally {
<span class="cstat-no" title="statement not covered" >    delete this._server;</span>
  }
<span class="cstat-no" title="statement not covered" >  if (error) <span class="cstat-no" title="statement not covered" >throw error;</span></span>
}
&nbsp;
/**
 * Handle a HTTP Upgrade request.
 *
 * @api public
 */
&nbsp;
WebSocketServer.prototype.handleUpgrade = <span class="fstat-no" title="function not covered" >function(req, socket, upgradeHead, cb) {</span>
  // check for wrong path
<span class="cstat-no" title="statement not covered" >  if (this.options.path) {</span>
<span class="cstat-no" title="statement not covered" >    var u = url.parse(req.url);</span>
<span class="cstat-no" title="statement not covered" >    if (u &amp;&amp; u.pathname !== this.options.path) <span class="cstat-no" title="statement not covered" >return;</span></span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (typeof req.headers.upgrade === 'undefined' || req.headers.upgrade.toLowerCase() !== 'websocket') {</span>
<span class="cstat-no" title="statement not covered" >    abortConnection(socket, 400, 'Bad Request');</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  if (req.headers['sec-websocket-key1']) <span class="cstat-no" title="statement not covered" >handleHixieUpgrade.apply(this, arguments);</span></span>
  else <span class="cstat-no" title="statement not covered" >handleHybiUpgrade.apply(this, arguments);</span>
}
&nbsp;
module.exports = WebSocketServer;
&nbsp;
/**
 * Entirely private apis,
 * which may or may not be bound to a sepcific WebSocket instance.
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function handleHybiUpgrade(req, socket, upgradeHead, cb) {</span>
  // handle premature socket errors
<span class="cstat-no" title="statement not covered" >  var errorHandler = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    try { <span class="cstat-no" title="statement not covered" >socket.destroy(); </span>} catch (e) {}</span>
  }
<span class="cstat-no" title="statement not covered" >  socket.on('error', errorHandler);</span>
&nbsp;
  // verify key presence
<span class="cstat-no" title="statement not covered" >  if (!req.headers['sec-websocket-key']) {</span>
<span class="cstat-no" title="statement not covered" >    abortConnection(socket, 400, 'Bad Request');</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
&nbsp;
  // verify version
<span class="cstat-no" title="statement not covered" >  var version = parseInt(req.headers['sec-websocket-version']);</span>
<span class="cstat-no" title="statement not covered" >  if ([8, 13].indexOf(version) === -1) {</span>
<span class="cstat-no" title="statement not covered" >    abortConnection(socket, 400, 'Bad Request');</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
&nbsp;
  // verify protocol
<span class="cstat-no" title="statement not covered" >  var protocols = req.headers['sec-websocket-protocol'];</span>
&nbsp;
  // verify client
<span class="cstat-no" title="statement not covered" >  var origin = version &lt; 13 ?</span>
    req.headers['sec-websocket-origin'] :
    req.headers['origin'];
&nbsp;
  // handler to call when the connection sequence completes
<span class="cstat-no" title="statement not covered" >  var self = this;</span>
<span class="cstat-no" title="statement not covered" >  var completeHybiUpgrade2 = <span class="fstat-no" title="function not covered" >function(protocol) {</span></span>
&nbsp;
    // calc key
<span class="cstat-no" title="statement not covered" >    var key = req.headers['sec-websocket-key'];</span>
<span class="cstat-no" title="statement not covered" >    var shasum = crypto.createHash('sha1');</span>
<span class="cstat-no" title="statement not covered" >    shasum.update(key + "258EAFA5-E914-47DA-95CA-C5AB0DC85B11");</span>
<span class="cstat-no" title="statement not covered" >    key = shasum.digest('base64');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var headers = [</span>
        'HTTP/1.1 101 Switching Protocols'
      , 'Upgrade: websocket'
      , 'Connection: Upgrade'
      , 'Sec-WebSocket-Accept: ' + key
    ];
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (typeof protocol != 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >      headers.push('Sec-WebSocket-Protocol: ' + protocol);</span>
    }
&nbsp;
    // allows external modification/inspection of handshake headers
<span class="cstat-no" title="statement not covered" >    self.emit('headers', headers);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    socket.setTimeout(0);</span>
<span class="cstat-no" title="statement not covered" >    socket.setNoDelay(true);</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      socket.write(headers.concat('', '').join('\r\n'));</span>
    }
    catch (e) {
      // if the upgrade write fails, shut the connection down hard
<span class="cstat-no" title="statement not covered" >      try { <span class="cstat-no" title="statement not covered" >socket.destroy(); </span>} catch (e) {}</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var client = new WebSocket([req, socket, upgradeHead], {</span>
      protocolVersion: version,
      protocol: protocol
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (self.options.clientTracking) {</span>
<span class="cstat-no" title="statement not covered" >      self.clients.push(client);</span>
<span class="cstat-no" title="statement not covered" >      client.on('close', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        var index = self.clients.indexOf(client);</span>
<span class="cstat-no" title="statement not covered" >        if (index != -1) {</span>
<span class="cstat-no" title="statement not covered" >          self.clients.splice(index, 1);</span>
        }
      });
    }
&nbsp;
    // signal upgrade complete
<span class="cstat-no" title="statement not covered" >    socket.removeListener('error', errorHandler);</span>
<span class="cstat-no" title="statement not covered" >    cb(client);</span>
  }
&nbsp;
  // optionally call external protocol selection handler before
  // calling completeHybiUpgrade2
<span class="cstat-no" title="statement not covered" >  var completeHybiUpgrade1 = <span class="fstat-no" title="function not covered" >function() {</span></span>
    // choose from the sub-protocols
<span class="cstat-no" title="statement not covered" >    if (typeof self.options.handleProtocols == 'function') {</span>
<span class="cstat-no" title="statement not covered" >        var protList = (protocols || "").split(/, */);</span>
<span class="cstat-no" title="statement not covered" >        var callbackCalled = false;</span>
<span class="cstat-no" title="statement not covered" >        var res = self.options.handleProtocols(protList, <span class="fstat-no" title="function not covered" >function(result, protocol) {</span></span>
<span class="cstat-no" title="statement not covered" >          callbackCalled = true;</span>
<span class="cstat-no" title="statement not covered" >          if (!result) <span class="cstat-no" title="statement not covered" >abortConnection(socket, 404, 'Unauthorized')</span></span>
          else <span class="cstat-no" title="statement not covered" >completeHybiUpgrade2(protocol);</span>
        });
<span class="cstat-no" title="statement not covered" >        if (!callbackCalled) {</span>
            // the handleProtocols handler never called our callback
<span class="cstat-no" title="statement not covered" >            abortConnection(socket, 501, 'Could not process protocols');</span>
        }
<span class="cstat-no" title="statement not covered" >        return;</span>
    } else {
<span class="cstat-no" title="statement not covered" >        if (typeof protocols !== 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >            completeHybiUpgrade2(protocols.split(/, */)[0]);</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            completeHybiUpgrade2();</span>
        }
    }
  }
&nbsp;
  // optionally call external client verification handler
<span class="cstat-no" title="statement not covered" >  if (typeof this.options.verifyClient == 'function') {</span>
<span class="cstat-no" title="statement not covered" >    var info = {</span>
      origin: origin,
      secure: typeof req.connection.authorized !== 'undefined' || typeof req.connection.encrypted !== 'undefined',
      req: req
    };
<span class="cstat-no" title="statement not covered" >    if (this.options.verifyClient.length == 2) {</span>
<span class="cstat-no" title="statement not covered" >      this.options.verifyClient(info, <span class="fstat-no" title="function not covered" >function(result) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (!result) <span class="cstat-no" title="statement not covered" >abortConnection(socket, 401, 'Unauthorized')</span></span>
        else <span class="cstat-no" title="statement not covered" >completeHybiUpgrade1();</span>
      });
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
    else <span class="cstat-no" title="statement not covered" >if (!this.options.verifyClient(info)) {</span>
<span class="cstat-no" title="statement not covered" >      abortConnection(socket, 401, 'Unauthorized');</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  completeHybiUpgrade1();</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function handleHixieUpgrade(req, socket, upgradeHead, cb) {</span>
  // handle premature socket errors
<span class="cstat-no" title="statement not covered" >  var errorHandler = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    try { <span class="cstat-no" title="statement not covered" >socket.destroy(); </span>} catch (e) {}</span>
  }
<span class="cstat-no" title="statement not covered" >  socket.on('error', errorHandler);</span>
&nbsp;
  // bail if options prevent hixie
<span class="cstat-no" title="statement not covered" >  if (this.options.disableHixie) {</span>
<span class="cstat-no" title="statement not covered" >    abortConnection(socket, 401, 'Hixie support disabled');</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
&nbsp;
  // verify key presence
<span class="cstat-no" title="statement not covered" >  if (!req.headers['sec-websocket-key2']) {</span>
<span class="cstat-no" title="statement not covered" >    abortConnection(socket, 400, 'Bad Request');</span>
<span class="cstat-no" title="statement not covered" >    return;</span>
  }
&nbsp;
<span class="cstat-no" title="statement not covered" >  var origin = req.headers['origin']</span>
    , self = this;
&nbsp;
  // setup handshake completion to run after client has been verified
<span class="cstat-no" title="statement not covered" >  var onClientVerified = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    var wshost;</span>
<span class="cstat-no" title="statement not covered" >    if (!req.headers['x-forwarded-host'])</span>
<span class="cstat-no" title="statement not covered" >        wshost = req.headers.host;</span>
    else
<span class="cstat-no" title="statement not covered" >        wshost = req.headers['x-forwarded-host'];</span>
<span class="cstat-no" title="statement not covered" >    var location = ((req.headers['x-forwarded-proto'] === 'https' || socket.encrypted) ? 'wss' : 'ws') + '://' + wshost + req.url</span>
      , protocol = req.headers['sec-websocket-protocol'];
&nbsp;
    // handshake completion code to run once nonce has been successfully retrieved
<span class="cstat-no" title="statement not covered" >    var completeHandshake = <span class="fstat-no" title="function not covered" >function(nonce, rest) {</span></span>
      // calculate key
<span class="cstat-no" title="statement not covered" >      var k1 = req.headers['sec-websocket-key1']</span>
        , k2 = req.headers['sec-websocket-key2']
        , md5 = crypto.createHash('md5');
&nbsp;
<span class="cstat-no" title="statement not covered" >      [k1, k2].forEach(<span class="fstat-no" title="function not covered" >function (k) {</span></span>
<span class="cstat-no" title="statement not covered" >        var n = parseInt(k.replace(/[^\d]/g, ''))</span>
          , spaces = k.replace(/[^ ]/g, '').length;
<span class="cstat-no" title="statement not covered" >        if (spaces === 0 || n % spaces !== 0){</span>
<span class="cstat-no" title="statement not covered" >          abortConnection(socket, 400, 'Bad Request');</span>
<span class="cstat-no" title="statement not covered" >          return;</span>
        }
<span class="cstat-no" title="statement not covered" >        n /= spaces;</span>
<span class="cstat-no" title="statement not covered" >        md5.update(String.fromCharCode(</span>
          n &gt;&gt; 24 &amp; 0xFF,
          n &gt;&gt; 16 &amp; 0xFF,
          n &gt;&gt; 8  &amp; 0xFF,
          n       &amp; 0xFF));
      });
<span class="cstat-no" title="statement not covered" >      md5.update(nonce.toString('binary'));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      var headers = [</span>
          'HTTP/1.1 101 Switching Protocols'
        , 'Upgrade: WebSocket'
        , 'Connection: Upgrade'
        , 'Sec-WebSocket-Location: ' + location
      ];
<span class="cstat-no" title="statement not covered" >      if (typeof protocol != 'undefined') <span class="cstat-no" title="statement not covered" >headers.push('Sec-WebSocket-Protocol: ' + protocol);</span></span>
<span class="cstat-no" title="statement not covered" >      if (typeof origin != 'undefined') <span class="cstat-no" title="statement not covered" >headers.push('Sec-WebSocket-Origin: ' + origin);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >      socket.setTimeout(0);</span>
<span class="cstat-no" title="statement not covered" >      socket.setNoDelay(true);</span>
<span class="cstat-no" title="statement not covered" >      try {</span>
        // merge header and hash buffer
<span class="cstat-no" title="statement not covered" >        var headerBuffer = new Buffer(headers.concat('', '').join('\r\n'));</span>
<span class="cstat-no" title="statement not covered" >        var hashBuffer = new Buffer(md5.digest('binary'), 'binary');</span>
<span class="cstat-no" title="statement not covered" >        var handshakeBuffer = new Buffer(headerBuffer.length + hashBuffer.length);</span>
<span class="cstat-no" title="statement not covered" >        headerBuffer.copy(handshakeBuffer, 0);</span>
<span class="cstat-no" title="statement not covered" >        hashBuffer.copy(handshakeBuffer, headerBuffer.length);</span>
&nbsp;
        // do a single write, which - upon success - causes a new client websocket to be setup
<span class="cstat-no" title="statement not covered" >        socket.write(handshakeBuffer, 'binary', <span class="fstat-no" title="function not covered" >function(err) {</span></span>
<span class="cstat-no" title="statement not covered" >          if (err) <span class="cstat-no" title="statement not covered" >return; </span></span>// do not create client if an error happens
<span class="cstat-no" title="statement not covered" >          var client = new WebSocket([req, socket, rest], {</span>
            protocolVersion: 'hixie-76',
            protocol: protocol
          });
<span class="cstat-no" title="statement not covered" >          if (self.options.clientTracking) {</span>
<span class="cstat-no" title="statement not covered" >            self.clients.push(client);</span>
<span class="cstat-no" title="statement not covered" >            client.on('close', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >              var index = self.clients.indexOf(client);</span>
<span class="cstat-no" title="statement not covered" >              if (index != -1) {</span>
<span class="cstat-no" title="statement not covered" >                self.clients.splice(index, 1);</span>
              }
            });
          }
&nbsp;
          // signal upgrade complete
<span class="cstat-no" title="statement not covered" >          socket.removeListener('error', errorHandler);</span>
<span class="cstat-no" title="statement not covered" >          cb(client);</span>
        });
      }
      catch (e) {
<span class="cstat-no" title="statement not covered" >        try { <span class="cstat-no" title="statement not covered" >socket.destroy(); </span>} catch (e) {}</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
    }
&nbsp;
    // retrieve nonce
<span class="cstat-no" title="statement not covered" >    var nonceLength = 8;</span>
<span class="cstat-no" title="statement not covered" >    if (upgradeHead &amp;&amp; upgradeHead.length &gt;= nonceLength) {</span>
<span class="cstat-no" title="statement not covered" >      var nonce = upgradeHead.slice(0, nonceLength);</span>
<span class="cstat-no" title="statement not covered" >      var rest = upgradeHead.length &gt; nonceLength ? upgradeHead.slice(nonceLength) : null;</span>
<span class="cstat-no" title="statement not covered" >      completeHandshake.call(self, nonce, rest);</span>
    }
    else {
      // nonce not present in upgradeHead, so we must wait for enough data
      // data to arrive before continuing
<span class="cstat-no" title="statement not covered" >      var nonce = new Buffer(nonceLength);</span>
<span class="cstat-no" title="statement not covered" >      upgradeHead.copy(nonce, 0);</span>
<span class="cstat-no" title="statement not covered" >      var received = upgradeHead.length;</span>
<span class="cstat-no" title="statement not covered" >      var rest = null;</span>
<span class="cstat-no" title="statement not covered" >      var handler = <span class="fstat-no" title="function not covered" >function (data) {</span></span>
<span class="cstat-no" title="statement not covered" >        var toRead = Math.min(data.length, nonceLength - received);</span>
<span class="cstat-no" title="statement not covered" >        if (toRead === 0) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >        data.copy(nonce, received, 0, toRead);</span>
<span class="cstat-no" title="statement not covered" >        received += toRead;</span>
<span class="cstat-no" title="statement not covered" >        if (received == nonceLength) {</span>
<span class="cstat-no" title="statement not covered" >          socket.removeListener('data', handler);</span>
<span class="cstat-no" title="statement not covered" >          if (toRead &lt; data.length) <span class="cstat-no" title="statement not covered" >rest = data.slice(toRead);</span></span>
<span class="cstat-no" title="statement not covered" >          completeHandshake.call(self, nonce, rest);</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      socket.on('data', handler);</span>
    }
  }
&nbsp;
  // verify client
<span class="cstat-no" title="statement not covered" >  if (typeof this.options.verifyClient == 'function') {</span>
<span class="cstat-no" title="statement not covered" >    var info = {</span>
      origin: origin,
      secure: typeof req.connection.authorized !== 'undefined' || typeof req.connection.encrypted !== 'undefined',
      req: req
    };
<span class="cstat-no" title="statement not covered" >    if (this.options.verifyClient.length == 2) {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      this.options.verifyClient(info, <span class="fstat-no" title="function not covered" >function(result) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (!result) <span class="cstat-no" title="statement not covered" >abortConnection(socket, 401, 'Unauthorized')</span></span>
        else <span class="cstat-no" title="statement not covered" >onClientVerified.apply(self);</span>
      });
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
    else <span class="cstat-no" title="statement not covered" >if (!this.options.verifyClient(info)) {</span>
<span class="cstat-no" title="statement not covered" >      abortConnection(socket, 401, 'Unauthorized');</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
  }
&nbsp;
  // no client verification required
<span class="cstat-no" title="statement not covered" >  onClientVerified();</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function abortConnection(socket, code, name) {</span>
<span class="cstat-no" title="statement not covered" >  try {</span>
<span class="cstat-no" title="statement not covered" >    var response = [</span>
      'HTTP/1.1 ' + code + ' ' + name,
      'Content-type: text/html'
    ];
<span class="cstat-no" title="statement not covered" >    socket.write(response.concat('', '').join('\r\n'));</span>
  }
  catch (e) { /* ignore errors - we've aborted this connection */ }
  finally {
    // ensure that an early aborted connection is shut down completely
<span class="cstat-no" title="statement not covered" >    try { <span class="cstat-no" title="statement not covered" >socket.destroy(); </span>} catch (e) {}</span>
  }
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/options/lib/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/options/lib/</span></h1>
    <h2>
        
        Statements: <span class="metric">5.66% <small>(3 / 53)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 20)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 13)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">5.77% <small>(3 / 52)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../../index.html">All files</a> &#187; node-npmtest-jdf/node_modules/jdf-ws/ws/options/lib/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="options.js"><a href="options.js.html">options.js</a></td>
	<td data-value="5.66" class="pic low"><span class="cover-fill" style="width: 5px;"></span><span class="cover-empty" style="width:95px;"></span></td>
	<td data-value="5.66" class="pct low">5.66%</td>
	<td data-value="53" class="abs low">(3&nbsp;/&nbsp;53)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="20" class="abs low">(0&nbsp;/&nbsp;20)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="13" class="abs low">(0&nbsp;/&nbsp;13)</td>
	<td data-value="5.77" class="pct low">5.77%</td>
	<td data-value="52" class="abs low">(3&nbsp;/&nbsp;52)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf-ws/ws/options/lib/options.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf-ws/ws/options/lib/options.js</span></h1>
    <h2>
        
        Statements: <span class="metric">5.66% <small>(3 / 53)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 20)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 13)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">5.77% <small>(3 / 52)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf-ws/ws/options/lib/</a> &#187; options.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*!
 * Copyright(c) 2011 Einar Otto Stangvik &lt;einaros@gmail.com&gt;
 * MIT Licensed
 */
&nbsp;
var fs = require('fs');
&nbsp;
<span class="fstat-no" title="function not covered" >function Options(defaults) {</span>
<span class="cstat-no" title="statement not covered" >  var internalValues = {};</span>
<span class="cstat-no" title="statement not covered" >  var values = this.value = {};</span>
<span class="cstat-no" title="statement not covered" >  Object.keys(defaults).forEach(<span class="fstat-no" title="function not covered" >function(key) {</span></span>
<span class="cstat-no" title="statement not covered" >    internalValues[key] = defaults[key];</span>
<span class="cstat-no" title="statement not covered" >    Object.defineProperty(values, key, {</span>
      get: <span class="fstat-no" title="function not covered" >function() {</span> <span class="cstat-no" title="statement not covered" >return internalValues[key]; </span>},
      configurable: false,
      enumerable: true
    });
  });
<span class="cstat-no" title="statement not covered" >  this.reset = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >    Object.keys(defaults).forEach(<span class="fstat-no" title="function not covered" >function(key) {</span></span>
<span class="cstat-no" title="statement not covered" >      internalValues[key] = defaults[key];</span>
    });
<span class="cstat-no" title="statement not covered" >    return this;</span>
  };
<span class="cstat-no" title="statement not covered" >  this.merge = <span class="fstat-no" title="function not covered" >function(options, required) {</span></span>
<span class="cstat-no" title="statement not covered" >    options = options || {};</span>
<span class="cstat-no" title="statement not covered" >    if (Object.prototype.toString.call(required) === '[object Array]') {</span>
<span class="cstat-no" title="statement not covered" >      var missing = [];</span>
<span class="cstat-no" title="statement not covered" >      for (var i = 0, l = required.length; i &lt; l; ++i) {</span>
<span class="cstat-no" title="statement not covered" >        var key = required[i];</span>
<span class="cstat-no" title="statement not covered" >        if (!(key in options)) {</span>
<span class="cstat-no" title="statement not covered" >          missing.push(key);</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      if (missing.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >        if (missing.length &gt; 1) {</span>
<span class="cstat-no" title="statement not covered" >          throw new Error('options ' +</span>
            missing.slice(0, missing.length - 1).join(', ') + ' and ' +
            missing[missing.length - 1] + ' must be defined');
        }
        else <span class="cstat-no" title="statement not covered" >throw new Error('option ' + missing[0] + ' must be defined');</span>
      }
    }
<span class="cstat-no" title="statement not covered" >    Object.keys(options).forEach(<span class="fstat-no" title="function not covered" >function(key) {</span></span>
<span class="cstat-no" title="statement not covered" >      if (key in internalValues) {</span>
<span class="cstat-no" title="statement not covered" >        internalValues[key] = options[key];</span>
      }
    });
<span class="cstat-no" title="statement not covered" >    return this;</span>
  };
<span class="cstat-no" title="statement not covered" >  this.copy = <span class="fstat-no" title="function not covered" >function(keys) {</span></span>
<span class="cstat-no" title="statement not covered" >    var obj = {};</span>
<span class="cstat-no" title="statement not covered" >    Object.keys(defaults).forEach(<span class="fstat-no" title="function not covered" >function(key) {</span></span>
<span class="cstat-no" title="statement not covered" >      if (keys.indexOf(key) !== -1) {</span>
<span class="cstat-no" title="statement not covered" >        obj[key] = values[key];</span>
      }
    });
<span class="cstat-no" title="statement not covered" >    return obj;</span>
  };
<span class="cstat-no" title="statement not covered" >  this.read = <span class="fstat-no" title="function not covered" >function(filename, cb) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (typeof cb == 'function') {</span>
<span class="cstat-no" title="statement not covered" >      var self = this;</span>
<span class="cstat-no" title="statement not covered" >      fs.readFile(filename, <span class="fstat-no" title="function not covered" >function(error, data) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (error) <span class="cstat-no" title="statement not covered" >return cb(error);</span></span>
<span class="cstat-no" title="statement not covered" >        var conf = JSON.parse(data);</span>
<span class="cstat-no" title="statement not covered" >        self.merge(conf);</span>
<span class="cstat-no" title="statement not covered" >        cb();</span>
      });
    }
    else {
<span class="cstat-no" title="statement not covered" >      var conf = JSON.parse(fs.readFileSync(filename));</span>
<span class="cstat-no" title="statement not covered" >      this.merge(conf);</span>
    }
<span class="cstat-no" title="statement not covered" >    return this;</span>
  };
<span class="cstat-no" title="statement not covered" >  this.isDefined = <span class="fstat-no" title="function not covered" >function(key) {</span></span>
<span class="cstat-no" title="statement not covered" >    return typeof values[key] != 'undefined';</span>
  };
<span class="cstat-no" title="statement not covered" >  this.isDefinedAndNonNull = <span class="fstat-no" title="function not covered" >function(key) {</span></span>
<span class="cstat-no" title="statement not covered" >    return typeof values[key] != 'undefined' &amp;&amp; values[key] !== null;</span>
  };
<span class="cstat-no" title="statement not covered" >  Object.freeze(values);</span>
<span class="cstat-no" title="statement not covered" >  Object.freeze(this);</span>
}
&nbsp;
module.exports = Options;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header medium">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/</span></h1>
    <h2>
        
        Statements: <span class="metric">66.67% <small>(2 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">66.67% <small>(2 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; node-npmtest-jdf/node_modules/jdf/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file medium" data-value="index.js"><a href="index.js.html">index.js</a></td>
	<td data-value="66.67" class="pic medium"><span class="cover-fill" style="width: 66px;"></span><span class="cover-empty" style="width:34px;"></span></td>
	<td data-value="66.67" class="pct medium">66.67%</td>
	<td data-value="3" class="abs medium">(2&nbsp;/&nbsp;3)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="1" class="abs low">(0&nbsp;/&nbsp;1)</td>
	<td data-value="66.67" class="pct medium">66.67%</td>
	<td data-value="3" class="abs medium">(2&nbsp;/&nbsp;3)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/index.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header medium">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/index.js</span></h1>
    <h2>
        
        Statements: <span class="metric">66.67% <small>(2 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">66.67% <small>(2 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/</a> &#187; index.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var jdf = require('./lib/jdf.js');
&nbsp;
module.exports = {
	init: <span class="fstat-no" title="function not covered" >function(argv) {</span>
<span class="cstat-no" title="statement not covered" >		jdf.init(argv);</span>
	}
};
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/</span></h1>
    <h2>
        
        Statements: <span class="metric">10.88% <small>(410 / 3769)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0.53% <small>(11 / 2077)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">1.98% <small>(10 / 504)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">11.19% <small>(410 / 3664)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; node-npmtest-jdf/node_modules/jdf/lib/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="base.js"><a href="base.js.html">base.js</a></td>
	<td data-value="12.16" class="pic low"><span class="cover-fill" style="width: 12px;"></span><span class="cover-empty" style="width:88px;"></span></td>
	<td data-value="12.16" class="pct low">12.16%</td>
	<td data-value="148" class="abs low">(18&nbsp;/&nbsp;148)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="58" class="abs low">(0&nbsp;/&nbsp;58)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="57" class="abs low">(0&nbsp;/&nbsp;57)</td>
	<td data-value="12.24" class="pct low">12.24%</td>
	<td data-value="147" class="abs low">(18&nbsp;/&nbsp;147)</td>
	</tr>

<tr>
	<td class="file low" data-value="base64.js"><a href="base64.js.html">base64.js</a></td>
	<td data-value="28.57" class="pic low"><span class="cover-fill" style="width: 28px;"></span><span class="cover-empty" style="width:72px;"></span></td>
	<td data-value="28.57" class="pct low">28.57%</td>
	<td data-value="21" class="abs low">(6&nbsp;/&nbsp;21)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="8" class="abs low">(0&nbsp;/&nbsp;8)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="2" class="abs low">(0&nbsp;/&nbsp;2)</td>
	<td data-value="30" class="pct low">30%</td>
	<td data-value="20" class="abs low">(6&nbsp;/&nbsp;20)</td>
	</tr>

<tr>
	<td class="file medium" data-value="buildByAutoprefixer.js"><a href="buildByAutoprefixer.js.html">buildByAutoprefixer.js</a></td>
	<td data-value="75" class="pic medium"><span class="cover-fill" style="width: 75px;"></span><span class="cover-empty" style="width:25px;"></span></td>
	<td data-value="75" class="pct medium">75%</td>
	<td data-value="8" class="abs medium">(6&nbsp;/&nbsp;8)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="1" class="abs low">(0&nbsp;/&nbsp;1)</td>
	<td data-value="75" class="pct medium">75%</td>
	<td data-value="8" class="abs medium">(6&nbsp;/&nbsp;8)</td>
	</tr>

<tr>
	<td class="file low" data-value="buildCss.js"><a href="buildCss.js.html">buildCss.js</a></td>
	<td data-value="19.3" class="pic low"><span class="cover-fill" style="width: 19px;"></span><span class="cover-empty" style="width:81px;"></span></td>
	<td data-value="19.3" class="pct low">19.3%</td>
	<td data-value="57" class="abs low">(11&nbsp;/&nbsp;57)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="45" class="abs low">(0&nbsp;/&nbsp;45)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="4" class="abs low">(0&nbsp;/&nbsp;4)</td>
	<td data-value="20.37" class="pct low">20.37%</td>
	<td data-value="54" class="abs low">(11&nbsp;/&nbsp;54)</td>
	</tr>

<tr>
	<td class="file low" data-value="buildJs.js"><a href="buildJs.js.html">buildJs.js</a></td>
	<td data-value="29.17" class="pic low"><span class="cover-fill" style="width: 29px;"></span><span class="cover-empty" style="width:71px;"></span></td>
	<td data-value="29.17" class="pct low">29.17%</td>
	<td data-value="24" class="abs low">(7&nbsp;/&nbsp;24)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="6" class="abs low">(0&nbsp;/&nbsp;6)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="30.43" class="pct low">30.43%</td>
	<td data-value="23" class="abs low">(7&nbsp;/&nbsp;23)</td>
	</tr>

<tr>
	<td class="file low" data-value="buildWidget.js"><a href="buildWidget.js.html">buildWidget.js</a></td>
	<td data-value="4.59" class="pic low"><span class="cover-fill" style="width: 4px;"></span><span class="cover-empty" style="width:96px;"></span></td>
	<td data-value="4.59" class="pct low">4.59%</td>
	<td data-value="327" class="abs low">(15&nbsp;/&nbsp;327)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="233" class="abs low">(0&nbsp;/&nbsp;233)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="18" class="abs low">(0&nbsp;/&nbsp;18)</td>
	<td data-value="4.78" class="pct low">4.78%</td>
	<td data-value="314" class="abs low">(15&nbsp;/&nbsp;314)</td>
	</tr>

<tr>
	<td class="file low" data-value="compress.js"><a href="compress.js.html">compress.js</a></td>
	<td data-value="2.6" class="pic low"><span class="cover-fill" style="width: 2px;"></span><span class="cover-empty" style="width:98px;"></span></td>
	<td data-value="2.6" class="pct low">2.6%</td>
	<td data-value="384" class="abs low">(10&nbsp;/&nbsp;384)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="282" class="abs low">(0&nbsp;/&nbsp;282)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="24" class="abs low">(0&nbsp;/&nbsp;24)</td>
	<td data-value="2.72" class="pct low">2.72%</td>
	<td data-value="368" class="abs low">(10&nbsp;/&nbsp;368)</td>
	</tr>

<tr>
	<td class="file low" data-value="compressScheduler.js"><a href="compressScheduler.js.html">compressScheduler.js</a></td>
	<td data-value="26.67" class="pic low"><span class="cover-fill" style="width: 26px;"></span><span class="cover-empty" style="width:74px;"></span></td>
	<td data-value="26.67" class="pct low">26.67%</td>
	<td data-value="45" class="abs low">(12&nbsp;/&nbsp;45)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="24" class="abs low">(0&nbsp;/&nbsp;24)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="4" class="abs low">(0&nbsp;/&nbsp;4)</td>
	<td data-value="26.67" class="pct low">26.67%</td>
	<td data-value="45" class="abs low">(12&nbsp;/&nbsp;45)</td>
	</tr>

<tr>
	<td class="file medium" data-value="compressWorker.js"><a href="compressWorker.js.html">compressWorker.js</a></td>
	<td data-value="50" class="pic medium"><span class="cover-fill" style="width: 50px;"></span><span class="cover-empty" style="width:50px;"></span></td>
	<td data-value="50" class="pct medium">50%</td>
	<td data-value="10" class="abs medium">(5&nbsp;/&nbsp;10)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="2" class="abs low">(0&nbsp;/&nbsp;2)</td>
	<td data-value="50" class="pct medium">50%</td>
	<td data-value="10" class="abs medium">(5&nbsp;/&nbsp;10)</td>
	</tr>

<tr>
	<td class="file low" data-value="concat.js"><a href="concat.js.html">concat.js</a></td>
	<td data-value="28" class="pic low"><span class="cover-fill" style="width: 28px;"></span><span class="cover-empty" style="width:72px;"></span></td>
	<td data-value="28" class="pct low">28%</td>
	<td data-value="25" class="abs low">(7&nbsp;/&nbsp;25)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="8" class="abs low">(0&nbsp;/&nbsp;8)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="29.17" class="pct low">29.17%</td>
	<td data-value="24" class="abs low">(7&nbsp;/&nbsp;24)</td>
	</tr>

<tr>
	<td class="file high" data-value="config.js"><a href="config.js.html">config.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="2" class="abs high">(2&nbsp;/&nbsp;2)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="2" class="abs high">(2&nbsp;/&nbsp;2)</td>
	</tr>

<tr>
	<td class="file low" data-value="cssSprite.js"><a href="cssSprite.js.html">cssSprite.js</a></td>
	<td data-value="2.58" class="pic low"><span class="cover-fill" style="width: 2px;"></span><span class="cover-empty" style="width:98px;"></span></td>
	<td data-value="2.58" class="pct low">2.58%</td>
	<td data-value="271" class="abs low">(7&nbsp;/&nbsp;271)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="124" class="abs low">(0&nbsp;/&nbsp;124)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="14" class="abs low">(0&nbsp;/&nbsp;14)</td>
	<td data-value="2.58" class="pct low">2.58%</td>
	<td data-value="271" class="abs low">(7&nbsp;/&nbsp;271)</td>
	</tr>

<tr>
	<td class="file low" data-value="csslint.js"><a href="csslint.js.html">csslint.js</a></td>
	<td data-value="18.42" class="pic low"><span class="cover-fill" style="width: 18px;"></span><span class="cover-empty" style="width:82px;"></span></td>
	<td data-value="18.42" class="pct low">18.42%</td>
	<td data-value="38" class="abs low">(7&nbsp;/&nbsp;38)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="22" class="abs low">(0&nbsp;/&nbsp;22)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="6" class="abs low">(0&nbsp;/&nbsp;6)</td>
	<td data-value="18.42" class="pct low">18.42%</td>
	<td data-value="38" class="abs low">(7&nbsp;/&nbsp;38)</td>
	</tr>

<tr>
	<td class="file low" data-value="file.js"><a href="file.js.html">file.js</a></td>
	<td data-value="6.57" class="pic low"><span class="cover-fill" style="width: 6px;"></span><span class="cover-empty" style="width:94px;"></span></td>
	<td data-value="6.57" class="pct low">6.57%</td>
	<td data-value="198" class="abs low">(13&nbsp;/&nbsp;198)</td>
	<td data-value="0.75" class="pct low">0.75%</td>
	<td data-value="134" class="abs low">(1&nbsp;/&nbsp;134)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="32" class="abs low">(0&nbsp;/&nbsp;32)</td>
	<td data-value="6.84" class="pct low">6.84%</td>
	<td data-value="190" class="abs low">(13&nbsp;/&nbsp;190)</td>
	</tr>

<tr>
	<td class="file low" data-value="fileFormat.js"><a href="fileFormat.js.html">fileFormat.js</a></td>
	<td data-value="24.24" class="pic low"><span class="cover-fill" style="width: 24px;"></span><span class="cover-empty" style="width:76px;"></span></td>
	<td data-value="24.24" class="pct low">24.24%</td>
	<td data-value="33" class="abs low">(8&nbsp;/&nbsp;33)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="18" class="abs low">(0&nbsp;/&nbsp;18)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="6" class="abs low">(0&nbsp;/&nbsp;6)</td>
	<td data-value="24.24" class="pct low">24.24%</td>
	<td data-value="33" class="abs low">(8&nbsp;/&nbsp;33)</td>
	</tr>

<tr>
	<td class="file low" data-value="fileLint.js"><a href="fileLint.js.html">fileLint.js</a></td>
	<td data-value="17.81" class="pic low"><span class="cover-fill" style="width: 17px;"></span><span class="cover-empty" style="width:83px;"></span></td>
	<td data-value="17.81" class="pct low">17.81%</td>
	<td data-value="73" class="abs low">(13&nbsp;/&nbsp;73)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="34" class="abs low">(0&nbsp;/&nbsp;34)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="14" class="abs low">(0&nbsp;/&nbsp;14)</td>
	<td data-value="17.81" class="pct low">17.81%</td>
	<td data-value="73" class="abs low">(13&nbsp;/&nbsp;73)</td>
	</tr>

<tr>
	<td class="file low" data-value="fileUpload.js"><a href="fileUpload.js.html">fileUpload.js</a></td>
	<td data-value="10.23" class="pic low"><span class="cover-fill" style="width: 10px;"></span><span class="cover-empty" style="width:90px;"></span></td>
	<td data-value="10.23" class="pct low">10.23%</td>
	<td data-value="88" class="abs low">(9&nbsp;/&nbsp;88)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="65" class="abs low">(0&nbsp;/&nbsp;65)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="18" class="abs low">(0&nbsp;/&nbsp;18)</td>
	<td data-value="10.47" class="pct low">10.47%</td>
	<td data-value="86" class="abs low">(9&nbsp;/&nbsp;86)</td>
	</tr>

<tr>
	<td class="file low" data-value="fileWorker.js"><a href="fileWorker.js.html">fileWorker.js</a></td>
	<td data-value="41.18" class="pic low"><span class="cover-fill" style="width: 41px;"></span><span class="cover-empty" style="width:59px;"></span></td>
	<td data-value="41.18" class="pct low">41.18%</td>
	<td data-value="17" class="abs low">(7&nbsp;/&nbsp;17)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="46.67" class="pct low">46.67%</td>
	<td data-value="15" class="abs low">(7&nbsp;/&nbsp;15)</td>
	</tr>

<tr>
	<td class="file low" data-value="findPort.js"><a href="findPort.js.html">findPort.js</a></td>
	<td data-value="16.67" class="pic low"><span class="cover-fill" style="width: 16px;"></span><span class="cover-empty" style="width:84px;"></span></td>
	<td data-value="16.67" class="pct low">16.67%</td>
	<td data-value="12" class="abs low">(2&nbsp;/&nbsp;12)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="6" class="abs low">(0&nbsp;/&nbsp;6)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="20" class="pct low">20%</td>
	<td data-value="10" class="abs low">(2&nbsp;/&nbsp;10)</td>
	</tr>

<tr>
	<td class="file low" data-value="ftp.js"><a href="ftp.js.html">ftp.js</a></td>
	<td data-value="16.9" class="pic low"><span class="cover-fill" style="width: 16px;"></span><span class="cover-empty" style="width:84px;"></span></td>
	<td data-value="16.9" class="pct low">16.9%</td>
	<td data-value="142" class="abs low">(24&nbsp;/&nbsp;142)</td>
	<td data-value="9.2" class="pct low">9.2%</td>
	<td data-value="87" class="abs low">(8&nbsp;/&nbsp;87)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="36" class="abs low">(0&nbsp;/&nbsp;36)</td>
	<td data-value="17.91" class="pct low">17.91%</td>
	<td data-value="134" class="abs low">(24&nbsp;/&nbsp;134)</td>
	</tr>

<tr>
	<td class="file low" data-value="ftpUpload.js"><a href="ftpUpload.js.html">ftpUpload.js</a></td>
	<td data-value="4.76" class="pic low"><span class="cover-fill" style="width: 4px;"></span><span class="cover-empty" style="width:96px;"></span></td>
	<td data-value="4.76" class="pct low">4.76%</td>
	<td data-value="84" class="abs low">(4&nbsp;/&nbsp;84)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="64" class="abs low">(0&nbsp;/&nbsp;64)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="12" class="abs low">(0&nbsp;/&nbsp;12)</td>
	<td data-value="5.13" class="pct low">5.13%</td>
	<td data-value="78" class="abs low">(4&nbsp;/&nbsp;78)</td>
	</tr>

<tr>
	<td class="file low" data-value="jdf.js"><a href="jdf.js.html">jdf.js</a></td>
	<td data-value="6.65" class="pic low"><span class="cover-fill" style="width: 6px;"></span><span class="cover-empty" style="width:94px;"></span></td>
	<td data-value="6.65" class="pct low">6.65%</td>
	<td data-value="466" class="abs low">(31&nbsp;/&nbsp;466)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="298" class="abs low">(0&nbsp;/&nbsp;298)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="46" class="abs low">(0&nbsp;/&nbsp;46)</td>
	<td data-value="6.97" class="pct low">6.97%</td>
	<td data-value="445" class="abs low">(31&nbsp;/&nbsp;445)</td>
	</tr>

<tr>
	<td class="file low" data-value="livereload.js"><a href="livereload.js.html">livereload.js</a></td>
	<td data-value="16.13" class="pic low"><span class="cover-fill" style="width: 16px;"></span><span class="cover-empty" style="width:84px;"></span></td>
	<td data-value="16.13" class="pct low">16.13%</td>
	<td data-value="651" class="abs low">(105&nbsp;/&nbsp;651)</td>
	<td data-value="0.38" class="pct low">0.38%</td>
	<td data-value="260" class="abs low">(1&nbsp;/&nbsp;260)</td>
	<td data-value="9.17" class="pct low">9.17%</td>
	<td data-value="109" class="abs low">(10&nbsp;/&nbsp;109)</td>
	<td data-value="16.25" class="pct low">16.25%</td>
	<td data-value="646" class="abs low">(105&nbsp;/&nbsp;646)</td>
	</tr>

<tr>
	<td class="file low" data-value="livereloadServer.js"><a href="livereloadServer.js.html">livereloadServer.js</a></td>
	<td data-value="14.63" class="pic low"><span class="cover-fill" style="width: 14px;"></span><span class="cover-empty" style="width:86px;"></span></td>
	<td data-value="14.63" class="pct low">14.63%</td>
	<td data-value="82" class="abs low">(12&nbsp;/&nbsp;82)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="24" class="abs low">(0&nbsp;/&nbsp;24)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="11" class="abs low">(0&nbsp;/&nbsp;11)</td>
	<td data-value="14.81" class="pct low">14.81%</td>
	<td data-value="81" class="abs low">(12&nbsp;/&nbsp;81)</td>
	</tr>

<tr>
	<td class="file low" data-value="log.js"><a href="log.js.html">log.js</a></td>
	<td data-value="28.57" class="pic low"><span class="cover-fill" style="width: 28px;"></span><span class="cover-empty" style="width:72px;"></span></td>
	<td data-value="28.57" class="pct low">28.57%</td>
	<td data-value="28" class="abs low">(8&nbsp;/&nbsp;28)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="15" class="abs low">(0&nbsp;/&nbsp;15)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="28.57" class="pct low">28.57%</td>
	<td data-value="28" class="abs low">(8&nbsp;/&nbsp;28)</td>
	</tr>

<tr>
	<td class="file low" data-value="openurl.js"><a href="openurl.js.html">openurl.js</a></td>
	<td data-value="28" class="pic low"><span class="cover-fill" style="width: 28px;"></span><span class="cover-empty" style="width:72px;"></span></td>
	<td data-value="28" class="pct low">28%</td>
	<td data-value="25" class="abs low">(7&nbsp;/&nbsp;25)</td>
	<td data-value="10" class="pct low">10%</td>
	<td data-value="10" class="abs low">(1&nbsp;/&nbsp;10)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="28" class="pct low">28%</td>
	<td data-value="25" class="abs low">(7&nbsp;/&nbsp;25)</td>
	</tr>

<tr>
	<td class="file low" data-value="output.js"><a href="output.js.html">output.js</a></td>
	<td data-value="6" class="pic low"><span class="cover-fill" style="width: 6px;"></span><span class="cover-empty" style="width:94px;"></span></td>
	<td data-value="6" class="pct low">6%</td>
	<td data-value="150" class="abs low">(9&nbsp;/&nbsp;150)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="85" class="abs low">(0&nbsp;/&nbsp;85)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="16" class="abs low">(0&nbsp;/&nbsp;16)</td>
	<td data-value="6.21" class="pct low">6.21%</td>
	<td data-value="145" class="abs low">(9&nbsp;/&nbsp;145)</td>
	</tr>

<tr>
	<td class="file low" data-value="server.js"><a href="server.js.html">server.js</a></td>
	<td data-value="9.92" class="pic low"><span class="cover-fill" style="width: 9px;"></span><span class="cover-empty" style="width:91px;"></span></td>
	<td data-value="9.92" class="pct low">9.92%</td>
	<td data-value="131" class="abs low">(13&nbsp;/&nbsp;131)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="63" class="abs low">(0&nbsp;/&nbsp;63)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="15" class="abs low">(0&nbsp;/&nbsp;15)</td>
	<td data-value="10.08" class="pct low">10.08%</td>
	<td data-value="129" class="abs low">(13&nbsp;/&nbsp;129)</td>
	</tr>

<tr>
	<td class="file low" data-value="vm.js"><a href="vm.js.html">vm.js</a></td>
	<td data-value="23.81" class="pic low"><span class="cover-fill" style="width: 23px;"></span><span class="cover-empty" style="width:77px;"></span></td>
	<td data-value="23.81" class="pct low">23.81%</td>
	<td data-value="42" class="abs low">(10&nbsp;/&nbsp;42)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="27" class="abs low">(0&nbsp;/&nbsp;27)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="23.81" class="pct low">23.81%</td>
	<td data-value="42" class="abs low">(10&nbsp;/&nbsp;42)</td>
	</tr>

<tr>
	<td class="file low" data-value="widget.js"><a href="widget.js.html">widget.js</a></td>
	<td data-value="11.76" class="pic low"><span class="cover-fill" style="width: 11px;"></span><span class="cover-empty" style="width:89px;"></span></td>
	<td data-value="11.76" class="pct low">11.76%</td>
	<td data-value="187" class="abs low">(22&nbsp;/&nbsp;187)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="74" class="abs low">(0&nbsp;/&nbsp;74)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="36" class="abs low">(0&nbsp;/&nbsp;36)</td>
	<td data-value="12.22" class="pct low">12.22%</td>
	<td data-value="180" class="abs low">(22&nbsp;/&nbsp;180)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/base.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/base.js</span></h1>
    <h2>
        
        Statements: <span class="metric">12.16% <small>(18 / 148)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 58)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 57)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">12.24% <small>(18 / 147)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; base.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @公用方法
 */
var path = require('path');
var fs = require('fs');
var util = require('util');
var crypto = require('crypto');
&nbsp;
var $ = module.exports = {
    reg: {
        widget: <span class="fstat-no" title="function not covered" >function() {</span>
            //检测是否存在和取widget name
<span class="cstat-no" title="statement not covered" >            return new RegExp('{%widget\\s.*?name="(.*?)".*?%}', 'gm');</span>
        },
        widgetType: <span class="fstat-no" title="function not covered" >function() {</span>
            //取widget type
<span class="cstat-no" title="statement not covered" >            return new RegExp('{%widget\\s.*?type="(.*?)".*?%}', 'gm');</span>
        },
        widgetData: <span class="fstat-no" title="function not covered" >function() {</span>
            //取widget data
<span class="cstat-no" title="statement not covered" >            return new RegExp('{%widget\\s.*?data=\'(.*?)\'.*?%}', 'gm');</span>
        },
        widgetComment: <span class="fstat-no" title="function not covered" >function() {</span>
            //取widget 是否有注释
<span class="cstat-no" title="statement not covered" >            return new RegExp('{%widget\\s.*?comment=[\'|"](.*?)[\'|"].*?%}', 'gm');</span>
        },
        widgetPosition: <span class="fstat-no" title="function not covered" >function() {</span>
            //取widget position
<span class="cstat-no" title="statement not covered" >            return new RegExp('{%widget\\s.*?position="(.*?)".*?%}', 'gm');</span>
        },
        widgetOutputName: <span class="fstat-no" title="function not covered" >function() {</span>
            //当前页面输出的widget name
<span class="cstat-no" title="statement not covered" >            return new RegExp('{%widgetOutputName="(.*?)".*?%}', 'gm');</span>
        },
        commentWidget: <span class="fstat-no" title="function not covered" >function() {</span>
            //匹配注释的widget
<span class="cstat-no" title="statement not covered" >            return new RegExp('&lt;!--\\s*{%widget\\s.*?name="(.*?)".*?%}\\s*--&gt;', 'gm');</span>
        },
        notCommentWidget: <span class="fstat-no" title="function not covered" >function() {</span>
            //匹配非注释的widget
<span class="cstat-no" title="statement not covered" >            return new RegExp('^(&lt;!--){0}[.\\n\\t\\r\\s]*{%widget\\s.*?name="(.*?)".*?%}[.\\n\\r\\t\\s]*(--&gt;){0}$', 'gm');</span>
        },
        cssStr: '&lt;link\\s.*?stylesheet\\s*.*href="(.*?)".*?&gt;',
        cssLink: <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >            return new RegExp(this.cssStr, 'gm');</span>
        },
        jsStr: '&lt;script\\s.*?src="(.*?)".*?&lt;/script&gt;',
        jsLink: <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >            return new RegExp(this.jsStr, 'gm');</span>
        },
        staticPre: <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >            return new RegExp('.*?static', 'gm');</span>
        },
        htmlComment: <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >            return new RegExp('&lt;!--[\\S\\s]*?--&gt;', 'g');</span>
        }
    },
    placeholder: {
        csscomboLink: <span class="fstat-no" title="function not covered" >function(url) {</span>
<span class="cstat-no" title="statement not covered" >            return '&lt;link type="text/css" rel="stylesheet"  href="' + url + '" source="combo"/&gt;\r\n';</span>
        },
        cssLink: <span class="fstat-no" title="function not covered" >function(url) {</span>
<span class="cstat-no" title="statement not covered" >            return '&lt;link type="text/css" rel="stylesheet"  href="' + url + '" source="widget"/&gt;\r\n';</span>
        },
        jscomboLink: <span class="fstat-no" title="function not covered" >function(url) {</span>
<span class="cstat-no" title="statement not covered" >            return '&lt;script type="text/javascript" src="' + url + '" source="widget"&gt;&lt;/script&gt;\r\n';</span>
        },
        jsLink: <span class="fstat-no" title="function not covered" >function(url) {</span>
<span class="cstat-no" title="statement not covered" >            return '&lt;script type="text/javascript" src="' + url + '" source="widget"&gt;&lt;/script&gt;\r\n';</span>
        },
        insertHead: <span class="fstat-no" title="function not covered" >function(content, str) {</span>
            //innsertBefore &lt;/head&gt;
<span class="cstat-no" title="statement not covered" >            if (/&lt;\/head&gt;/.test(content)) {</span>
<span class="cstat-no" title="statement not covered" >                return content.replace('&lt;/head&gt;', str + '&lt;/head&gt;');</span>
            //innsertBefore &lt;body&gt;    
            } else <span class="cstat-no" title="statement not covered" >if(/&lt;body/.test(content)){</span>
<span class="cstat-no" title="statement not covered" >                return content.replace('&lt;body', str + '&lt;body');</span>
            } else {
<span class="cstat-no" title="statement not covered" >                return str + content;</span>
            }
        },
        insertBody: <span class="fstat-no" title="function not covered" >function(content, str) {</span>
<span class="cstat-no" title="statement not covered" >            if (/&lt;\/body&gt;/.test(content)) {</span>
<span class="cstat-no" title="statement not covered" >                return content.replace('&lt;/body&gt;', str + '&lt;/body&gt;');</span>
            } else {
<span class="cstat-no" title="statement not covered" >                return content + str;</span>
            }
        }
    },
    is: {
        //数据源文件
        dataSourceSuffix: '.json',
        dataSource: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === this.dataSourceSuffix;</span>
        },
        tplSuffix: '.tpl',
        tpl: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === this.tplSuffix;</span>
        },
        vmSuffix: '.vm',
        vm: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === this.vmSuffix;</span>
        },
        smartySuffix: '.smarty',
        smarty: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === this.smartySuffix;</span>
        },
        html: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === '.html';</span>
        },
        cssSuffix: '.css',
        css: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === this.cssSuffix;</span>
        },
        less: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === '.less';</span>
        },
        //这个扩展名比较悲剧
        sass: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === '.scss';</span>
        },
        jsSuffix: '.js',
        js: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === this.jsSuffix;</span>
        },
        jpg: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === '.jpg';</span>
        },
        png: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === '.png';</span>
        },
        //图片文件
        img: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            var name = path.extname(pathName);</span>
<span class="cstat-no" title="statement not covered" >            return name === '.jpg' || name === '.jpeg' || name === '.png' || name === '.gif';</span>
        },
        //含有http,https
        httpLink: <span class="fstat-no" title="function not covered" >function(str) {</span>
<span class="cstat-no" title="statement not covered" >            return /^http:\/\/|https:\/\/|\/\/|^\/\//.test(str);</span>
        },
        //是否为图片url
        imageFile: <span class="fstat-no" title="function not covered" >function(str) {</span>
<span class="cstat-no" title="statement not covered" >            var reg = new RegExp('.' + '(' + $.imageFileType() + ')');</span>
<span class="cstat-no" title="statement not covered" >            return reg.test(str);</span>
        },
        babel: <span class="fstat-no" title="function not covered" >function(pathName) {</span>
<span class="cstat-no" title="statement not covered" >            return path.extname(pathName) === '.babel';</span>
        }
    },
    /**
     * @过滤的文件名，不参与copy、deploy、output
     */
    excludeFiles: <span class="fstat-no" title="function not covered" >function(){</span>
<span class="cstat-no" title="statement not covered" >        return '\\.svn|Thumbs\\.db|\\.DS_Store|\\.git|\\.eslintrc|\\.gitignore|npm-debug\\.log|\\.npmignore|\\.vm|\\.smarty|\\.tpl|\\.scss|\\.less|\\.psd';</span>
    },
    imageFileType: <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >        return 'svg|tiff|wbmp|png|bmp|fax|gif|ico|jfif|jpe|jpeg|jpg|cur|eot|ttf|woff';</span>
    },
    /**
     * @去掉path中的//
     */
    replaceSlash: <span class="fstat-no" title="function not covered" >function(path) {</span>
<span class="cstat-no" title="statement not covered" >        return path.replace(/\/\//gm, '/');</span>
    },
    /**
     * @去空格
     */
    trim: <span class="fstat-no" title="function not covered" >function(str) {</span>
<span class="cstat-no" title="statement not covered" >        return str.replace(/\s/g, '');</span>
    },
    /**
     * @变量存在返回变量,变量不存在返回''
     */
    getVar: <span class="fstat-no" title="function not covered" >function(t) {</span>
<span class="cstat-no" title="statement not covered" >        if (typeof(t) != 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >            return t;</span>
        }
<span class="cstat-no" title="statement not covered" >        return '';</span>
    }
}
&nbsp;
/**
 * @取当前时间 2014-01-14 
 * @return 2014-01-14
 */
$.getDay = <span class="fstat-no" title="function not covered" >function(separator) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof(separator) == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >        separator = '-';</span>
    }
<span class="cstat-no" title="statement not covered" >    var myDate = new Date();</span>
<span class="cstat-no" title="statement not covered" >    var year = myDate.getFullYear();</span>
<span class="cstat-no" title="statement not covered" >    var month = myDate.getMonth() + 1;</span>
<span class="cstat-no" title="statement not covered" >    month = month &lt; 10 ? '0' + month : month;</span>
<span class="cstat-no" title="statement not covered" >    var day = myDate.getDate();</span>
<span class="cstat-no" title="statement not covered" >    day = day &lt; 10 ? '0' + day : day;</span>
<span class="cstat-no" title="statement not covered" >    return year + separator + month + separator + day;</span>
}
&nbsp;
/**
 * @取当前时间 12:11:10 
 * @return 14:44:55
 */
$.getTime = <span class="fstat-no" title="function not covered" >function(separator, hasMs) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof(separator) == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >        separator = ':';</span>
    }
<span class="cstat-no" title="statement not covered" >    var myDate = new Date();</span>
<span class="cstat-no" title="statement not covered" >    var hour = myDate.getHours();</span>
<span class="cstat-no" title="statement not covered" >    hour = hour &lt; 10 ? '0' + hour : hour;</span>
<span class="cstat-no" title="statement not covered" >    var mint = myDate.getMinutes();</span>
<span class="cstat-no" title="statement not covered" >    mint = mint &lt; 10 ? '0' + mint : mint;</span>
<span class="cstat-no" title="statement not covered" >    var seconds = myDate.getSeconds();</span>
<span class="cstat-no" title="statement not covered" >    seconds = seconds &lt; 10 ? '0' + seconds : seconds;</span>
<span class="cstat-no" title="statement not covered" >    var ms = myDate.getMilliseconds();</span>
<span class="cstat-no" title="statement not covered" >    var result = hour + separator + mint + separator + seconds;</span>
<span class="cstat-no" title="statement not covered" >    if (typeof(hasMs) != 'undeinfed' &amp;&amp; hasMs) {</span>
<span class="cstat-no" title="statement not covered" >        result += separator + ms;</span>
    }
<span class="cstat-no" title="statement not covered" >    return result;</span>
}
&nbsp;
/**
 * @取当前时间戳
 * @return 1439361919265
 */
$.getTimestamp = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    return new Date().getTime();</span>
}
&nbsp;
/**
 * @name $.isArray
 * @param {All} obj 主体
 * @return {Boolean} true/false
 */
$.isArray = <span class="fstat-no" title="function not covered" >function(obj) {</span>
<span class="cstat-no" title="statement not covered" >    return Object.prototype.toString.apply(obj) === '[object Array]';</span>
}
&nbsp;
/**
 * @less/sass文件名称转css后缀
 * @time 2014-3-5
 * @example  a.less ==&gt; a.css; a.sass ==&gt; a.css
 */
$.getCssExtname = <span class="fstat-no" title="function not covered" >function(filename) {</span>
<span class="cstat-no" title="statement not covered" >    return filename.replace(/(scss|less)$/g, 'css');</span>
}
&nbsp;
$.getJsExtname = <span class="fstat-no" title="function not covered" >function(filename) {</span>
<span class="cstat-no" title="statement not covered" >    return filename.replace(/babel$/, 'js');</span>
}
&nbsp;
/**
 * @getUrlParam
 * @time 2014-10-8
 */
$.getUrlParam = <span class="fstat-no" title="function not covered" >function(url) {</span>
<span class="cstat-no" title="statement not covered" >    var urlParseRE = /^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/;</span>
<span class="cstat-no" title="statement not covered" >    return urlParseRE.exec(url);</span>
}
&nbsp;
/**
 * @http get
 * @param {String} url 域名
 * @param {Function} callback 回调
 * @example 
	$.httpget('http://www.baidu.com/?tn=sitehao123', function (data){
		console.log(data);
	});
 */
$.httpget = <span class="fstat-no" title="function not covered" >function(url, callback) {</span>
<span class="cstat-no" title="statement not covered" >    var http = require('http');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var matches = $.getUrlParam(url);</span>
<span class="cstat-no" title="statement not covered" >    var host = matches[6];</span>
<span class="cstat-no" title="statement not covered" >    var param = (matches[13] ? matches[13] : '') + (matches[16] ? matches[16] : '') + (matches[17] ? matches[17] : '');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (typeof(callback) == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >        var callback = null;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var options = {</span>
        host: host,
        path: param,
        callback: callback
    };
&nbsp;
<span class="cstat-no" title="statement not covered" >    var requestCallback = <span class="fstat-no" title="function not covered" >function(response) {</span></span>
<span class="cstat-no" title="statement not covered" >        var str = '';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        response.on('data', <span class="fstat-no" title="function not covered" >function(chunk) {</span></span>
<span class="cstat-no" title="statement not covered" >            str += chunk;</span>
        });
&nbsp;
<span class="cstat-no" title="statement not covered" >        response.on('end', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >            if (options.callback) <span class="cstat-no" title="statement not covered" >options.callback(str);</span></span>
        });
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var req = http.request(options, requestCallback);</span>
<span class="cstat-no" title="statement not covered" >    req.on('error', <span class="fstat-no" title="function not covered" >function(e) {</span></span>
        //console.log(e);
    });
<span class="cstat-no" title="statement not covered" >    req.end();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    req.setTimeout(500, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        req.abort();</span>
    });
}
&nbsp;
/**
 * @数组去重
 * @算法: 设置成一个对象的属性
 */
$.uniq = <span class="fstat-no" title="function not covered" >function(arr) {</span>
<span class="cstat-no" title="statement not covered" >    if ($.isArray(arr)) {</span>
<span class="cstat-no" title="statement not covered" >        var obj = {};</span>
<span class="cstat-no" title="statement not covered" >        for (var i = 0; i &lt; arr.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            obj[arr[i]] = i;</span>
        }
<span class="cstat-no" title="statement not covered" >        arr = [];</span>
<span class="cstat-no" title="statement not covered" >        var j = 0;</span>
<span class="cstat-no" title="statement not covered" >        for (var i in obj) {</span>
<span class="cstat-no" title="statement not covered" >            arr[j] = i;</span>
<span class="cstat-no" title="statement not covered" >            j += 1;</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    return arr;</span>
}
&nbsp;
/**
 * @对象merage
 * @obj2的权重大
 */
$.merageObj = <span class="fstat-no" title="function not covered" >function(obj1, obj2) {</span>
<span class="cstat-no" title="statement not covered" >    for (var p in obj2) {</span>
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            if (obj2[p].constructor == Object) {</span>
<span class="cstat-no" title="statement not covered" >                obj1[p] = $.merageObj(obj1[p], obj2[p]);</span>
            } else {
<span class="cstat-no" title="statement not covered" >                obj1[p] = obj2[p];</span>
            }
        } catch (e) {
<span class="cstat-no" title="statement not covered" >            obj1[p] = obj2[p];</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    return obj1;</span>
}
&nbsp;
/**
 * @inArray
 * @param {Array} arr 主体
 * @param {String} str字符串
 * @param {Boolean} include是否和匹配的字符串完全相同或者是包含的关系
 */
$.inArray = <span class="fstat-no" title="function not covered" >function(arr, str, include) {</span>
<span class="cstat-no" title="statement not covered" >    if (util.isArray(arr)) {</span>
<span class="cstat-no" title="statement not covered" >        var res = false;</span>
<span class="cstat-no" title="statement not covered" >        arr.forEach(<span class="fstat-no" title="function not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (typeof(include) != 'undefined' &amp;&amp; include) {</span>
<span class="cstat-no" title="statement not covered" >                var reg = new RegExp(str, 'gm')</span>
<span class="cstat-no" title="statement not covered" >                if (reg.test(item)) {</span>
<span class="cstat-no" title="statement not covered" >                    res = true;</span>
                }
            } else {
<span class="cstat-no" title="statement not covered" >                if (item == str) {</span>
<span class="cstat-no" title="statement not covered" >                    res = true;</span>
                }
            }
        });
<span class="cstat-no" title="statement not covered" >        return res;</span>
    }
}
&nbsp;
/**
 * @md5
 * @param {String} str 字符串
 */
$.md5 = <span class="fstat-no" title="function not covered" >function(str) {</span>
<span class="cstat-no" title="statement not covered" >    return crypto.createHash('md5').update(str).digest('hex');</span>
}
&nbsp;
/**
 * @arrayMax
 * @param {Array} arr 传入的数组 
 */
$.arrayMax = <span class="fstat-no" title="function not covered" >function(arr) {</span>
<span class="cstat-no" title="statement not covered" >    if (util.isArray(arr)) {</span>
<span class="cstat-no" title="statement not covered" >        var arrTemp=arr[0];</span>
<span class="cstat-no" title="statement not covered" >        for (var i=0; i&lt;arr.length; i++){</span>
<span class="cstat-no" title="statement not covered" >            if(arr[i]&gt;arrTemp){</span>
<span class="cstat-no" title="statement not covered" >                arrTemp = arr[i];</span>
            }
        }
<span class="cstat-no" title="statement not covered" >        return arrTemp;</span>
    }
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/base64.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/base64.js</span></h1>
    <h2>
        
        Statements: <span class="metric">28.57% <small>(6 / 21)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">30% <small>(6 / 20)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; base64.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @css base64
 * @ctime 2015-8-18
 */
var $ = require('./base.js');
var f = require('./file.js');
var jdf = require('./jdf.js');
&nbsp;
var path = require('path');
var base64 = module.exports = {};
&nbsp;
base64.init = <span class="fstat-no" title="function not covered" >function(source){</span>
<span class="cstat-no" title="statement not covered" >	if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('compress.base64---'+source);</span></span>
<span class="cstat-no" title="statement not covered" >	var reg_background = /background(?:-image)?:([\s\S]*?)(?:;|$)/gi;</span>
<span class="cstat-no" title="statement not covered" >	var reg_img_url = /url\s*\(\s*("(?:[^\\"\r\n\f]|\\[\s\S])*"|'(?:[^\\'\n\r\f]|\\[\s\S])*'|[^)}]+)\s*\)/i;</span>
<span class="cstat-no" title="statement not covered" >	var reg_is_base64 = /[?&amp;]__base64/i;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var content = f.read(source);</span>
<span class="cstat-no" title="statement not covered" >	var background = content.match(reg_background);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	if(background){</span>
<span class="cstat-no" title="statement not covered" >		content = escape(content);</span>
<span class="cstat-no" title="statement not covered" >		background.forEach(<span class="fstat-no" title="function not covered" >function(item, index){</span></span>
<span class="cstat-no" title="statement not covered" >			var img_url = item.match(reg_img_url);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(img_url &amp;&amp; img_url[0].match(reg_is_base64)){</span>
<span class="cstat-no" title="statement not covered" >				var base64Encode = f.base64Encode(path.join(path.dirname(source), img_url[1].replace('?__base64', '')));</span>
<span class="cstat-no" title="statement not covered" >				content = content.replace(new RegExp(escape(img_url[1]), 'gi'), ('data:image/png;base64,'+base64Encode));</span>
			}
		});
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	return unescape(content);</span>
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/buildByAutoprefixer.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header medium">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/buildByAutoprefixer.js</span></h1>
    <h2>
        
        Statements: <span class="metric">75% <small>(6 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">75% <small>(6 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; buildByAutoprefixer.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var autoprefixer = require('autoprefixer');
var postcss      = require('postcss');
var cssnext      = require('cssnext');
var f      		 = require('./file');
 
var doAutoprefixer = module.exports = {};
doAutoprefixer.init = <span class="fstat-no" title="function not covered" >function(file, options){</span>
<span class="cstat-no" title="statement not covered" >	var contents = postcss([autoprefixer(options), cssnext]).process(file.contents).css;</span>
<span class="cstat-no" title="statement not covered" >	f.write(file.path, contents);</span>
}
&nbsp;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/buildCss.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/buildCss.js</span></h1>
    <h2>
        
        Statements: <span class="metric">19.3% <small>(11 / 57)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 45)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">20.37% <small>(11 / 54)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; buildCss.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
* @build less/sass to css
* @ctime 2014-3-5
* 
* @less 文档 http://lesscss.org/#using-less-configuration syncImport
* @npm https://npmjs.org/package/less
* @Dist folder file size is big  ==&gt; https://github.com/less/less.js/issues/1918
* 
* @sass 文档 https://www.npmjs.org/package/node-sass
* @github https://github.com/andrew/node-sass
* @npm https://npmjs.org/package/node-sass
* @Compatibility @mixin has "};"   ==&gt;  https://github.com/andrew/node-sass/issues/254
* 
*/
&nbsp;
var path = require('path');
var fs = require('fs');
&nbsp;
//lib自身组件
var $ = require('./base.js');
var f = require('./file.js');
var jdf = require('./jdf.js');
var fileLint = require('./fileLint.js');
&nbsp;
//外部组件
var Sass = require('node-sass');
var Less = require('less');
var Colors = require('colors');
&nbsp;
//exports
var buildCss = module.exports = {};
&nbsp;
/**
 * @init
 */
buildCss.init = <span class="fstat-no" title="function not covered" >function(rSource, target){</span>
<span class="cstat-no" title="statement not covered" >	var allTag = true;</span>
<span class="cstat-no" title="statement not covered" >	var source = f.realpath(rSource);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	if(source){</span>
<span class="cstat-no" title="statement not covered" >		if(f.isDir(source)){</span>
<span class="cstat-no" title="statement not covered" >			fs.readdirSync(source).forEach(<span class="fstat-no" title="function not covered" >function(name){</span></span>
<span class="cstat-no" title="statement not covered" >				if(name != '.' &amp;&amp; name != '..' &amp;&amp; !(/.svn/.test(name))){</span>
<span class="cstat-no" title="statement not covered" >					allTag = buildCss.init(source + '/' + name, target + '/' + name) &amp;&amp; allTag;</span>
				}
			});
		} else <span class="cstat-no" title="statement not covered" >if(f.isFile(source) &amp;&amp; ($.is.css(source) || $.is.less(source) || $.is.sass(source) ) ){</span>
<span class="cstat-no" title="statement not covered" >			if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('buildCss---'+rSource);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			var autoprefixerFn = <span class="fstat-no" title="function not covered" >function(file){</span></span>
<span class="cstat-no" title="statement not covered" >				if(jdf.config.build.autoprefixer){</span>
<span class="cstat-no" title="statement not covered" >					require('./buildByAutoprefixer.js').init({contents:file.contents, path:file.path }, jdf.config.build.autoprefixerOptions)</span>
				}else{
<span class="cstat-no" title="statement not covered" >					f.write(file.path, file.contents);</span>
				}
			}	
&nbsp;
<span class="cstat-no" title="statement not covered" >			target = $.getCssExtname(target);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if( $.is.less(source) || $.is.sass(source) ) {</span>
<span class="cstat-no" title="statement not covered" >				var sourceContent = f.read(source);</span>
				//为空 "node-sass": "0.9.3" 编译会报错 https://github.com/sass/node-sass/issues/381
<span class="cstat-no" title="statement not covered" >				if(sourceContent==''){</span>
<span class="cstat-no" title="statement not covered" >					return;	</span>
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				if($.is.less(source) &amp;&amp; jdf.config.build.less){</span>
<span class="cstat-no" title="statement not covered" >					try{</span>
<span class="cstat-no" title="statement not covered" >						Less.render(sourceContent, {filename: source, syncImport:true}, <span class="fstat-no" title="function not covered" >function(error, output){</span></span>
<span class="cstat-no" title="statement not covered" >							if(error){</span>
<span class="cstat-no" title="statement not covered" >								console.log(error);</span>
							}else{
<span class="cstat-no" title="statement not covered" >								var targetContent = output.css;</span>
<span class="cstat-no" title="statement not covered" >								if(jdf.config.build.csslint) <span class="cstat-no" title="statement not covered" >fileLint.init(source);</span></span>
<span class="cstat-no" title="statement not covered" >								autoprefixerFn({contents:targetContent, path:target });</span>
								//f.write(target, targetContent);
							}
						});
					}catch(e){
<span class="cstat-no" title="statement not covered" >						console.log('jdf error [jdf.buildCss] - less');</span>
<span class="cstat-no" title="statement not covered" >						console.log(Colors.red('&gt; '+source));</span>
<span class="cstat-no" title="statement not covered" >						console.log(Colors.red('&gt;'), e);</span>
					}
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				if($.is.sass(source) &amp;&amp; jdf.config.build.sass){</span>
<span class="cstat-no" title="statement not covered" >					try{</span>
<span class="cstat-no" title="statement not covered" >						var css = Sass.renderSync({</span>
							data: sourceContent,
							includePaths: [path.dirname(source)],
							// outputStyle: 'compressed'
							outputStyle: 'expanded'
						});
<span class="cstat-no" title="statement not covered" >						if(jdf.config.build.csslint) <span class="cstat-no" title="statement not covered" >fileLint.init(source);</span></span>
<span class="cstat-no" title="statement not covered" >						autoprefixerFn({contents:css.css.toString(), path:target });</span>
						// f.write(target, css.css);
					}catch(e){
<span class="cstat-no" title="statement not covered" >						console.log('jdf error [jdf.buildCss] - sass');</span>
<span class="cstat-no" title="statement not covered" >						console.log(Colors.red('&gt; '+source));</span>
<span class="cstat-no" title="statement not covered" >						console.log(Colors.red('&gt; line: ' + e.line + ', column: ' + e.column));</span>
<span class="cstat-no" title="statement not covered" >						console.log(Colors.red('&gt;'), 'message: ' + e.message);</span>
					}
				}
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >			if($.is.css(source) &amp;&amp; jdf.config.build.autoprefixer){</span>
<span class="cstat-no" title="statement not covered" >				var sourceContent = f.read(source);</span>
<span class="cstat-no" title="statement not covered" >				autoprefixerFn({contents:sourceContent, path:target })</span>
			}
		} else {
<span class="cstat-no" title="statement not covered" >			allTag = false;</span>
		}
	} else {
		//console.log('error');
	}
<span class="cstat-no" title="statement not covered" >	return allTag;</span>
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/buildJs.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/buildJs.js</span></h1>
    <h2>
        
        Statements: <span class="metric">29.17% <small>(7 / 24)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">30.43% <small>(7 / 23)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; buildJs.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var f = require("./file.js");
var jdf = require("./jdf.js");
var babelCore = require('babel-core');
&nbsp;
var path = require('path');
var $ = require('./base.js');
&nbsp;
/**
 * @build js
 * @time 2016-11-7
 * @param src 输入文件/文件夹相对路径
 * @param dist 输出文件/文件夹相对路径
 * @doc http://babeljs.io/docs/usage/api/
 */
&nbsp;
exports.init = <span class="fstat-no" title="function not covered" >function(src, dist){</span>
<span class="cstat-no" title="statement not covered" >	if(f.isDir(src)){</span>
<span class="cstat-no" title="statement not covered" >       var filelist = f.getdirlist(src,'(js)$',jdf.config.build.isEs6Exclude);</span>
<span class="cstat-no" title="statement not covered" >        filelist.forEach(<span class="fstat-no" title="function not covered" >function(item){</span></span>
<span class="cstat-no" title="statement not covered" >            babel(item, dist);</span>
        })
    }else <span class="cstat-no" title="statement not covered" >if(f.isFile(src)){</span>
<span class="cstat-no" title="statement not covered" >       babel(src, dist);</span>
    }else{
<span class="cstat-no" title="statement not covered" >    	console.log('jdf buildJs "' + src + '"" is not exists');</span>
    }
}
&nbsp;
var babel = <span class="fstat-no" title="function not covered" >function(src, dist){</span>
	
    //http://babeljs.io/docs/usage/api/#options
    //https://github.com/babel/babel/tree/master/packages/babel-preset-es2015
    
<span class="cstat-no" title="statement not covered" >    var options = {</span>
		presets: [
            require('babel-preset-es2015')
            // require('babel-preset-es2015-without-strict')
			,require('babel-preset-stage-1')
		]
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	try {</span>
<span class="cstat-no" title="statement not covered" >		var dist = path.normalize(dist +'/'+ src);</span>
<span class="cstat-no" title="statement not covered" >		var src = path.normalize(jdf.currentDir +'/'+ src);</span>
        
<span class="cstat-no" title="statement not covered" >        if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('buildES6js---'+ src);</span></span>
		
<span class="cstat-no" title="statement not covered" >        var result = babelCore.transformFileSync(src, options);</span>
<span class="cstat-no" title="statement not covered" >		f.write(dist, result.code);</span>
&nbsp;
    } catch (e) {
<span class="cstat-no" title="statement not covered" >        console.log('jdf error [jdf.buildJS.ES6] - ' + src);</span>
<span class="cstat-no" title="statement not covered" >        console.log(e);</span>
    }
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/buildWidget.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/buildWidget.js</span></h1>
    <h2>
        
        Statements: <span class="metric">4.59% <small>(15 / 327)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 233)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 18)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">4.78% <small>(15 / 314)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; buildWidget.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
* @build widget 引入其内容和相关css,js文件以及css,js路径替换
* @param inputPath 文件路径
* @param content 文件内容
* @param type 编译类型 build || release
* @example 
	{%widget name="unit"%} 
	==&gt; 
	&lt;link type="text/css" rel="stylesheet"  href="/widget/base/base.css" source="widget"/&gt;
	==&gt;
	&lt;link type="text/css" rel="stylesheet"  href="/app/css/widget.css" source="widget"/&gt;
&nbsp;
	删除和替换 {%widgetOutputName="mywidgetname"%}
*/
&nbsp;
var path = require('path');
var fs = require('fs');
var jsmart = require('jsmart');
&nbsp;
//lib自身组件
var $ = require('./base.js');
var f = require('./file.js');
var jdf = require('./jdf.js');
var Vm = require("./vm.js");
&nbsp;
//exports
var buildWidget = module.exports = {};
&nbsp;
/**
 * @init
 */
buildWidget.init = <span class="fstat-no" title="function not covered" >function(inputPath,content,type,callback,param){</span>
<span class="cstat-no" title="statement not covered" >	if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('buildWidget---'+inputPath);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var isBuild = type == 'build';</span>
<span class="cstat-no" title="statement not covered" >	var isRelease = type == 'release';</span>
<span class="cstat-no" title="statement not covered" >	var isOutput = type == 'output';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var result = content.match($.reg.notCommentWidget());</span>
<span class="cstat-no" title="statement not covered" >	var origin = content;</span>
<span class="cstat-no" title="statement not covered" >	var isJM = false;</span>
<span class="cstat-no" title="statement not covered" >	var cssFile='' , jsFile='';</span>
<span class="cstat-no" title="statement not covered" >	var cssComboArr = [];</span>
<span class="cstat-no" title="statement not covered" >	var jsComboArr = [];</span>
	
	//widget
<span class="cstat-no" title="statement not covered" >	if (result){</span>
<span class="cstat-no" title="statement not covered" >		var filesListObj = {};/</span>/去重用
<span class="cstat-no" title="statement not covered" >		result.forEach(<span class="fstat-no" title="function not covered" >function(resultItem){</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			var widgetArray = $.reg.widget().exec(resultItem);</span>
<span class="cstat-no" title="statement not covered" >			var widgetType;</span>
<span class="cstat-no" title="statement not covered" >			var widgetTypeArray = $.reg.widgetType().exec(resultItem);</span>
			
			//jdj jdm 特殊处理
<span class="cstat-no" title="statement not covered" >			if (widgetTypeArray) <span class="cstat-no" title="statement not covered" >widgetType = widgetTypeArray[1];</span></span>
<span class="cstat-no" title="statement not covered" >			isJM = (widgetType == 'jdj' || widgetType == 'jdm');</span>
			//if (isJM){ writeJMOnce = true; }
			
			//取widget数据 {%widget data=" "%}
<span class="cstat-no" title="statement not covered" >			var widgetData;</span>
<span class="cstat-no" title="statement not covered" >			var widgetDataArray = $.reg.widgetData().exec(resultItem);</span>
<span class="cstat-no" title="statement not covered" >			if (widgetDataArray) <span class="cstat-no" title="statement not covered" >widgetData = widgetDataArray[1];</span></span>
			
			//取widget是否注释tag {%widget comment=" "%}
<span class="cstat-no" title="statement not covered" >			var widgetComment;</span>
<span class="cstat-no" title="statement not covered" >			var widgetCommentArray = $.reg.widgetComment().exec(resultItem);</span>
<span class="cstat-no" title="statement not covered" >			if (widgetCommentArray) <span class="cstat-no" title="statement not covered" >widgetComment = widgetCommentArray[1];</span></span>
&nbsp;
			//如果type为js或者css则只引用不处理tpl
<span class="cstat-no" title="statement not covered" >			var buildTag = {</span>
				tpl:true,
				vm:true,
				smarty: true,
				js:true,
				css:true
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >			if (widgetType) {</span>
<span class="cstat-no" title="statement not covered" >				if (widgetType =='tpl'|| widgetType =='vm'|| widgetType =='css'|| widgetType =='js' || widgetType == 'smarty'){</span>
<span class="cstat-no" title="statement not covered" >					for(var i in buildTag ){</span>
<span class="cstat-no" title="statement not covered" >						if(i != widgetType ) <span class="cstat-no" title="statement not covered" >buildTag[i] = false;</span></span>
					}
				}else {
<span class="cstat-no" title="statement not covered" >					console.log(inputPath +' '+ resultItem);</span>
<span class="cstat-no" title="statement not covered" >					console.log("jdf warnning [widget type - "+widgetType +'] is not approve, please try "tpl,vm,js,css" again ');</span>
<span class="cstat-no" title="statement not covered" >					return;</span>
				}
			}
&nbsp;
			//{%widget name=" "%}
<span class="cstat-no" title="statement not covered" >			var widgetStr = widgetArray[0];</span>
			//widgetStr中的name
<span class="cstat-no" title="statement not covered" >			var widgetName = $.trim(widgetArray[1]);</span>
<span class="cstat-no" title="statement not covered" >			var widgetDir = '/widget/' +widgetName;</span>
			//widget 目录
<span class="cstat-no" title="statement not covered" >			var fileDir = path.normalize(jdf.currentDir + widgetDir);</span>
<span class="cstat-no" title="statement not covered" >			var widgetInputName = jdf.config.widgetInputName;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(widgetInputName.length &gt; 0 &amp;&amp; !$.inArray(widgetInputName, widgetName)){</span>
<span class="cstat-no" title="statement not covered" >				return;</span>
			}
&nbsp;
			//当前工程不存的jdj和jdm模块从服务端文件复制至当前过来
			/*
			if (isJM &amp;&amp; !f.exists(fileDir)){
				var source = path.normalize(jdf[widgetType+'Dir']+ widgetDir);
				var target = jdf.currentDir + '/widget/' +widgetName;
				f.copy(source,target);
			}*/
<span class="cstat-no" title="statement not covered" >			var placeholder='';</span>
<span class="cstat-no" title="statement not covered" >			var dirExists = f.exists(fileDir);</span>
<span class="cstat-no" title="statement not covered" >			if (dirExists){</span>
<span class="cstat-no" title="statement not covered" >				var files = fs.readdirSync(fileDir);</span>
<span class="cstat-no" title="statement not covered" >				files.forEach(<span class="fstat-no" title="function not covered" >function(item){</span></span>
					//less,scss文件转换成css文件
<span class="cstat-no" title="statement not covered" >					var itemOrgin = item;</span>
<span class="cstat-no" title="statement not covered" >					item = $.getCssExtname(item);</span>
&nbsp;
					//tpl,css,js路径中含有widgetName前缀的才引用 ---&gt; 名字完全一样才引用
				
					//单个文件
<span class="cstat-no" title="statement not covered" >					var fileUrl = path.join(fileDir, item);</span>
<span class="cstat-no" title="statement not covered" >					var staticUrl = ''+widgetDir +'/'+ item;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >					if (param &amp;&amp; param.plain) {</span>
<span class="cstat-no" title="statement not covered" >						staticUrl = '..'+widgetDir +'/'+ item;</span>
					}
&nbsp;
					//css Compile &amp;&amp; innsertCSS link
<span class="cstat-no" title="statement not covered" >					var cssCompileFn = <span class="fstat-no" title="function not covered" >function(staticUrl){</span></span>
<span class="cstat-no" title="statement not covered" >						var cssLink = $.placeholder.cssLink(staticUrl);</span>
<span class="cstat-no" title="statement not covered" >						if (isBuild){</span>
<span class="cstat-no" title="statement not covered" >							content = $.placeholder.insertHead(content,cssLink);</span>
						}else <span class="cstat-no" title="statement not covered" >if(isRelease || isOutput){</span>
<span class="cstat-no" title="statement not covered" >							if(jdf.config.output.combineWidgetCss){</span>
								//less,sass文件从编译后的bgCurrent读取
<span class="cstat-no" title="statement not covered" >								if ($.is.less(itemOrgin) || $.is.sass(itemOrgin)) {</span>
<span class="cstat-no" title="statement not covered" >									var fileUrlTemp = jdf.bgCurrentDir + staticUrl;</span>
<span class="cstat-no" title="statement not covered" >									cssFile +=  f.read(fileUrlTemp) + '\n\r';</span>
								}else{
<span class="cstat-no" title="statement not covered" >									cssFile +=  f.read(jdf.bgCurrentDir+staticUrl) + '\n\r';</span>
								}
							}else{
<span class="cstat-no" title="statement not covered" >								if(jdf.config.output.cssCombo &amp;&amp; jdf.config.cdn){</span>
<span class="cstat-no" title="statement not covered" >									cssComboArr.push(staticUrl.replace('/widget/', ''));</span>
								}else{
<span class="cstat-no" title="statement not covered" >									content = $.placeholder.insertHead(content,cssLink);</span>
								}
							}
						}
&nbsp;
						/*
						if (isJM){
							origin = $.placeholder.insertHead(origin,cssLink);
						}*/
<span class="cstat-no" title="statement not covered" >						filesListObj[staticUrl] = 1;</span>
					}
&nbsp;
					//js Compile
<span class="cstat-no" title="statement not covered" >					var jsCompileFn = <span class="fstat-no" title="function not covered" >function(staticUrl){</span></span>
<span class="cstat-no" title="statement not covered" >						var jsLink = $.placeholder.jsLink(staticUrl);</span>
<span class="cstat-no" title="statement not covered" >						if (isBuild){</span>
<span class="cstat-no" title="statement not covered" >							content = buildWidget.insertJs(content,jsLink, jdf.config.build.jsPlace);</span>
						}else <span class="cstat-no" title="statement not covered" >if (isRelease || isOutput){</span>
<span class="cstat-no" title="statement not covered" >							if(jdf.config.output.combineWidgetJs){</span>
								//合并所有widget中的js文件至widgetOutputName
<span class="cstat-no" title="statement not covered" >								jsFile += f.read(jdf.currentDir+staticUrl) + '\n\r';</span>
							}else{
<span class="cstat-no" title="statement not covered" >								if(jdf.config.output.jsCombo &amp;&amp; jdf.config.cdn){</span>
<span class="cstat-no" title="statement not covered" >									jsComboArr.push(staticUrl.replace('/widget/', ''));</span>
								}else{
<span class="cstat-no" title="statement not covered" >									content = buildWidget.insertJs(content,jsLink, jdf.config.output.jsPlace);</span>
								}
							}
						}
						/*
						if (isJM){
							origin = $.placeholder.insertBody(origin,jsLink);
						}*/
<span class="cstat-no" title="statement not covered" >						filesListObj[staticUrl] = 1;	 </span>
					}
&nbsp;
					/**
					 * @build widget tpl/vm
					 */
					//vm编译
<span class="cstat-no" title="statement not covered" >					var vmCompileFn = <span class="fstat-no" title="function not covered" >function(vmContent){</span></span>
<span class="cstat-no" title="statement not covered" >						var fileUrlDirname = path.dirname(fileUrl)+'/';</span>
<span class="cstat-no" title="statement not covered" >						var dataSourceContent={};</span>
<span class="cstat-no" title="statement not covered" >						var dataSourceUrl = fileUrlDirname+widgetName+$.is.dataSourceSuffix ;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >						try {</span>
<span class="cstat-no" title="statement not covered" >							if (f.exists(dataSourceUrl)) {</span>
<span class="cstat-no" title="statement not covered" >								var temp = f.read(dataSourceUrl);</span>
<span class="cstat-no" title="statement not covered" >								if (temp &amp;&amp; temp != '')  <span class="cstat-no" title="statement not covered" >dataSourceContent = JSON.parse(temp);</span></span>
							}
						} catch (e) {
<span class="cstat-no" title="statement not covered" >							console.log(dataSourceUrl);</span>
<span class="cstat-no" title="statement not covered" >							console.log(e);</span>
<span class="cstat-no" title="statement not covered" >							return;</span>
						}
&nbsp;
<span class="cstat-no" title="statement not covered" >						var widgetDataObj = {};</span>
<span class="cstat-no" title="statement not covered" >						try {</span>
<span class="cstat-no" title="statement not covered" >							if (widgetData){</span>
								//外部url，如data='http://a.com/'
<span class="cstat-no" title="statement not covered" >								if($.is.httpLink(widgetData)){</span>
<span class="cstat-no" title="statement not covered" >					                var request = require('sync-request');</span>
<span class="cstat-no" title="statement not covered" >									var res = request('GET', widgetData);</span>
<span class="cstat-no" title="statement not covered" >									widgetData = res.getBody().toString();</span>
								}
								
								//纯json数据				
<span class="cstat-no" title="statement not covered" >								widgetDataObj = JSON.parse(widgetData);</span>
							}
						} catch (e) {
<span class="cstat-no" title="statement not covered" >							console.log('jdf buildWidget {%widget name="' +widgetName  +'"} data error');</span>
<span class="cstat-no" title="statement not covered" >							console.log(e);</span>
<span class="cstat-no" title="statement not covered" >							return;</span>
						}
&nbsp;
<span class="cstat-no" title="statement not covered" >						var dataObj = $.merageObj( dataSourceContent, widgetDataObj);</span>
						
						//vm处理
<span class="cstat-no" title="statement not covered" >						try {</span>
<span class="cstat-no" title="statement not covered" >							if (dataObj &amp;&amp; vmContent &amp;&amp; jdf.config.output.vm){</span>
<span class="cstat-no" title="statement not covered" >								var vmRander =  Vm.rander(vmContent, dataObj, fileUrlDirname);</span>
								
								//vm继承js/css
<span class="cstat-no" title="statement not covered" >								if(vmRander.url.js){</span>
<span class="cstat-no" title="statement not covered" >									vmRander.url.js.forEach(<span class="fstat-no" title="function not covered" >function(item){</span></span>
<span class="cstat-no" title="statement not covered" >										 jsCompileFn(item);</span>
									})
								}
&nbsp;
<span class="cstat-no" title="statement not covered" >								if(vmRander.url.css){</span>
<span class="cstat-no" title="statement not covered" >									vmRander.url.css.forEach(<span class="fstat-no" title="function not covered" >function(item){</span></span>
<span class="cstat-no" title="statement not covered" >										 cssCompileFn(item);</span>
									})
								}
<span class="cstat-no" title="statement not covered" >								return vmRander.content;</span>
							}
						} catch (e) {
<span class="cstat-no" title="statement not covered" >							console.log('jdf erro [jdf.buildWidget] - velocityjs');</span>
<span class="cstat-no" title="statement not covered" >							console.log(fileUrl);</span>
<span class="cstat-no" title="statement not covered" >							console.log(e);</span>
						}
&nbsp;
<span class="cstat-no" title="statement not covered" >						return vmContent;</span>
					}
					
					//tpl vm Compile
<span class="cstat-no" title="statement not covered" >					var tmplCompileFn = <span class="fstat-no" title="function not covered" >function(type){</span></span>
<span class="cstat-no" title="statement not covered" >						placeholder = f.read(fileUrl);</span>
						//替换模板中的cssLink/jsLink
<span class="cstat-no" title="statement not covered" >						if (isOutput) <span class="cstat-no" title="statement not covered" >placeholder = staticUrlReplace(placeholder);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >						if (type == 'vm' || type == 'tpl') {</span>
<span class="cstat-no" title="statement not covered" >							placeholder = vmCompileFn(placeholder);</span>
						}
&nbsp;
<span class="cstat-no" title="statement not covered" >						if(type == 'smarty'){</span>
<span class="cstat-no" title="statement not covered" >							var smartyJSON = f.read(path.join(fileDir, widgetName+'.json')) || widgetData;</span>
<span class="cstat-no" title="statement not covered" >							var smartyCompiled = new jSmart(placeholder);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >							if(smartyCompiled &amp;&amp; smartyJSON){</span>
<span class="cstat-no" title="statement not covered" >								placeholder = smartyCompiled.fetch(JSON.parse(smartyJSON));</span>
							}
						}
&nbsp;
<span class="cstat-no" title="statement not covered" >						fileUrl = f.pathFormat(path.join(widgetDir, item));</span>
						
<span class="cstat-no" title="statement not covered" >						var typeHtml='';</span>
<span class="cstat-no" title="statement not covered" >						if (widgetType) <span class="cstat-no" title="statement not covered" >typeHtml='['+widgetType+']';</span></span>
						//insert comment
<span class="cstat-no" title="statement not covered" >						if ( jdf.config.build.widgetIncludeComment){</span>
<span class="cstat-no" title="statement not covered" >							if(widgetComment === 'false') <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >							if(/&lt;\!DOCTYPE/.test(placeholder)){</span>
<span class="cstat-no" title="statement not covered" >								placeholder = placeholder + '\r\n&lt;!--/ '+fileUrl+' --&gt;';</span>
							}else{
<span class="cstat-no" title="statement not covered" >								placeholder = '&lt;!-- '+typeHtml+' '+fileUrl+' --&gt;\r\n' + placeholder + '\r\n&lt;!--/ '+fileUrl+' --&gt;';</span>
							}
						}
					}
					
					//tpl
<span class="cstat-no" title="statement not covered" >					if ( $.is.tpl(item) &amp;&amp; buildTag.tpl &amp;&amp; (item == widgetName+$.is.tplSuffix) ){</span>
<span class="cstat-no" title="statement not covered" >						tmplCompileFn('tpl');</span>
					}
&nbsp;
					//vm
<span class="cstat-no" title="statement not covered" >					if ( $.is.vm(item) &amp;&amp; buildTag.vm &amp;&amp; item == widgetName+$.is.vmSuffix ){</span>
<span class="cstat-no" title="statement not covered" >						tmplCompileFn('vm');</span>
					}
&nbsp;
					//smarty
<span class="cstat-no" title="statement not covered" >					if ( $.is.smarty(item) &amp;&amp; buildTag.smarty &amp;&amp; item == widgetName+$.is.smartySuffix ){</span>
<span class="cstat-no" title="statement not covered" >						tmplCompileFn('smarty');</span>
					}
&nbsp;
					/**
					 * @build widget css
					 */
<span class="cstat-no" title="statement not covered" >					if ($.is.css(item) &amp;&amp; !filesListObj[staticUrl] &amp;&amp; buildTag.css &amp;&amp; item == widgetName+$.is.cssSuffix ){</span>
<span class="cstat-no" title="statement not covered" >						cssCompileFn(staticUrl);</span>
					}
&nbsp;
					/**
					 * @build widget js
					 */
<span class="cstat-no" title="statement not covered" >					if ($.is.js(item) &amp;&amp; !filesListObj[staticUrl] &amp;&amp; buildTag.js &amp;&amp; item == widgetName+$.is.jsSuffix){</span>
<span class="cstat-no" title="statement not covered" >						jsCompileFn(staticUrl);</span>
					}
				});
				/*
				if (isJM){
					origin = origin.replace(widgetStr,placeholder);
				}*/
				//替换掉{%widget name="base"%} 
<span class="cstat-no" title="statement not covered" >				content = content.replace(widgetStr,placeholder);</span>
			}else{
<span class="cstat-no" title="statement not covered" >				console.log('jdf warning [jdf.buildWidget] ' +widgetStr +' widget '+ widgetName+ ' does not exist.');</span>
			}
		});
		
		//去掉{%widgetOutputName="mywidgetname"%}
<span class="cstat-no" title="statement not covered" >		var getContentWidgetOutputName = $.reg.widgetOutputName().exec(content);</span>
<span class="cstat-no" title="statement not covered" >		if ( getContentWidgetOutputName ){</span>
<span class="cstat-no" title="statement not covered" >			content = content.replace(getContentWidgetOutputName[0],'');</span>
		}
&nbsp;
		//css,js路径替换
<span class="cstat-no" title="statement not covered" >		if (isOutput) <span class="cstat-no" title="statement not covered" >content = staticUrlReplace(content);</span></span>
&nbsp;
		//release output处理
<span class="cstat-no" title="statement not covered" >		if (isRelease || isOutput){</span>
			//修改为默认取配置文件中的widgetOutputName 2014-5-24
<span class="cstat-no" title="statement not covered" >			var pkgName = jdf.config.widgetOutputName;</span>
			//var pkgName = path.basename(inputPath).replace('.html', '');
<span class="cstat-no" title="statement not covered" >			if (getContentWidgetOutputName){</span>
<span class="cstat-no" title="statement not covered" >				pkgName = getContentWidgetOutputName[1];</span>
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >			var outputDir = jdf.bgCurrentDir;</span>
<span class="cstat-no" title="statement not covered" >			var outputCss = '/' + jdf.config.cssDir+'/'+pkgName+'.css';</span>
<span class="cstat-no" title="statement not covered" >			var outputJs = '/' + jdf.config.jsDir+'/'+pkgName+'.js';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			var cssOutputDir = '/' + jdf.config.cssDir.replace(jdf.config.baseDir+'/', '') +'/';</span>
<span class="cstat-no" title="statement not covered" >			var jsOutputDir = '/' + jdf.config.jsDir.replace(jdf.config.baseDir+'/', '') +'/';</span>
<span class="cstat-no" title="statement not covered" >			if (isOutput) {</span>
<span class="cstat-no" title="statement not covered" >				if(jdf.config.cdn){</span>
<span class="cstat-no" title="statement not covered" >					outputCss = '/' +  jdf.getProjectPath() + cssOutputDir+pkgName+'.css';</span>
<span class="cstat-no" title="statement not covered" >					outputCss = $.replaceSlash(outputCss);</span>
<span class="cstat-no" title="statement not covered" >					outputCss = jdf.config.cdn + outputCss;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >					outputJs = '/' + jdf.getProjectPath() + jsOutputDir+pkgName+'.js';</span>
<span class="cstat-no" title="statement not covered" >					outputJs = $.replaceSlash(outputJs);</span>
<span class="cstat-no" title="statement not covered" >					outputJs = jdf.config.cdn + outputJs;</span>
				}else{
<span class="cstat-no" title="statement not covered" >					outputCss = addgetProjectPath(cssOutputDir+pkgName+'.css');</span>
<span class="cstat-no" title="statement not covered" >					outputJs = addgetProjectPath(jsOutputDir+pkgName+'.js');</span>
				}
			}
&nbsp;
			//seajsAddCdn
<span class="cstat-no" title="statement not covered" >			content = seajsAddCdn(content);</span>
&nbsp;
			//widgetUrlAddCdn
<span class="cstat-no" title="statement not covered" >			content = widgetUrlAddCdn(content);</span>
	
			//css链接加前缀
<span class="cstat-no" title="statement not covered" >			if(jdf.config.output.combineWidgetCss &amp;&amp; cssFile !=''){</span>
<span class="cstat-no" title="statement not covered" >				var cssLink = $.placeholder.cssLink(outputCss);</span>
<span class="cstat-no" title="statement not covered" >				content = $.placeholder.insertHead(content, cssLink  );</span>
<span class="cstat-no" title="statement not covered" >				f.write(path.normalize(outputDir+'/' + jdf.config.cssDir+'/'+pkgName+'.css') , cssFile);</span>
			}else <span class="cstat-no" title="statement not covered" >if(jdf.config.output.cssCombo &amp;&amp; cssComboArr.length){</span>
<span class="cstat-no" title="statement not covered" >				cssComboArr = $.uniq(cssComboArr);</span>
<span class="cstat-no" title="statement not covered" >				var outputCss1 = '/' +  jdf.getProjectPath() +'/widget/??'+cssComboArr.join(',');</span>
<span class="cstat-no" title="statement not covered" >				outputCss1 = jdf.config.cdn + $.replaceSlash(outputCss1);</span>
<span class="cstat-no" title="statement not covered" >				var cssLink1 = $.placeholder.cssLink(outputCss1);</span>
<span class="cstat-no" title="statement not covered" >				content = $.placeholder.insertHead(content, cssLink1);</span>
			}
&nbsp;
			//js链接加前缀
<span class="cstat-no" title="statement not covered" >			if(jdf.config.output.combineWidgetJs &amp;&amp; jsFile !=''){</span>
<span class="cstat-no" title="statement not covered" >				var jsLink = $.placeholder.jsLink(outputJs);</span>
<span class="cstat-no" title="statement not covered" >				content = buildWidget.insertJs(content,jsLink,jdf.config.output.jsPlace);</span>
<span class="cstat-no" title="statement not covered" >				f.write(path.normalize(outputDir+'/' + jdf.config.jsDir+'/'+pkgName+'.js') , jsFile);</span>
			}else <span class="cstat-no" title="statement not covered" >if(jdf.config.output.jsCombo &amp;&amp; jsComboArr.length){</span>
<span class="cstat-no" title="statement not covered" >				jsComboArr = $.uniq(jsComboArr);</span>
<span class="cstat-no" title="statement not covered" >				var outputJs1 = '/' +  jdf.getProjectPath() +'/widget/??'+jsComboArr.join(',');</span>
<span class="cstat-no" title="statement not covered" >				outputJs1 = jdf.config.cdn + $.replaceSlash(outputJs1);</span>
<span class="cstat-no" title="statement not covered" >				var jsLink1 = $.placeholder.jsLink(outputJs1);</span>
<span class="cstat-no" title="statement not covered" >				content = buildWidget.insertJs(content,jsLink1, jdf.config.output.jsPlace);</span>
			}
		}
	}else{
		//css,js路径替换
<span class="cstat-no" title="statement not covered" >		if (isOutput) <span class="cstat-no" title="statement not covered" >content = staticUrlReplace(content);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		if (isRelease || isOutput){</span>
			//seajsAddCdn
<span class="cstat-no" title="statement not covered" >			content = seajsAddCdn(content);</span>
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		if (isOutput){</span>
			//widgetUrlAddCdn
<span class="cstat-no" title="statement not covered" >			content = widgetUrlAddCdn(content);</span>
		}
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	var data = {</span>
		origin:origin,
		tpl:content,
		css:cssFile,
		js:jsFile
	}
<span class="cstat-no" title="statement not covered" >	if (callback) <span class="cstat-no" title="statement not covered" >callback(data);</span></span>
}
&nbsp;
&nbsp;
/**
 * @insertJs
 * @(考虑到性能 insertHead -&gt; insertBody) -&gt; 放head有利于前后端沟通,可通过配置修改
 * @jdf.config.output.jsPlace 'insertHead' --&gt; header ; 'insertBody' --&gt; body
 */
buildWidget.insertJs = <span class="fstat-no" title="function not covered" >function(content, jsLink, jsPlace){</span>
<span class="cstat-no" title="statement not covered" >	if(jsPlace == 'insertHead'){</span>
<span class="cstat-no" title="statement not covered" >		content = $.placeholder.insertHead(content, jsLink);</span>
	}else <span class="cstat-no" title="statement not covered" >if(jsPlace == 'insertBody'){</span>
<span class="cstat-no" title="statement not covered" >		content = $.placeholder.insertBody(content, jsLink);</span>
	}
<span class="cstat-no" title="statement not covered" >	return content;</span>
}
&nbsp;
/**
* @非widget引用, 原页面上的静态资源css, js链接替换处理: js直接加cdn, css链接根据配置是否combo加cdn
* @param {String} str 源代码
* @return {String} 替换后的源代码
* @example
	&lt;link type="text/css" rel="stylesheet"  href="../app/css/main.css" /&gt;
	&lt;link type="text/css" rel="stylesheet"  href="../app/css/less.css" /&gt;
	==&gt;
	&lt;link type="text/css" rel="stylesheet"  href="http://cdnul.com/??productpath/css/main.css,productpath/css/less.css" /&gt;
&nbsp;
	&lt;script type="text/javascript" src="../app/js/common.js"&gt;&lt;/script&gt;
	 ==&gt;
	&lt;script type="text/javascript" src="http://cdnul.com/productpath/js/common.js"&gt;&lt;/script&gt;
*/
<span class="fstat-no" title="function not covered" >function staticUrlReplace(str){</span>
<span class="cstat-no" title="statement not covered" >	var replaceCore= <span class="fstat-no" title="function not covered" >function (str,type){</span></span>
<span class="cstat-no" title="statement not covered" >		var regStr = $.reg[type+'Str'];</span>
<span class="cstat-no" title="statement not covered" >		var reg = new RegExp(regStr,'gm');</span>
<span class="cstat-no" title="statement not covered" >		var regResult =  str.match(reg);</span>
		
<span class="cstat-no" title="statement not covered" >		if (regResult){</span>
<span class="cstat-no" title="statement not covered" >			var comboArray = [];</span>
<span class="cstat-no" title="statement not covered" >			regResult.forEach(<span class="fstat-no" title="function not covered" >function(item){</span></span>
<span class="cstat-no" title="statement not covered" >				var reg = new RegExp(regStr,'gm');</span>
<span class="cstat-no" title="statement not covered" >				var i = reg.exec(item);</span>
<span class="cstat-no" title="statement not covered" >				var cdnRegStr = jdf.config.cdnDefalut ? jdf.config.cdnDefalut : jdf.config.cdn;</span>
<span class="cstat-no" title="statement not covered" >				var cdnReg = new RegExp(cdnRegStr+'/', 'gm');</span>
<span class="cstat-no" title="statement not covered" >				var k = i['input'];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				var strReplace = <span class="fstat-no" title="function not covered" >function (){</span></span>
<span class="cstat-no" title="statement not covered" >					if(!/href="\/\//.test(k)){</span>
						//默认的js/css路径置为空
<span class="cstat-no" title="statement not covered" >						var kReg = new RegExp(k, 'gmi')</span>
<span class="cstat-no" title="statement not covered" >						var JReg = new RegExp(k+'\r\n', 'gmi')</span>
<span class="cstat-no" title="statement not covered" >						str = str.replace(kReg, '');</span>
<span class="cstat-no" title="statement not covered" >						str = str.replace(JReg, '');</span>
					}
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(i &amp;&amp; !cdnReg.test(i[1]) &amp;&amp; !$.is.httpLink(i[1]) ){</span>
					//var t = i[1].replace(cdnReg, '');
					//comboArray.push(t);
<span class="cstat-no" title="statement not covered" >					strReplace();</span>
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				if ( i &amp;&amp; !$.is.httpLink(i[1]) ){</span>
					//url
<span class="cstat-no" title="statement not covered" >					var j = i[1];</span>
<span class="cstat-no" title="statement not covered" >					j = projectPathReplace(j);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >					var widgetReg = new RegExp('^'+jdf.config.widgetDir, 'gm');</span>
<span class="cstat-no" title="statement not covered" >					if(! widgetReg.test(j)){</span>
<span class="cstat-no" title="statement not covered" >						comboArray.push(j);</span>
<span class="cstat-no" title="statement not covered" >						strReplace();</span>
					}
				}
			});
&nbsp;
			//console.log(comboArray);
<span class="cstat-no" title="statement not covered" >			if(comboArray.length&gt;0){</span>
<span class="cstat-no" title="statement not covered" >				comboArray = $.uniq(comboArray);</span>
<span class="cstat-no" title="statement not covered" >				var tagSrc = '';</span>
				
				//combo
<span class="cstat-no" title="statement not covered" >				if(jdf.config.output[type+'Combo'] &amp;&amp; jdf.config.cdn){</span>
<span class="cstat-no" title="statement not covered" >					var cdnPrefix = '';</span>
<span class="cstat-no" title="statement not covered" >					cdnPrefix =  jdf.config.cdn + (comboArray.length&gt;1 ? '/??' : '/');</span>
<span class="cstat-no" title="statement not covered" >					var comboUrl = comboArray.join(',');</span>
<span class="cstat-no" title="statement not covered" >					comboUrl = comboUrl.replace(/\/\//gm,'/');</span>
<span class="cstat-no" title="statement not covered" >					var staticUrl =  cdnPrefix + comboUrl;</span>
<span class="cstat-no" title="statement not covered" >					tagSrc = '' + $.placeholder[type+'comboLink'](staticUrl);</span>
				}else{
<span class="cstat-no" title="statement not covered" >					for (var i=0; i&lt;comboArray.length; i++){</span>
<span class="cstat-no" title="statement not covered" >						var item = comboArray[i];</span>
<span class="cstat-no" title="statement not covered" >						item = jdf.config.cdn ? jdf.config.cdn+'/'+item : item;</span>
<span class="cstat-no" title="statement not covered" >						item = addgetProjectPath(item) ;</span>
<span class="cstat-no" title="statement not covered" >						tagSrc += $.placeholder[type+'Link'](item);</span>
					}
				}
&nbsp;
				//console.log(tagSrc);
				// if (/&lt;\/head&gt;/.test(str)) {
<span class="cstat-no" title="statement not covered" >					if (type == 'js') {</span>
<span class="cstat-no" title="statement not covered" >						str = buildWidget.insertJs(str,tagSrc, jdf.config.output.jsPlace);</span>
					}else{
<span class="cstat-no" title="statement not covered" >						str = $.placeholder.insertHead(str, tagSrc);</span>
					}
				// } else{
				// 	str += tagSrc;
				// };
			}
		}
<span class="cstat-no" title="statement not covered" >		return str;</span>
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	str = replaceCore(str, 'css');</span>
<span class="cstat-no" title="statement not covered" >	str = replaceCore(str, 'js');</span>
<span class="cstat-no" title="statement not covered" >	return str;</span>
}
&nbsp;
/**
* @seajs.use add prefix 
* @example  
*	seajs.use(['/a.js', '/b.js'],function(){}) ==&gt; 
*	seajs.use(['projectPath/a.js', 'projectPath/b.js'],function(){})
*/
<span class="fstat-no" title="function not covered" >function seajsAddCdn(source){</span>
<span class="cstat-no" title="statement not covered" >	var cdn = jdf.config.cdn;</span>
<span class="cstat-no" title="statement not covered" >	var configBaseDir = jdf.config.baseDir ? jdf.config.baseDir+'/'  : '';</span>
<span class="cstat-no" title="statement not covered" >	var tag = source.match(/seajs.use\((.*?)\S*[function)|]/gmi);</span>
<span class="cstat-no" title="statement not covered" >	if (tag) {</span>
<span class="cstat-no" title="statement not covered" >		var tempObj = {};</span>
<span class="cstat-no" title="statement not covered" >		for (var i =0, j= tag.length; i&lt;j; i++){</span>
<span class="cstat-no" title="statement not covered" >			var  t= tag[i].replace(/seajs.use\(|\[|\]|\)/gim, "");</span>
<span class="cstat-no" title="statement not covered" >			t = t.replace(/function\(/gim, "");</span>
<span class="cstat-no" title="statement not covered" >			var t1 = t.split(',');</span>
<span class="cstat-no" title="statement not covered" >			if (t1) {</span>
<span class="cstat-no" title="statement not covered" >				for (var m=0; m&lt;t1.length; m++ ){</span>
<span class="cstat-no" title="statement not covered" >					var t2 = t1[m].replace(/\"/g, '').replace(/\'/g, '');</span>
					//js和widget的路径,'js/a.js'的不做替换
<span class="cstat-no" title="statement not covered" >					var t1R = new RegExp(jdf.config.jsDir+'/|'+jdf.config.widgetDir+'/', 'gm');</span>
<span class="cstat-no" title="statement not covered" >					if ( t1R.test(t2) &amp;&amp; !$.is.httpLink(t2) &amp;&amp; </span>
						( t2.charAt(0) == '/' || t2.charAt(0) == '\\' || t2.charAt(0) == '.' )
					) {
<span class="cstat-no" title="statement not covered" >						tempObj[t2] = projectPathReplace(t2);</span>
					}
				}
			}
		}
		
<span class="cstat-no" title="statement not covered" >		for (var i in  tempObj ){</span>
<span class="cstat-no" title="statement not covered" >			var reg = new RegExp(escape(i), 'gim');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(cdn){</span>
<span class="cstat-no" title="statement not covered" >				tempObj[i] = cdn + '/' + tempObj[i];</span>
			}
<span class="cstat-no" title="statement not covered" >			source = source.replace(reg, tempObj[i]);</span>
		}
	}
<span class="cstat-no" title="statement not covered" >	return source;</span>
}
&nbsp;
/**
 * @addgetProjectPath
 */
<span class="fstat-no" title="function not covered" >function addgetProjectPath(str){</span>
<span class="cstat-no" title="statement not covered" >	if(!jdf.config.cdn &amp;&amp; !/^\.\./.test(str)){</span>
<span class="cstat-no" title="statement not covered" >		str = '..'+str;</span>
	}
<span class="cstat-no" title="statement not covered" >	return str ;</span>
}
&nbsp;
/**
 * @引用widget文件下的img/cssLink/jsLink add cdn prefix
 * @example 
 	&lt;img src="/widget/a/a.png"&gt;&lt;img src='/widget/a/a.png'&gt;&lt;img src='../widget/a/a.png'&gt;&lt;img src="./widget/a/a.png"&gt; 
 	---&gt;
 	&lt;img src="http://cdn.com/projectPath/widget/a/a.png"&gt;
 */
<span class="fstat-no" title="function not covered" >function widgetUrlAddCdn(source){</span>
<span class="cstat-no" title="statement not covered" >	var configBaseDir = jdf.config.baseDir ? jdf.config.baseDir+'/'  : '';</span>
<span class="cstat-no" title="statement not covered" >	var tag = source.match(/["|'][\\.]*\/widget\/\S*["|']/gmi);</span>
<span class="cstat-no" title="statement not covered" >	if (tag) {</span>
<span class="cstat-no" title="statement not covered" >		var tempObj = {};</span>
<span class="cstat-no" title="statement not covered" >		for (var i =0, j= tag.length; i&lt;j; i++){</span>
<span class="cstat-no" title="statement not covered" >			var  t = tag[i].replace(/["|']/gim, "");</span>
<span class="cstat-no" title="statement not covered" >			var t1 = t;</span>
<span class="cstat-no" title="statement not covered" >			if(jdf.config.cdn){</span>
<span class="cstat-no" title="statement not covered" >				var t2 = '/' + jdf.getProjectPath() + t.replace(/^\.*/, "");</span>
<span class="cstat-no" title="statement not covered" >				t2 = $.replaceSlash(t2);</span>
<span class="cstat-no" title="statement not covered" >				t1 = jdf.config.cdn + t2;</span>
			}else{
<span class="cstat-no" title="statement not covered" >				t1 = addgetProjectPath(t1) ;</span>
<span class="cstat-no" title="statement not covered" >				t1 = $.replaceSlash(t1);</span>
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(t != t1){</span>
<span class="cstat-no" title="statement not covered" >				tempObj[t] = t1;</span>
			}
		}
<span class="cstat-no" title="statement not covered" >		for (var i in tempObj ){</span>
<span class="cstat-no" title="statement not covered" >			var reg = new RegExp(i, 'gim');</span>
<span class="cstat-no" title="statement not covered" >			source = source.replace(reg, tempObj[i]);</span>
		}
	}
<span class="cstat-no" title="statement not covered" >	return source;</span>
}
&nbsp;
&nbsp;
/**
 * @projectPathReplace
 * @ctime 2014-7-5
 * @example 
	/css/index.css
	../css/index.css
	==&gt;
	projectPath/css/index.css
 */
<span class="fstat-no" title="function not covered" >function projectPathReplace(j){</span>
<span class="cstat-no" title="statement not covered" >	j = j.replace(jdf.config.baseDir, '');</span>
					
<span class="cstat-no" title="statement not covered" >	if(jdf.config.cdn){</span>
<span class="cstat-no" title="statement not covered" >		j = j.replace(/\.\.\//g,'/');</span>
		//add projectPath
<span class="cstat-no" title="statement not covered" >		j = jdf.getProjectPath() +	j;</span>
		// del ../  ./  
<span class="cstat-no" title="statement not covered" >		if (j.charAt(0) == '/') { <span class="cstat-no" title="statement not covered" >j = j.replace('/','');}</span></span>
		// 替换./和//为/
<span class="cstat-no" title="statement not covered" >		j = j.replace(/\/\/|\.\//gm, '/');</span>
	}
&nbsp;
	// // ==&gt; /
<span class="cstat-no" title="statement not covered" >	j = j.replace(/\/\//gm,'/');</span>
<span class="cstat-no" title="statement not covered" >	return j;</span>
}
&nbsp;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/compress.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/compress.js</span></h1>
    <h2>
        
        Statements: <span class="metric">2.6% <small>(10 / 384)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 282)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 24)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">2.72% <small>(10 / 368)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; compress.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @文件压缩
 * @see
 *
 * UglifyJS: uglify-js 
 * homePage: 
 * 配置 http://lisperator.net/uglifyjs/codegen
 * 配置2 http://lisperator.net/uglifyjs/compress
 * 
 * CleanCSS: clean-css
 * 配置 https://github.com/GoalSmashers/clean-css#how-to-use-clean-css-programmatically
 * 
 * Pngquant: node-pngquant-native
 *
 */
&nbsp;
var path = require('path');
var fs = require('fs');
var requirejs = require('requirejs');
&nbsp;
//lib自身组件
var $ = require('./base.js');
var f = require('./file.js');
var jdf = require('./jdf.js');
var base64 = require('./base64.js');
&nbsp;
//外部组件
var UglifyJS = require("uglify-js");
var CleanCSS = require('clean-css');
// var Pngcrush = require('node-pngcrush');
var Pngquant = require('jdf-png-native');
<span class="cstat-no" title="statement not covered" >var Htmlminify = require('html-minifier').minify;</span>
&nbsp;
//exports
<span class="cstat-no" title="statement not covered" >var compress = module.exports = {};</span>
&nbsp;
/**
 * @文件压缩初始化
 * @time 2014-2-14 16:19:18
 * @param src 输入文件/文件夹相对路径,无dest默认compress src
 * @param dest 输出文件/文件夹相对路径
 */
<span class="cstat-no" title="statement not covered" >compress.dir = <span class="fstat-no" title="function not covered" >function(src, dest) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (typeof(src) == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >        console.log('jdf warning no src folder');</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var srcPath = path.normalize(f.currentDir() + '/' + src);</span>
<span class="cstat-no" title="statement not covered" >    var destPath;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (typeof(dest) == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >        destPath = srcPath;</span>
    } else {
<span class="cstat-no" title="statement not covered" >        destPath = path.normalize(f.currentDir() + '/' + dest);</span>
<span class="cstat-no" title="statement not covered" >        f.copy(srcPath, destPath);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    compress.init(destPath);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    console.log('jdf compress success!');</span>
}
&nbsp;
/**
 * @文件/文件夹压缩
 * @param {String} rSource 文件/文件夹绝对路径
 * @param {Boolse} isdebug debug模式true时不压缩代码,仅处理路径
 * @param {Object} config 多线程传参数jdf.config
 * @param {Function} getProject 多线程传参数jdf.getProject
 */
<span class="cstat-no" title="statement not covered" >compress.init = <span class="fstat-no" title="function not covered" >function(rSource, isdebug, config, getProject, callback) {</span></span>
<span class="cstat-no" title="statement not covered" >    if (typeof(config) != 'undefined') <span class="cstat-no" title="statement not covered" >jdf.config = config;</span></span>
<span class="cstat-no" title="statement not covered" >    if (typeof(getProject) != 'undefined') <span class="cstat-no" title="statement not covered" >jdf.getProject = getProject;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var isdebug = isdebug || false;</span>
<span class="cstat-no" title="statement not covered" >    var allTag = true;</span>
<span class="cstat-no" title="statement not covered" >    var source = f.realpath(rSource);</span>
<span class="cstat-no" title="statement not covered" >    if (source) {</span>
<span class="cstat-no" title="statement not covered" >        if (f.isDir(source)) {</span>
<span class="cstat-no" title="statement not covered" >            fs.readdirSync(source).forEach(<span class="fstat-no" title="function not covered" >function(name) {</span></span>
<span class="cstat-no" title="statement not covered" >                if (name != '.' &amp;&amp; name != '..' &amp;&amp; !(/.svn/.test(name))) {</span>
<span class="cstat-no" title="statement not covered" >                    allTag = compress.init(source + '/' + name, isdebug) &amp;&amp; allTag;</span>
                }
            });
        } else <span class="cstat-no" title="statement not covered" >if (f.isFile(source)) {</span>
&nbsp;
            //html minify
<span class="cstat-no" title="statement not covered" >            if ($.is.html(source) &amp;&amp; (jdf.config.output.compresshtml||!jdf.config.output.comment||jdf.config.output.htmlContentReplace) ){</span>
<span class="cstat-no" title="statement not covered" >                if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('compress.html---'+source);</span></span>
<span class="cstat-no" title="statement not covered" >                var sourceCode = f.read(source);</span>
&nbsp;
                //html remove comment
<span class="cstat-no" title="statement not covered" >                if (!jdf.config.output.comment) {</span>
<span class="cstat-no" title="statement not covered" >                    var htmlComment = $.reg.htmlComment();</span>
<span class="cstat-no" title="statement not covered" >                    sourceCode = sourceCode.replace(htmlComment, '').replace(/\n\s*\r/g, '');</span>
                }
                
                //html contentReplace
<span class="cstat-no" title="statement not covered" >                if (jdf.config.output.htmlContentReplace || </span>
                    jdf.config.output.htmlContentReplaceInProduce || 
                    jdf.config.output.htmlContentReplaceInPublish
                ) {
<span class="cstat-no" title="statement not covered" >                    var r = jdf.config.output.htmlContentReplace;</span>
<span class="cstat-no" title="statement not covered" >                    if(jdf.config.outputType == 'prod' &amp;&amp; jdf.config.output.htmlContentReplaceInProduce) <span class="cstat-no" title="statement not covered" >r = jdf.config.output.htmlContentReplaceInProduce</span></span>
<span class="cstat-no" title="statement not covered" >                    if(jdf.config.outputType == 'pub' &amp;&amp; jdf.config.output.htmlContentReplaceInPublish)<span class="cstat-no" title="statement not covered" >r = jdf.config.output.htmlContentReplaceInPublish</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                    for (var i=0; i&lt;r.length; i++){</span>
<span class="cstat-no" title="statement not covered" >                        var ri = new RegExp(r[i].from, 'gm');</span>
<span class="cstat-no" title="statement not covered" >                        sourceCode = sourceCode.replace(ri, r[i].to);</span>
                    }
                }
&nbsp;
                //html compress
<span class="cstat-no" title="statement not covered" >                if (jdf.config.output.compresshtml &amp;&amp; !isdebug) {</span>
<span class="cstat-no" title="statement not covered" >                    sourceCode = compress.html(sourceCode, isdebug);</span>
                }
&nbsp;
<span class="cstat-no" title="statement not covered" >                f.write(source, sourceCode);</span>
            }
&nbsp;
            //js UglifyJS
<span class="cstat-no" title="statement not covered" >            if ($.is.js(source) &amp;&amp; !jdf.config.build.es6Entry ) {</span>
<span class="cstat-no" title="statement not covered" >                if (jdf.config.output.rjs) {</span>
<span class="cstat-no" title="statement not covered" >                    var outputdir = path.normalize(f.currentDir() + '/' + jdf.config.outputDirName + '/' + jdf.getProjectPath());</span>
<span class="cstat-no" title="statement not covered" >                    requirejs.optimize({</span>
                        appDir: outputdir,
                        allowSourceOverwrites: true,
                        keepBuildDir: true,
                        dir: outputdir
                    }, <span class="fstat-no" title="function not covered" >function() {</span>}, <span class="fstat-no" title="function not covered" >function(error) {</span>})
                } else {
<span class="cstat-no" title="statement not covered" >                    if (jdf.config.output.compressJs) {</span>
<span class="cstat-no" title="statement not covered" >                        var sourceCode = compress.js(source, isdebug);</span>
<span class="cstat-no" title="statement not covered" >                        f.write(source, sourceCode);</span>
                    }
&nbsp;
<span class="cstat-no" title="statement not covered" >                    var sourceCode = compress.addJsDepends(source);</span>
<span class="cstat-no" title="statement not covered" >                    f.write(source, sourceCode);</span>
&nbsp;
                    //jsContentReplace
<span class="cstat-no" title="statement not covered" >                    if (jdf.config.output.jsContentReplace || </span>
                        jdf.config.output.jsContentReplaceInProduce || 
                        jdf.config.output.jsContentReplaceInPublish
                    ) {
<span class="cstat-no" title="statement not covered" >                        var r = jdf.config.output.jsContentReplace;</span>
<span class="cstat-no" title="statement not covered" >                        if(jdf.config.outputType == 'prod' &amp;&amp; jdf.config.output.jsContentReplaceInProduce) <span class="cstat-no" title="statement not covered" >r = jdf.config.output.jsContentReplaceInProduce</span></span>
<span class="cstat-no" title="statement not covered" >                        if(jdf.config.outputType == 'pub' &amp;&amp; jdf.config.output.jsContentReplaceInPublish)<span class="cstat-no" title="statement not covered" >r = jdf.config.output.jsContentReplaceInPublish</span></span>
<span class="cstat-no" title="statement not covered" >                        var sourceCode = f.read(source);</span>
<span class="cstat-no" title="statement not covered" >                        for (var i=0; i&lt;r.length; i++){</span>
<span class="cstat-no" title="statement not covered" >                            var ri = new RegExp(r[i].from, 'gm');</span>
<span class="cstat-no" title="statement not covered" >                            sourceCode = sourceCode.replace(ri, r[i].to);</span>
                        }
<span class="cstat-no" title="statement not covered" >                        f.write(source, sourceCode);</span>
                    }
                }
            }
&nbsp;
            //css CleanCSS
<span class="cstat-no" title="statement not covered" >            if ($.is.css(source) &amp;&amp; jdf.config.output.compressCss) {</span>
<span class="cstat-no" title="statement not covered" >                var sourceCode = compress.css(source, isdebug);</span>
<span class="cstat-no" title="statement not covered" >                f.write(source, sourceCode);</span>
            } else <span class="cstat-no" title="statement not covered" >if ($.is.css(source)) {</span>
<span class="cstat-no" title="statement not covered" >                var sourceCode = compress.css2(source, isdebug);</span>
<span class="cstat-no" title="statement not covered" >                f.write(source, sourceCode);</span>
            }
&nbsp;
            //png optimize
<span class="cstat-no" title="statement not covered" >            if ($.is.png(source) &amp;&amp; !isdebug &amp;&amp; jdf.config.output.compressPng) {</span>
<span class="cstat-no" title="statement not covered" >                compress.png(source, source);</span>
            }
&nbsp;
            //css中图片url增加域名前缀
<span class="cstat-no" title="statement not covered" >            if (jdf.config.output.cssImagesUrlReplace &amp;&amp; $.is.css(source)) {</span>
<span class="cstat-no" title="statement not covered" >                var sourceCode = compress.cssImagesUrlReplace(source, sourceCode, jdf.config.cdn);</span>
<span class="cstat-no" title="statement not covered" >                f.write(source, sourceCode);</span>
            }
&nbsp;
            //图片base64
<span class="cstat-no" title="statement not covered" >            if (jdf.config.output.base64 &amp;&amp; ($.is.sass(source) || $.is.less(source) || $.is.css(source))) {</span>
<span class="cstat-no" title="statement not covered" >                var sourceCode = base64.init(source);</span>
<span class="cstat-no" title="statement not covered" >                f.write(source, sourceCode);</span>
            }
&nbsp;
            //图片webp
<span class="cstat-no" title="statement not covered" >            if (jdf.config.output.webp) {</span>
                //css webp样式追加
<span class="cstat-no" title="statement not covered" >                if ($.is.css(source)) {</span>
<span class="cstat-no" title="statement not covered" >                    compress.appendWebpCSSFIX(source);</span>
                }
&nbsp;
                //图片格式转换
<span class="cstat-no" title="statement not covered" >                if ($.is.jpg(source) || $.is.png(source)) {</span>
<span class="cstat-no" title="statement not covered" >                    compress.webp(</span>
                        source,
                        source + ".webp",
                        jdf.config.output.webpQuality ? jdf.config.output.webpQuality : 80,
<span class="fstat-no" title="function not covered" >                        function(status) {</span>
<span class="cstat-no" title="statement not covered" >                            if (callback) {</span>
<span class="cstat-no" title="statement not covered" >                                callback(status);</span>
&nbsp;
                            }
                        }
                    );
                } else {
<span class="cstat-no" title="statement not covered" >                    if (callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
                }
            } else {
<span class="cstat-no" title="statement not covered" >                if (callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
            }
&nbsp;
        } else {
<span class="cstat-no" title="statement not covered" >            allTag = false;</span>
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback(false);</span></span>
        }
    } else {
<span class="cstat-no" title="statement not covered" >        if (callback) <span class="cstat-no" title="statement not covered" >callback(false);</span></span>
        //console.log('error');
    }
<span class="cstat-no" title="statement not covered" >    return allTag;</span>
}
&nbsp;
/**
 * @js文件依赖替换
 * @time 2014-2-21 18:46:24
 * @param source 文件名
 * @param source 文件内容
 * 
 *   var a=require('a.js') ==&gt; var a=require('projectPath/a.js')
 *
 *   define('/a.js',function(require, exports) {});  ==&gt;
 *   define('projectPath/a.js', ['projectPath/b.js'], function(require, exports) {});
 *
 *  define(function(require, exports)) ==&gt; 
 *  define('projectPath/a.js',['projectPath/b.js'],function(require, exports))
 *
 *  seajs.use(['/a.js', '/b.js'],function(){}) ==&gt; 
 *  seajs.use(['projectPath/a.js', 'projectPath/b.js'],function(){})
 * 
 */
<span class="cstat-no" title="statement not covered" >compress.addJsDepends = <span class="fstat-no" title="function not covered" >function(source) {</span></span>
<span class="cstat-no" title="statement not covered" >    var sourceCode = f.read(source);</span>
<span class="cstat-no" title="statement not covered" >    var cdn = jdf.config.cdn;</span>
<span class="cstat-no" title="statement not covered" >    var configBaseDir = jdf.config.baseDir ? jdf.config.baseDir + '/' : '';</span>
<span class="cstat-no" title="statement not covered" >    var dependenceArray = [];</span>
<span class="cstat-no" title="statement not covered" >    var arr = sourceCode.match(/require\s*\(\s*("|')(.*?)("|')\s*\)/gmi);</span>
&nbsp;
    //js文件的id和dependences是否添加cdn前缀 默认是不添加的
<span class="cstat-no" title="statement not covered" >    if(jdf.config.output.jsUrlReplace == false){</span>
<span class="cstat-no" title="statement not covered" >        cdn = "";</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (arr) {</span>
<span class="cstat-no" title="statement not covered" >        for (var i = 0; i &lt; arr.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            var temp = arr[i].match(/require\((.*?)\)/);</span>
<span class="cstat-no" title="statement not covered" >            if (temp) {</span>
<span class="cstat-no" title="statement not covered" >                temp[1] = temp[1].replace(/'|"/g, '');</span>
<span class="cstat-no" title="statement not covered" >                var match = temp[1];</span>
                //无.js缀和不含有.css的url加.js
<span class="cstat-no" title="statement not covered" >                if (!(/\.js$/i.test(match)) &amp;&amp; !/\.css/i.test(match)) {</span>
<span class="cstat-no" title="statement not covered" >                    match += '.js';</span>
                }
                //add prefix
<span class="cstat-no" title="statement not covered" >                if (/^\//.test(match) &amp;&amp; !$.is.httpLink(match)) {</span>
<span class="cstat-no" title="statement not covered" >                    match = match.replace(configBaseDir, '');</span>
<span class="cstat-no" title="statement not covered" >                    match = jdf.getProjectPath() + match;</span>
                }
&nbsp;
<span class="cstat-no" title="statement not covered" >                if (cdn &amp;&amp; !$.is.httpLink(match)) {</span>
<span class="cstat-no" title="statement not covered" >                    match = (cdn + '/' + match);</span>
                }
&nbsp;
                //source content require add prefix
                //var a=require('a.js') ==&gt; var a=require('projectPath/a.js')
<span class="cstat-no" title="statement not covered" >                sourceCode = sourceCode.replace(arr[i], 'require("' + match + '")');</span>
<span class="cstat-no" title="statement not covered" >                dependenceArray.push('"' + match + '"');</span>
            }
        }
    }
<span class="cstat-no" title="statement not covered" >    dependenceArray = dependenceArray.join(',');</span>
&nbsp;
    /**
     * @has file id add dependenceArray
     * @example
     *   define('/a.js',function(require, exports) {});  ==&gt;
     *   define('projectPath/a.js', ['projectPath/b.js'], function(require, exports) {});
     */
<span class="cstat-no" title="statement not covered" >    if (dependenceArray.length &gt; 0) {</span>
        //insert 
<span class="cstat-no" title="statement not covered" >        var arrTemp = /(define\(.*?["|'].*?["|']).*?,function/m.exec(sourceCode);</span>
<span class="cstat-no" title="statement not covered" >        var strTemp = arrTemp ? arrTemp[1] : null;</span>
<span class="cstat-no" title="statement not covered" >        if (strTemp) {</span>
            // source = source.replace(strTemp, strTemp+','+'['+dependenceArray+']');
        }
    }
&nbsp;
    /**
     * @add files id and dependenceArray
     * @example  
     *  define(function(require, exports)) ==&gt; 
     *  define('projectPath/a.js',['projectPath/b.js'],function(require, exports))
     */
<span class="cstat-no" title="statement not covered" >    if (/define\(function/gm.exec(sourceCode)) {</span>
        //getProjectPath
<span class="cstat-no" title="statement not covered" >        var filepath = source.split(jdf.config.outputDirName + '/' + jdf.getProjectPath());</span>
<span class="cstat-no" title="statement not covered" >        var filename = null;</span>
<span class="cstat-no" title="statement not covered" >        if (filepath &amp;&amp; filepath.length &gt; 1) {</span>
<span class="cstat-no" title="statement not covered" >            filename = filepath[1].replace(configBaseDir, '');</span>
            
<span class="cstat-no" title="statement not covered" >            var getProjectPath = jdf.getProjectPath() ? jdf.getProjectPath() + '/' : '';</span>
<span class="cstat-no" title="statement not covered" >            if(jdf.config.output.jsUrlReplace == false || jdf.config.cdn){</span>
<span class="cstat-no" title="statement not covered" >                filename = getProjectPath + filename;</span>
            }else{
                //不加cdn前缀 也不加projectPath 即保持默认的路径
<span class="cstat-no" title="statement not covered" >                filename = '..'  + filename;</span>
            }
&nbsp;
        };
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (!filename) {</span>
<span class="cstat-no" title="statement not covered" >            filename = path.basename(source);</span>
        }
&nbsp;
        //del // prefix
<span class="cstat-no" title="statement not covered" >        filename = filename.replace(/\/\//g, '/');</span>
<span class="cstat-no" title="statement not covered" >        if (dependenceArray.length == 0) {</span>
<span class="cstat-no" title="statement not covered" >            dependenceArray = '';</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (cdn &amp;&amp; !($.is.httpLink(filename))) {</span>
<span class="cstat-no" title="statement not covered" >            filename = cdn + '/' + filename;</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        sourceCode = sourceCode.replace('define(function', 'define("' + filename + '",[' + dependenceArray + '],function');</span>
    }
&nbsp;
    /**
     * @seajs.use add prefix 
     * @example  
     *  seajs.use(['/a.js', '/b.js'],function(){}) ==&gt; 
     *  seajs.use(['projectPath/a.js', 'projectPath/b.js'],function(){})
     */
<span class="cstat-no" title="statement not covered" >    var hasSeajs = sourceCode.match(/seajs\.use\((.*?),\s*function/gim);</span>
<span class="cstat-no" title="statement not covered" >    if (hasSeajs) {</span>
        //去重obj
<span class="cstat-no" title="statement not covered" >        var tempObj = {};</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        for (var i = 0, j = hasSeajs.length; i &lt; j; i++) {</span>
<span class="cstat-no" title="statement not covered" >            var t = hasSeajs[i].replace(/seajs.use\(|\[|\]|,function/gim, '');</span>
<span class="cstat-no" title="statement not covered" >            var t1 = t.split(',');</span>
<span class="cstat-no" title="statement not covered" >            if (t1) {</span>
<span class="cstat-no" title="statement not covered" >                for (var m = 0; m &lt; t1.length; m++) {</span>
                    //get origin source
<span class="cstat-no" title="statement not covered" >                    var t2 = t1[m].replace(/[\"\'\s]/g, '');</span>
<span class="cstat-no" title="statement not covered" >                    var t3 = t2.replace(configBaseDir, '');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                    if (!$.is.httpLink(t2)) {</span>
<span class="cstat-no" title="statement not covered" >                        if (/^\//.test(t2)) {</span>
<span class="cstat-no" title="statement not covered" >                            if (cdn) {</span>
<span class="cstat-no" title="statement not covered" >                                tempObj[t2] = cdn + '/' + jdf.getProjectPath() + t3;</span>
                            } else {
<span class="cstat-no" title="statement not covered" >                                tempObj[t2] = jdf.getProjectPath() + t3;</span>
                            }
&nbsp;
                        } else <span class="cstat-no" title="statement not covered" >if (!/^\.\//.test(t2) &amp;&amp; !/^\.\.\//.test(t2)) {</span>
<span class="cstat-no" title="statement not covered" >                            if (cdn) {</span>
<span class="cstat-no" title="statement not covered" >                                tempObj[t2] = cdn + '/' + t3;</span>
                            } else {
<span class="cstat-no" title="statement not covered" >                                tempObj[t2] = t3;</span>
                            }
                        }
                    }
                }
            }
        }
<span class="cstat-no" title="statement not covered" >        for (var i in tempObj) {</span>
<span class="cstat-no" title="statement not covered" >            var reg = new RegExp('["\']' + i + '["\']', 'gim');</span>
<span class="cstat-no" title="statement not covered" >            sourceCode = sourceCode.replace(reg, '"' + tempObj[i] + '"');</span>
        }
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return sourceCode;</span>
};
&nbsp;
/**
 * @增加前缀banner
 * @return {String} /* projectPath - Date:2014-03-13 13:06:12:120 * /
 */
<span class="cstat-no" title="statement not covered" >compress.setPrefixBanner = <span class="fstat-no" title="function not covered" >function(bannerType, source, result) {</span></span>
<span class="cstat-no" title="statement not covered" >    var projectPath = jdf.getProjectPath() ? jdf.getProjectPath().replace('/', '-') + ' ' : '';</span>
<span class="cstat-no" title="statement not covered" >    var basename = path.basename(source);</span>
<span class="cstat-no" title="statement not covered" >    var banner = '';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (bannerType == 1) {</span>
<span class="cstat-no" title="statement not covered" >        banner = '/* ' + projectPath + basename + ' Date:' + $.getDay('-') + ' ' + $.getTime(':', false) + ' */\r\n';</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (bannerType == 2) {</span>
<span class="cstat-no" title="statement not covered" >        banner = '/* ' + projectPath + basename + ' md5:' + $.md5(result) + ' */\r\n';</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return banner;</span>
}
&nbsp;
/**
 * @html文件压缩
 * @param sourceCode 文件内容
 */
<span class="cstat-no" title="statement not covered" >compress.html = <span class="fstat-no" title="function not covered" >function(sourceCode) {</span></span>
<span class="cstat-no" title="statement not covered" >    if(sourceCode){</span>
<span class="cstat-no" title="statement not covered" >        sourceCode = Htmlminify(sourceCode, {</span>
            removeComments: true, //移除注释
            collapseWhitespace: true, //合并多余的空格
            minifyJS: true, //压缩文件中的js代码
            minifyCSS: true //压缩文件中的css代码
        });
    }
<span class="cstat-no" title="statement not covered" >    return sourceCode;</span>
}
&nbsp;
/**
 * @js文件压缩
 * @param source 文件/文件夹路径
 * @return compress code
 */
<span class="cstat-no" title="statement not covered" >compress.js = <span class="fstat-no" title="function not covered" >function(source, isdebug) {</span></span>
<span class="cstat-no" title="statement not covered" >    if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('compress.js---'+source);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var isdebug = isdebug || false;</span>
<span class="cstat-no" title="statement not covered" >    if (!f.exists(source)) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
<span class="cstat-no" title="statement not covered" >    var sourceContent = f.read(source);</span>
    //sourceContent = compress.addJsDepends(sourceContent);
&nbsp;
<span class="cstat-no" title="statement not covered" >    var options = {</span>
        remove: [], //
        except: ['require', 'define'], //不压缩的字符名
        ascii_only: true, //输出Unicode characters
        beautify: false, //美化代码
        warnings: false //显示压缩报错
            //,mangle: false//是否压缩 失效的参数
    };
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (jdf.config.output.jsRemove) {</span>
<span class="cstat-no" title="statement not covered" >        options.remove = jdf.config.output.jsRemove;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var result = sourceContent;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >        if (!isdebug) {</span>
            //parse
<span class="cstat-no" title="statement not covered" >            UglifyJS.base54.reset();</span>
<span class="cstat-no" title="statement not covered" >            var toplevel = UglifyJS.parse(sourceContent);</span>
<span class="cstat-no" title="statement not covered" >            toplevel.figure_out_scope();</span>
<span class="cstat-no" title="statement not covered" >            var compressorOption = {</span>
                hoist_funs: false, //函数声明至顶端
                //fromString: true,  //说明代码源的格式是否为字符串
                //mangle: true,      //是否压缩,只要配置就不压缩了
                warnings: false, //显示压缩报错
                join_vars: false
            }
<span class="cstat-no" title="statement not covered" >            if (options.warnings) {</span>
<span class="cstat-no" title="statement not covered" >                compressorOption.warnings = options.warnings;</span>
            }
&nbsp;
            //remove console.log
<span class="cstat-no" title="statement not covered" >            var matchRemoveOption = <span class="fstat-no" title="function not covered" >function(host, method) {</span></span>
<span class="cstat-no" title="statement not covered" >                return !options.remove.every(<span class="fstat-no" title="function not covered" >function(element) {</span></span>
<span class="cstat-no" title="statement not covered" >                    if (element.indexOf(".") == -1) {</span>
<span class="cstat-no" title="statement not covered" >                        return element != host;</span>
                    }
<span class="cstat-no" title="statement not covered" >                    return element != host + '.' + method;</span>
                });
            }
<span class="cstat-no" title="statement not covered" >            var removeConsoleTransformer = new UglifyJS.TreeTransformer(<span class="fstat-no" title="function not covered" >function(node, descend) {</span></span>
<span class="cstat-no" title="statement not covered" >                if (node instanceof UglifyJS.AST_Call) {</span>
<span class="cstat-no" title="statement not covered" >                    var host, method;</span>
<span class="cstat-no" title="statement not covered" >                    try {</span>
<span class="cstat-no" title="statement not covered" >                        host = node.expression.start.value;</span>
<span class="cstat-no" title="statement not covered" >                        method = node.expression.end.value;</span>
                    } catch (err) {
&nbsp;
                    }
&nbsp;
<span class="cstat-no" title="statement not covered" >                    if (host &amp;&amp; method) {</span>
<span class="cstat-no" title="statement not covered" >                        if (matchRemoveOption(host, method)) {</span>
<span class="cstat-no" title="statement not covered" >                            return new UglifyJS.AST_Atom();</span>
                        }
                    }
                }
<span class="cstat-no" title="statement not covered" >                descend(node, this);</span>
<span class="cstat-no" title="statement not covered" >                return node;</span>
            });
<span class="cstat-no" title="statement not covered" >            toplevel = toplevel.transform(removeConsoleTransformer);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            var compressor = UglifyJS.Compressor(compressorOption);</span>
<span class="cstat-no" title="statement not covered" >            toplevel = toplevel.transform(compressor);</span>
<span class="cstat-no" title="statement not covered" >            toplevel.mangle_names({ except: options.except });</span>
&nbsp;
            //output, has /*$ */ comments
<span class="cstat-no" title="statement not covered" >            var stream = UglifyJS.OutputStream({</span>
                comments: <span class="fstat-no" title="function not covered" >function(scope, comment) {</span>
<span class="cstat-no" title="statement not covered" >                    if (isdebug) {</span>
<span class="cstat-no" title="statement not covered" >                        return true;</span>
                    } else {
<span class="cstat-no" title="statement not covered" >                        if (comment.type == 'comment2' &amp;&amp; comment.value.charAt(0) === '$' &amp;&amp; options.copyright) {</span>
<span class="cstat-no" title="statement not covered" >                            return comment;</span>
                        }
<span class="cstat-no" title="statement not covered" >                        return false;</span>
                    }
                },
                space_colon: false,
                //quote_keys: true, object keys加引号
                beautify: options.beautify,
                ascii_only: options.ascii_only
            });
&nbsp;
<span class="cstat-no" title="statement not covered" >            toplevel.print(stream);</span>
<span class="cstat-no" title="statement not covered" >            result = stream.get();</span>
        }
&nbsp;
        //增加前缀banner
<span class="cstat-no" title="statement not covered" >        if (!isdebug) {</span>
<span class="cstat-no" title="statement not covered" >            result = compress.setPrefixBanner(jdf.config.output.hasBanner, source, result) + result + '\r\n';</span>
        }
    } catch (e) {
<span class="cstat-no" title="statement not covered" >        if (e &amp;&amp; e.message) {</span>
<span class="cstat-no" title="statement not covered" >            console.log('jdf error [compress.js] - ' + source + ' , line:' + e.line + ', ' + e.message);</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    return result;</span>
};
&nbsp;
&nbsp;
/**
 * @css文件压缩
 * @param source 文件/文件夹路径
 * @return compress code
 */
<span class="cstat-no" title="statement not covered" >compress.css = <span class="fstat-no" title="function not covered" >function(source, isdebug) {    </span></span>
<span class="cstat-no" title="statement not covered" >    var isdebug = isdebug || false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!f.exists(source)) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
<span class="cstat-no" title="statement not covered" >   if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('compress.css---'+source);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var sourceCode = f.read(source);</span>
<span class="cstat-no" title="statement not covered" >    var result = sourceCode;</span>
<span class="cstat-no" title="statement not covered" >    if (!isdebug) {</span>
<span class="cstat-no" title="statement not covered" >        result = new CleanCSS({</span>
            aggressiveMerging: false, //disable aggressive merging of properties.
            keepBreaks: false, //是否有空格
            processImport: false, //是否替换@import
            compatibility: '*'
        }).minify(sourceCode);
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (jdf.config.output.imagesSuffix) {</span>
<span class="cstat-no" title="statement not covered" >        result = compress.imagesSuffix(source, result);</span>
    }
&nbsp;
    //增加前缀banner
<span class="cstat-no" title="statement not covered" >    result = compress.setPrefixBanner(jdf.config.output.hasBanner, source, result) + result + '\r\n';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    return result;</span>
};
&nbsp;
<span class="cstat-no" title="statement not covered" >compress.css2 = <span class="fstat-no" title="function not covered" >function(source, isdebug) {</span></span>
<span class="cstat-no" title="statement not covered" >   if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('compress.css2---'+source);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var isdebug = isdebug || false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!f.exists(source)) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
<span class="cstat-no" title="statement not covered" >    var sourceCode = f.read(source);</span>
<span class="cstat-no" title="statement not covered" >    var result = sourceCode;</span>
<span class="cstat-no" title="statement not covered" >    if (jdf.config.output.imagesSuffix) { //替换imagesSuffix情况下的image名称</span>
<span class="cstat-no" title="statement not covered" >        result = compress.imagesSuffix(source, result);</span>
    }
<span class="cstat-no" title="statement not covered" >    return result;</span>
}
&nbsp;
/**
* css中图片路径替换
* @time 2014-2-21 10:17:13
* @param cdn 前缀
* @param prefix css目录前缀
* @param suffix 后缀 
* @example 
    cssImagesUrlReplace('.test{background-image:url("i/test.jpg");}','http://cdn.com/','?time=123') ===&gt; 
    .test{background-image:url("http://cdn.com/i/test.jpg?time=123");}
*/
<span class="cstat-no" title="statement not covered" >compress.cssImagesUrlReplace = <span class="fstat-no" title="function not covered" >function(source, str, cdn, prefix, suffix) {</span></span>
&nbsp;
    //是否为widget中的css文件
<span class="cstat-no" title="statement not covered" >    var isWidgetCssFileReg = new RegExp("/" + jdf.config.widgetDir + "/", "igm");</span>
<span class="cstat-no" title="statement not covered" >    var isWidgetCssFile = isWidgetCssFileReg.test(source);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var suffix = jdf.config.suffix;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var imagesSuffix = jdf.config.output.imagesSuffix;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var cssImagesUrlReg = new RegExp("url\\(.*?\\)", "igm");</span>
<span class="cstat-no" title="statement not covered" >    var temp = str.match(cssImagesUrlReg);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var sourcedir = path.normalize(path.dirname(source));</span>
<span class="cstat-no" title="statement not covered" >    var outputdir = path.normalize(f.currentDir() + '/' + jdf.config.outputDirName);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var prefix = sourcedir.replace(outputdir, '');</span>
    //项目在C盘,build在D盘
<span class="cstat-no" title="statement not covered" >    prefix = prefix.replace(path.normalize(jdf.config.outputDirName), '');</span>
&nbsp;
    // \替换成/
<span class="cstat-no" title="statement not covered" >    prefix = prefix.replace(/\\/g, '/');</span>
<span class="cstat-no" title="statement not covered" >    prefix = '/' + prefix + '/';</span>
    // //替换成/
<span class="cstat-no" title="statement not covered" >    prefix = prefix.replace(/\/\//gim, '/');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if(!jdf.config.cdn){</span>
<span class="cstat-no" title="statement not covered" >        prefix = '';</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (temp) {</span>
<span class="cstat-no" title="statement not covered" >        var tempObj = {};</span>
        //去重
<span class="cstat-no" title="statement not covered" >        for (var i = temp.length - 1; i &gt;= 0; i--) {</span>
<span class="cstat-no" title="statement not covered" >            if ($.is.imageFile(temp[i])) {</span>
<span class="cstat-no" title="statement not covered" >                tempObj[temp[i]] = 1;</span>
            }
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        for (var i in tempObj) {</span>
<span class="cstat-no" title="statement not covered" >            var b = i;</span>
<span class="cstat-no" title="statement not covered" >            b = b.replace('url(', '');</span>
<span class="cstat-no" title="statement not covered" >            b = b.replace(')', '');</span>
<span class="cstat-no" title="statement not covered" >            b = b.replace(/\s/g, '');</span>
<span class="cstat-no" title="statement not covered" >            b = b.replace(/\"/g, '');</span>
<span class="cstat-no" title="statement not covered" >            b = b.replace(/\'/g, '');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (b != 'about:blank' &amp;&amp; !$.is.httpLink(b) &amp;&amp; !/data:image/.test(b)) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                var bOrigin = b;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                var c = b.replace(/\.\.\//g, "");</span>
<span class="cstat-no" title="statement not covered" >                c = c.replace(/(^\.\/)/, "");</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                var hasWidget = new RegExp("^/" + jdf.config.widgetDir, "igm");</span>
<span class="cstat-no" title="statement not covered" >                if (hasWidget.test(b)) {</span>
                    // /widget/aaa 替换
<span class="cstat-no" title="statement not covered" >                    c = cdn + '/' + jdf.getProjectPath() + '/' + c;</span>
                } else {
<span class="cstat-no" title="statement not covered" >                    if (jdf.config.baseDir) {</span>
                        // /css/ replace其中的/app/
<span class="cstat-no" title="statement not covered" >                        c = c.replace('/' + jdf.config.baseDir + '/', "");</span>
                        // /css/ replace其中的 app/
<span class="cstat-no" title="statement not covered" >                        c = c.replace(jdf.config.baseDir + '/', '');</span>
                    }
&nbsp;
<span class="cstat-no" title="statement not covered" >                    if (isWidgetCssFile) {</span>
<span class="cstat-no" title="statement not covered" >                        var hasCss = new RegExp(jdf.config.cssDir, "igm");</span>
                        //widget中样式引用css中的图片
<span class="cstat-no" title="statement not covered" >                        if (hasCss.test(c) &amp;&amp; c.indexOf('/') == 0) {</span>
<span class="cstat-no" title="statement not covered" >                            c = cdn + '/' + $.replaceSlash(jdf.getProjectPath() + '/' + c);</span>
                        } else {
<span class="cstat-no" title="statement not covered" >                            c = cdn + $.replaceSlash(prefix + c);</span>
                        }
                    } else {
<span class="cstat-no" title="statement not covered" >                        c = c.replace(jdf.config.cssDir + '/', "");</span>
<span class="cstat-no" title="statement not covered" >                        c = cdn + $.replaceSlash(prefix + c);</span>
                    }
                }
&nbsp;
<span class="cstat-no" title="statement not covered" >                bOrigin = bOrigin.replace('/', '\\\/').replace('?__sprite', '\\?__sprite').replace(/\?/g, '\\?');</span>
<span class="cstat-no" title="statement not covered" >                var sReg = new RegExp('url\\("{0,1}' + bOrigin + '"{0,1}\\)', 'gim');</span>
<span class="cstat-no" title="statement not covered" >                str = str.replace(sReg, 'url(' + c + ')');</span>
            }
        };
    };
&nbsp;
<span class="cstat-no" title="statement not covered" >    return str;</span>
}
&nbsp;
<span class="cstat-no" title="statement not covered" >compress.imagesSuffix = <span class="fstat-no" title="function not covered" >function(source, str) {</span></span>
<span class="cstat-no" title="statement not covered" >    var imagesSuffix = jdf.config.output.imagesSuffix;</span>
<span class="cstat-no" title="statement not covered" >    var suffix = jdf.config.suffix;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (imagesSuffix == 1) {</span>
<span class="cstat-no" title="statement not covered" >        str = str.replace(new RegExp('\\.png\\?__sprite', 'gmi'), '.png?__sprite' + suffix);</span>
    } else <span class="cstat-no" title="statement not covered" >if (imagesSuffix == 2) {</span>
<span class="cstat-no" title="statement not covered" >        str = str.replace(/\.png\?__sprite/gmi, suffix + '.png?__sprite');</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return str;</span>
}
&nbsp;
&nbsp;
/**
@method Pngquant优化png图片
@option {String} source 输入文件路径
@option {String} target 输出文件路径
@option {Boolse} false 是否显示log
**/
<span class="cstat-no" title="statement not covered" >compress.png = <span class="fstat-no" title="function not covered" >function(source, target, haslog) {</span></span>
<span class="cstat-no" title="statement not covered" >   if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('compress.png---'+source);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var compressPngReg = jdf.config.output.compressPngReg;</span>
<span class="cstat-no" title="statement not covered" >    if (f.filter(source, false, compressPngReg)) {</span>
<span class="cstat-no" title="statement not covered" >        var buffer = fs.readFileSync(source);</span>
<span class="cstat-no" title="statement not covered" >        var options = {};</span>
<span class="cstat-no" title="statement not covered" >        if (typeof(haslog) != 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >            options.params = '-v --iebug';</span>
        }
<span class="cstat-no" title="statement not covered" >        buffer = Pngquant.option(options).compress(buffer);</span>
<span class="cstat-no" title="statement not covered" >        fs.writeFileSync(target,buffer);</span>
    }
};
&nbsp;
&nbsp;
/**
@method 将png jpg 转为 webp 格式
@option {String} source 输入文件路径
@option {String} target 输出文件路径
@option {Number} quant 压缩质量
@option {Function} callback 回调函数
@option {Boolse} false 是否显示log
**/
<span class="cstat-no" title="statement not covered" >compress.webp = <span class="fstat-no" title="function not covered" >function(source, target, quant, callback, haslog) {</span></span>
<span class="cstat-no" title="statement not covered" >   if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log( 'compress.webp---'+source);</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var webp = require('webp-converter');</span>
<span class="cstat-no" title="statement not covered" >    webp.cwebp(source, target, "-q " + quant ? quant : quant, <span class="fstat-no" title="function not covered" >function(status) {</span></span>
        //if conversion successfull status will be '100' 
        //if conversion unsuccessfull status will be '101' 
<span class="cstat-no" title="statement not covered" >        if (callback) {</span>
<span class="cstat-no" title="statement not covered" >            callback(status);</span>
        }
    });
&nbsp;
};
&nbsp;
/**
@method 将 webp 相关css 追加到指定css中
@option {String} source 输入文件路径
**/
<span class="cstat-no" title="statement not covered" >compress.appendWebpCSSFIX = <span class="fstat-no" title="function not covered" >function(source) {</span></span>
<span class="cstat-no" title="statement not covered" >    var AST_result = [];</span>
<span class="cstat-no" title="statement not covered" >    var sourceCode = compress.css(source, false);</span>
    //remove comment
<span class="cstat-no" title="statement not covered" >    sourceCode = sourceCode.replace(/\/\*.*?\*\//ig, <span class="fstat-no" title="function not covered" >function(match) {</span></span>
<span class="cstat-no" title="statement not covered" >        return ""</span>
    });
<span class="cstat-no" title="statement not covered" >    var rules = sourceCode.match(/.*?\{.*?\}/ig);</span>
<span class="cstat-no" title="statement not covered" >    if (!rules) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; rules.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >        var rule = rules[i];</span>
<span class="cstat-no" title="statement not covered" >        if (rule.match(/\{/g).length != rule.match(/\}/g).length) {</span>
<span class="cstat-no" title="statement not covered" >            continue;</span>
        }
<span class="cstat-no" title="statement not covered" >        var cssBodyStr = rule.match(/\{.*?\}/ig)[0];</span>
<span class="cstat-no" title="statement not covered" >        var cssHead = rule.replace(cssBodyStr, "");</span>
<span class="cstat-no" title="statement not covered" >        cssHead = cssHead.split(';');</span>
<span class="cstat-no" title="statement not covered" >        cssHead = cssHead[cssHead.length - 1];</span>
<span class="cstat-no" title="statement not covered" >        cssBodyStr = cssBodyStr.replace('{', '').replace('}', '');</span>
<span class="cstat-no" title="statement not covered" >        var cssBodyProperties = cssBodyStr.split(';');</span>
<span class="cstat-no" title="statement not covered" >        var astCssRule = {};</span>
<span class="cstat-no" title="statement not covered" >        astCssRule.selector = cssHead;</span>
<span class="cstat-no" title="statement not covered" >        astCssRule.values = [];</span>
<span class="cstat-no" title="statement not covered" >        for (var j in cssBodyProperties) {</span>
<span class="cstat-no" title="statement not covered" >            var cssObj = cssBodyProperties[j].split(":");</span>
<span class="cstat-no" title="statement not covered" >            var cssPropertyName = cssObj[0];</span>
<span class="cstat-no" title="statement not covered" >            var cssPropertyValue = cssBodyProperties[j].replace(cssPropertyName + ":", "");</span>
<span class="cstat-no" title="statement not covered" >            if (cssPropertyValue.match(/.*?url.*?\.(png|jpg)/ig)) {</span>
<span class="cstat-no" title="statement not covered" >                var _c = {</span>
                    k: cssPropertyName,
                    v: cssPropertyValue.replace(/.*?url.*?\.(png|jpg)/ig, <span class="fstat-no" title="function not covered" >function(match) {</span>
<span class="cstat-no" title="statement not covered" >                        return match + ".webp";</span>
                    })
                };
<span class="cstat-no" title="statement not covered" >                astCssRule.values.push(_c);</span>
            }
        }
<span class="cstat-no" title="statement not covered" >        if (astCssRule.values.length) {</span>
<span class="cstat-no" title="statement not covered" >            AST_result.push(astCssRule);</span>
        }
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var resultCss = ["/* webp css prefix */"];</span>
<span class="cstat-no" title="statement not covered" >    for (var i in AST_result) {</span>
<span class="cstat-no" title="statement not covered" >        var webpCssRule = AST_result[i];</span>
<span class="cstat-no" title="statement not covered" >        var rootClass = jdf.config.output.webpRootClass ? '.' + jdf.config.output.webpRootClass + " " : ".root-webp ";</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        var cssValues = [];</span>
<span class="cstat-no" title="statement not covered" >        for (var j in webpCssRule.values) {</span>
<span class="cstat-no" title="statement not covered" >            var cssV = webpCssRule.values[j];</span>
<span class="cstat-no" title="statement not covered" >            cssValues.push(cssV.k + ":" + cssV.v);</span>
        }
<span class="cstat-no" title="statement not covered" >        var css = rootClass + webpCssRule.selector + "{" + cssValues.join(';') + "}";</span>
<span class="cstat-no" title="statement not covered" >        resultCss.push(css);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var raw = f.read(source);</span>
<span class="cstat-no" title="statement not covered" >    f.write(source, raw + "\n" + resultCss.join("\n"));</span>
&nbsp;
&nbsp;
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/compressScheduler.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/compressScheduler.js</span></h1>
    <h2>
        
        Statements: <span class="metric">26.67% <small>(12 / 45)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 24)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">26.67% <small>(12 / 45)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; compressScheduler.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * Created by wangshaoxing on 2014/12/12.
 */
&nbsp;
var path = require('path');
var fs = require('fs');
//lib自身组件
var $ = require('./base.js');
var f = require('./file.js');
var jdf = require('./jdf.js');
&nbsp;
&nbsp;
&nbsp;
&nbsp;
var cpus = require('os').cpus();
&nbsp;
var CompressScheduler = module.exports = {};
CompressScheduler.isdebug = false;
&nbsp;
//初始化任务池
var arr = [];
var initFilesArray = <span class="fstat-no" title="function not covered" >function(rSource, isdebug) {</span>
<span class="cstat-no" title="statement not covered" >    var isdebug = false || isdebug;</span>
<span class="cstat-no" title="statement not covered" >    var source = f.realpath(rSource);</span>
<span class="cstat-no" title="statement not covered" >    if (source) {</span>
<span class="cstat-no" title="statement not covered" >        if (f.isDir(source)) {</span>
<span class="cstat-no" title="statement not covered" >            fs.readdirSync(source).forEach(<span class="fstat-no" title="function not covered" >function(name) {</span></span>
<span class="cstat-no" title="statement not covered" >                if (name != '.' &amp;&amp; name != '..' &amp;&amp; !(/.svn/.test(name))) {</span>
<span class="cstat-no" title="statement not covered" >                    initFilesArray(source + '/' + name, isdebug);</span>
                }
            });
        };
<span class="cstat-no" title="statement not covered" >        if (f.isFile(source)) {</span>
<span class="cstat-no" title="statement not covered" >            arr.push(source);</span>
        }
    }
}
&nbsp;
//当任务池 被取空时，确保线程合并
var _execOnceFlag = 0;
&nbsp;
CompressScheduler.init = <span class="fstat-no" title="function not covered" >function(outputdirName, isdebug, callBack) {</span>
<span class="cstat-no" title="statement not covered" >    initFilesArray(outputdirName);</span>
<span class="cstat-no" title="statement not covered" >    CompressScheduler.isdebug = isdebug;</span>
&nbsp;
    //webp wrapper 只在单线程下最稳定
<span class="cstat-no" title="statement not covered" >    if (jdf.config.threads === 0 || (jdf.config.output &amp;&amp; jdf.config.output.webp)) {</span>
<span class="cstat-no" title="statement not covered" >        var Compress = require('./compress.js');</span>
<span class="cstat-no" title="statement not covered" >        var task = arr.pop();</span>
<span class="cstat-no" title="statement not covered" >        while (task) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            Compress.init(</span>
                task,
                isdebug,
                jdf.config
            );
<span class="cstat-no" title="statement not covered" >            task = arr.pop();</span>
        }
<span class="cstat-no" title="statement not covered" >        callBack();</span>
    } else {
        //多进程
<span class="cstat-no" title="statement not covered" >        var fork = require('child_process').fork;</span>
<span class="cstat-no" title="statement not covered" >        var childPath = __dirname + "/compressWorker.js";</span>
<span class="cstat-no" title="statement not covered" >        childPath = path.normalize(childPath);</span>
<span class="cstat-no" title="statement not covered" >        var threadCount = jdf.config.threads || cpus.length;</span>
<span class="cstat-no" title="statement not covered" >        for (var i = 0; i &lt; threadCount; i++) {</span>
<span class="cstat-no" title="statement not covered" >            var subProc = fork(childPath);</span>
<span class="cstat-no" title="statement not covered" >            subProc.on('message', <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >                var task = arr.pop();</span>
<span class="cstat-no" title="statement not covered" >                if (!task) {</span>
<span class="cstat-no" title="statement not covered" >                    this.disconnect();</span>
<span class="cstat-no" title="statement not covered" >                    _execOnceFlag++;</span>
<span class="cstat-no" title="statement not covered" >                    if (_execOnceFlag &gt;= threadCount) {</span>
<span class="cstat-no" title="statement not covered" >                        callBack();</span>
                    }
<span class="cstat-no" title="statement not covered" >                    return;</span>
                }
<span class="cstat-no" title="statement not covered" >                this.send({</span>
                    task: task,
                    isdebug: isdebug,
                    config: jdf.config,
                    getProject: jdf.getProject
                });
            });
        }
    }
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/compressWorker.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header medium">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/compressWorker.js</span></h1>
    <h2>
        
        Statements: <span class="metric">50% <small>(5 / 10)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">50% <small>(5 / 10)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; compressWorker.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * Created by wangshaoxing on 2014/12/12.
 */
&nbsp;
var path = require('path');
var fs = require('fs');
&nbsp;
//lib自身组件
var $ = require('./base.js');
var f = require('./file.js');
var compress = require('./compress.js');
<span class="cstat-no" title="statement not covered" >var jdf = require('./jdf.js');</span>
&nbsp;
&nbsp;
<span class="cstat-no" title="statement not covered" >process.on('message', <span class="fstat-no" title="function not covered" >function(data) {</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    compress.init(</span>
        data.task,
        data.isdebug,
        data.config,
        data.getProject,
<span class="fstat-no" title="function not covered" >        function() {</span>
<span class="cstat-no" title="statement not covered" >            process.send({ tag: 1, job: data.task });</span>
        }
    );
&nbsp;
&nbsp;
    // if (jdf.config.output.webp) {
    //     compress.init(
    //         data.task,
    //         data.isdebug,
    //         data.config,
    //         data.getProject,
    //         function(){
    //          process.send({ tag: 1, job: data.task });
    //         }
    //     );
    // } else {
    //     compress.init(
    //         data.task,
    //         data.isdebug,
    //         data.config,
    //         data.getProject
    //     );
    //     process.send({ tag: 1, job: data.task });
    // }
&nbsp;
});
&nbsp;
<span class="cstat-no" title="statement not covered" >process.send({ tag: 1, job: "" });</span>
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/concat.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/concat.js</span></h1>
    <h2>
        
        Statements: <span class="metric">28% <small>(7 / 25)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 8)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">29.17% <small>(7 / 24)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; concat.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @files concat
 * @ctime 2014-9-24
 */
&nbsp;
var path = require('path');
var fs = require('fs');
&nbsp;
//lib自身组件
var $ = require('./base.js');
var f = require('./file.js');
var jdf = require('./jdf.js');
&nbsp;
//exports
var concat = module.exports = {};
&nbsp;
concat.init = <span class="fstat-no" title="function not covered" >function(rSource){</span>
<span class="cstat-no" title="statement not covered" >	var concatFiles = jdf.config.output.concat;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	Object.size = <span class="fstat-no" title="function not covered" >function(obj) {</span></span>
<span class="cstat-no" title="statement not covered" >		var size = 0, key;</span>
<span class="cstat-no" title="statement not covered" >		for (key in obj) {</span>
<span class="cstat-no" title="statement not covered" >			if (obj.hasOwnProperty(key)) <span class="cstat-no" title="statement not covered" >size++;</span></span>
		}
<span class="cstat-no" title="statement not covered" >		return size;</span>
	};
<span class="cstat-no" title="statement not covered" >	var source = f.realpath(rSource)+'/'+jdf.getProjectPath();</span>
	
<span class="cstat-no" title="statement not covered" >	if ( Object.size(concatFiles)) {</span>
<span class="cstat-no" title="statement not covered" >		for (var i in concatFiles  ){</span>
<span class="cstat-no" title="statement not covered" >			var res = '';</span>
<span class="cstat-no" title="statement not covered" >			concatFiles[i].forEach(<span class="fstat-no" title="function not covered" >function(j){</span></span>
<span class="cstat-no" title="statement not covered" >				var m = $.getCssExtname(source+'/'+j);</span>
<span class="cstat-no" title="statement not covered" >				if (f.exists(m)) {</span>
<span class="cstat-no" title="statement not covered" >					res += f.read(m);</span>
					//f.del(source+'/'+j);
				}else {
<span class="cstat-no" title="statement not covered" >					console.log('jdf warnning "'+j+'" is not exists');</span>
				}
			});
<span class="cstat-no" title="statement not covered" >			if (res != '') {</span>
<span class="cstat-no" title="statement not covered" >				f.write(source+'/'+i, res);</span>
			}
		}
	}
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/config.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/config.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(2 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(2 / 2)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; config.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @统一配置文件
 */
&nbsp;
/**
 * @config Json File Content
 */
var configJsonFileContent = '{\r\n'+ 	
'	"host": "ftpServerIp",\r\n'+	
'	"user": "anonymous",\r\n'+
'	"password": "anonymous",\r\n'+
'	"projectPath": ""\r\n'+
'}';
&nbsp;
module.exports = {
	//"threads":4, 多线程
	//"isbackup":true,
	//"backupPath":"d:/ppa",
&nbsp;
	"demo":"http://o8tcolhwh.qnssl.com/jdf_demo.tar",
	
	//"demo": "http://putaoshu.github.io/jdf/download/jdf_demo.tar?true",//demo示例url
&nbsp;
	"configFileName": "config.json", //配置文件名称
&nbsp;
	"projectPath": null, //工程目录前缀
	
	"baseDir": "", //静态文件名称
	"cssDir": "css", //css文件夹名称
	"imagesDir": "css/i", //images文件夹名称
	"jsDir": "js", //js文件夹名称
	"htmlDir": "html", //html文件夹名称
	"widgetDir": "widget", //widget文件夹名称
	"buildDirName": "html", //编译的html文件夹名称
	
	"outputDirName": "build", //输出的目标文件夹名称
	"outputHtmlDir": null,//输出的html文件夹名称
&nbsp;
	"outputCustom": null, //输出的源文件夹名称
	"widgetOutputName": "widget", //输出的所有widget合并后的文件名
	"widgetInputName": [], //指定需要输出的widget名称
&nbsp;
	"localServerPort": 3000, //本地服务器端口
	"haslog":true, //是否每次执行命令时发收集log信息
	"configJsonFileContent": configJsonFileContent,
	
	"cdn": "//misc.360buyimg.com", //静态cdn域名
	"newcdn": "http://page.jd.com:81", //newcdn
	
	"host": null, //远端机器IP
	"user": null, //远端机器user
	"password": null, //远端机器password
&nbsp;
	"serverType": "ftp", //远端机器上传类型,默认为ftp,可为linux
	"serverDir": "misc.360buyimg.com", //上传至远端服务器文件夹的名称
&nbsp;
	"previewServerDir": "page.jd.com", //html文件夹上传至服务器所在的文件夹名称
	"widgetServerDir": "jdfwidget.jd.com", //widget服务器所在的文件夹名称
&nbsp;
	"build":{
		"jsPlace": "insertBody", //调试时js文件位置 insertHead|insertBody
		"widgetIncludeComment":true,//widget引用带注释
		"livereload":false, //是否开启liveload
		"sass":true,//是否开启sass编译
		"less":true,//是否开启less编译
		"csslint":false,//是否开启csslint
&nbsp;
		"weinre": false, //是否开启移动设备调试
		"weinreUrl": "http://123.56.105.44:8080",//调试移动设备的服务器地址
&nbsp;
		"autoprefixer": false, //是否打开css的autoprefixer
		"autoprefixerOptions":{
        	"browsers": ["last 2 version", 'Android &gt;= 4.0'],
        	"cascade": true,//是否美化属性值 默认：true
        	"remove":true //是否去掉不必要的前缀 默认：true 
		},
		"hasCmdLog":false,//build时是否在cmd里提示编译信息
		"hasBrowserSync":false,//用BrowserSync做为server
		"excludeFiles": null,//对要编译的文件/文件夹进行过滤
		"isEs6":false, //对js文件进行es6编译,默认为flase
		"qrcode":false, //命令行下是否显示二维码图片
		"isEs6Exclude":null //不进行es6编译的文件
	},
&nbsp;
	"output":{
		"concat": {},//文件合并
&nbsp;
		"cssImagesUrlReplace": true,//css中图片url加cdn替换
&nbsp;
		"jsUrlReplace": false,//js文件的id和dependences是否添加cdn前缀 默认是不添加的 [名字不太好]
&nbsp;
		"jsPlace": "insertBody", //编译后js文件位置 insertHead|insertBody
		"cssCombo": true, //css进行combo
		"jsCombo": true, //js进行combo todo
&nbsp;
		"combineWidgetCss":false,//合并所有引用的widget中的css
		"combineWidgetJs":false,//合并所有引用的widget中的js
&nbsp;
		"hasBanner": 1, //定义js和css的banner前缀形式。0，不需要；1，时间戳；2，md5值
		"vm": true, //是否开启vm编译
		"compresshtml": false,//是否开启压缩html文件
		"compressJs": true,//是否开启压缩js文件
		"compressCss": true,//是否开启压缩css文件
		"compressPng": true,//是否开启压缩png图片
		"compressPngReg": null,//是否压缩此参数匹配的文件
&nbsp;
		"comment": true,//是否输出文件中的注释
&nbsp;
		"cssSprite": true, //是否开启css sprite功能
		"cssSpriteMode": 1, //0: 将所有css文件中的背景图合并成一张sprite图片，1: 将每一个widget中的背景图分别合并成一张图片
		"cssSpriteMargin": 10, //css sprite图片之间的间距
		"cssSpriteDirection": 'vertical', //vertical：垂直合并，horizontal：水平合并
&nbsp;
		"base64": false, //是否对图片进行base64编码
&nbsp;
		"imagesSuffix": 0,
		/*0：不添加任何后缀
		  1：给css中需要cssSprite的背景图添加后缀，后缀会被添加在文件扩展名的后面。例如：test.png =&gt; test.png?20150319161000
		  2：给css中需要cssSprite的背景图添加后缀，后缀会被添加在文件名的后面，生成一个新的文件。例如：test.png =&gt; test20150319161000.png
		*/
&nbsp;
		"jsRemove": [],//移除js中函数或者方法,比如console,y.log即配置为['console','y.log']
		"excludeFiles": null,//对输出的文件/文件夹进行过滤
		"encoding": "utf-8",//指定项目的编码格式：utf-8，gbk
&nbsp;
		"htmlContentReplace":null,
		"jsContentReplace":null
	},
&nbsp;
	"widget":{
		//widget预览所依赖的js
		"js": [
			"//misc.360buyimg.com/jdf/lib/jquery-1.6.4.js",
			"//misc.360buyimg.com/jdf/1.0.0/unit/base/1.0.0/base.js"
		],
		//widget预览所依赖的css
		"css": [
			"//misc.360buyimg.com/jdf/1.0.0/unit/ui-base/1.0.0/ui-base.css"
		],
		//新建widget文件夹的文件类型
		"createFiles": []
	}
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/cssSprite.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/cssSprite.js</span></h1>
    <h2>
        
        Statements: <span class="metric">2.58% <small>(7 / 271)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 124)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">2.58% <small>(7 / 271)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; cssSprite.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-yes">4</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @css sprite
 * @ctime 2014-6-30
 * @todo : support repeat-x,repeat-y
 */
var $ = require('./base.js');
var f = require('./file.js');
var jdf = require('./jdf.js');
&nbsp;
var path = require('path');
var Images = require('jdf-images');
&nbsp;
<span class="cstat-no" title="statement not covered" >var cssSprite = module.exports = {};</span>
&nbsp;
/**
 * @addgetProjectPath
 */
<span class="fstat-no" title="function not covered" >function addgetProjectPath(str){</span>
<span class="cstat-no" title="statement not covered" >	if(!jdf.config.cdn &amp;&amp; !/^\.\./.test(str)){</span>
<span class="cstat-no" title="statement not covered" >		str = '..'+str;</span>
	}
<span class="cstat-no" title="statement not covered" >	return str ;</span>
}
&nbsp;
/**
 * @imagesUrlAddCdn
 */
<span class="fstat-no" title="function not covered" >function imagesUrlAddCdn(imageUrl){</span>
<span class="cstat-no" title="statement not covered" >	var res ='';</span>
<span class="cstat-no" title="statement not covered" >	if(jdf.config.cdn){</span>
<span class="cstat-no" title="statement not covered" >		res = $.replaceSlash(imageUrl);</span>
<span class="cstat-no" title="statement not covered" >		res = jdf.config.cdn + res;</span>
	}else{
<span class="cstat-no" title="statement not covered" >		res = addgetProjectPath(imageUrl);</span>
	}
<span class="cstat-no" title="statement not covered" >	return  res;</span>
}
&nbsp;
/**
 * @init
 * @param {String} source css路径文件夹
 */
<span class="cstat-no" title="statement not covered" >cssSprite.init = <span class="fstat-no" title="function not covered" >function(source){</span></span>
<span class="cstat-no" title="statement not covered" >	if(jdf.config.output.cssSpriteMode == 0){</span>
<span class="cstat-no" title="statement not covered" >		cssSprite.overall(source);</span>
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	if(jdf.config.output.cssSpriteMode == 1){</span>
<span class="cstat-no" title="statement not covered" >		var list = f.getdirlist(source, '.css$');</span>
<span class="cstat-no" title="statement not covered" >		list.forEach(<span class="fstat-no" title="function not covered" >function(item){</span></span>
<span class="cstat-no" title="statement not covered" >			try{</span>
<span class="cstat-no" title="statement not covered" >				var cssContent = cssSprite.scatter(item, f.read(item), source);</span>
<span class="cstat-no" title="statement not covered" >				f.write(item, cssContent);</span>
			}catch(e){
			}
		});
	}
}
&nbsp;
/**
 * @overall
 * @param {String} source css路径
 * @param {String} content css源码内容
 * @example
 	background:#ffd4ae url(i/i-arrws.png?__sprite) no-repeat; 
	--&gt; 
	background:#ffd4ae url(i/sptire_menu.png?__sprite) no-repeat;background-position:12px 10px;
 */
<span class="cstat-no" title="statement not covered" >cssSprite.overall = <span class="fstat-no" title="function not covered" >function(source){</span></span>
<span class="cstat-no" title="statement not covered" >   	var reg_background = /background(?:-image)?:([\s\S]*?)(?:;|$)/gi;</span>
<span class="cstat-no" title="statement not covered" >   	var reg_img_url = /url\s*\(\s*("(?:[^\\"\r\n\f]|\\[\s\S])*"|'(?:[^\\'\n\r\f]|\\[\s\S])*'|[^)}]+)\s*\)/i;</span>
<span class="cstat-no" title="statement not covered" >	var reg_position = /(0|[+-]?(?:\d*\.|)\d+px|left|right)\s*(0|[+-]?(?:\d*\.|)\d+px|top)/i;</span>
<span class="cstat-no" title="statement not covered" >	var reg_repeat = /\brepeat-(x|y)/i;</span>
<span class="cstat-no" title="statement not covered" >	var reg_is_sprite = /[?&amp;]__sprite/i;</span>
&nbsp;
	
<span class="cstat-no" title="statement not covered" >	var result = [];</span>
<span class="cstat-no" title="statement not covered" >	var resultNew = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var maxWidth = 0;</span>
<span class="cstat-no" title="statement not covered" >	var heightTotal = 0;</span>
<span class="cstat-no" title="statement not covered" >	var maxHeight = 0;</span>
<span class="cstat-no" title="statement not covered" >	var widthTotal = 0;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var margin = jdf.config.output.cssSpriteMargin;/</span>/高度阈值
<span class="cstat-no" title="statement not covered" >	var suffix = jdf.config.suffix;</span>
<span class="cstat-no" title="statement not covered" >	var imagesSuffix = jdf.config.output.imagesSuffix;</span>
<span class="cstat-no" title="statement not covered" >	var cssSpriteDirection = jdf.config.output.cssSpriteDirection;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var cssFiles = f.getdirlist(source, '.css$');</span>
<span class="cstat-no" title="statement not covered" >	var background = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	cssFiles.forEach(<span class="fstat-no" title="function not covered" >function(file, index){</span></span>
<span class="cstat-no" title="statement not covered" >		var content = f.read(file);</span>
<span class="cstat-no" title="statement not covered" >		var cssBg = content.match(reg_background);</span>
<span class="cstat-no" title="statement not covered" >		var dir = path.dirname(file);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		if(cssBg){</span>
<span class="cstat-no" title="statement not covered" >			cssBg.forEach(<span class="fstat-no" title="function not covered" >function(bg, index){</span></span>
<span class="cstat-no" title="statement not covered" >				background.push({</span>
					bg: bg,
					dir: dir
				});
			});
		}
	});
	
<span class="cstat-no" title="statement not covered" >	if(background){</span>
<span class="cstat-no" title="statement not covered" >		var resultTemp = {};</span>
<span class="cstat-no" title="statement not covered" >		background.forEach(<span class="fstat-no" title="function not covered" >function(item, index){</span></span>
<span class="cstat-no" title="statement not covered" >			var img_url = item.bg.match(reg_img_url);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(img_url &amp;&amp; reg_is_sprite.test(img_url[0]) ){</span>
<span class="cstat-no" title="statement not covered" >				var res = {</span>
					content:null,
					url:null,
					position:null,
					repeat:null
				};
&nbsp;
<span class="cstat-no" title="statement not covered" >				var url = img_url[0].replace(/url\(|\)|\'|\"/gi,'');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				res.urlOrigin = url;</span>
<span class="cstat-no" title="statement not covered" >				url = url.replace(reg_is_sprite, '');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				var sprite_rem = img_url[0].match(new RegExp('__rem\\d+', 'g'));</span>
<span class="cstat-no" title="statement not covered" >				if(sprite_rem){</span>
<span class="cstat-no" title="statement not covered" >					res.rem = parseFloat(sprite_rem[0].replace('__rem', '')); </span>
<span class="cstat-no" title="statement not covered" >					url = url.replace(/__rem\d+/g, '');</span>
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				res.url = path.join(item.dir, url);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(f.exists(res.url)){</span>
<span class="cstat-no" title="statement not covered" >					res.content = Images(res.url);</span>
				
					//去重
<span class="cstat-no" title="statement not covered" >					if(!resultTemp[res.url]){</span>
<span class="cstat-no" title="statement not covered" >						res.item = item.bg;</span>
<span class="cstat-no" title="statement not covered" >						res.width = res.content.size().width;</span>
<span class="cstat-no" title="statement not covered" >						res.height = res.content.size().height;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >						if(cssSpriteDirection == 'vertical'){</span>
<span class="cstat-no" title="statement not covered" >							if(res.width&gt;maxWidth){</span>
<span class="cstat-no" title="statement not covered" >								maxWidth = res.width;</span>
							}
<span class="cstat-no" title="statement not covered" >							heightTotal += res.height + margin;</span>
						}else{
<span class="cstat-no" title="statement not covered" >							if(res.height&gt;maxHeight){</span>
<span class="cstat-no" title="statement not covered" >								maxHeight = res.height;</span>
							}
<span class="cstat-no" title="statement not covered" >							widthTotal += res.width + margin;</span>
						}
&nbsp;
<span class="cstat-no" title="statement not covered" >						if(item.bg.match(reg_position)){</span>
<span class="cstat-no" title="statement not covered" >							res.position = item.bg.match(reg_position)[0];</span>
						}
<span class="cstat-no" title="statement not covered" >						if(item.bg.match(reg_repeat)){</span>
<span class="cstat-no" title="statement not covered" >							res.repeat = item.bg.match(reg_repeat)[0];</span>
						}
<span class="cstat-no" title="statement not covered" >						result.push(res);</span>
					}
<span class="cstat-no" title="statement not covered" >					resultTemp[res.url] = res.url;</span>
					
				}else{
<span class="cstat-no" title="statement not covered" >					console.log('jdf warning: [' + res.url + '] may be not exist.');</span>
				}
			}
		});
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	if(result.length&gt;0){</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		var outputName = jdf.getProjectPath().replace(/\//g, '_');</span>
<span class="cstat-no" title="statement not covered" >		var outputExtname = '.png';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		var imagesOutput = null;</span>
<span class="cstat-no" title="statement not covered" >		if(cssSpriteDirection == 'vertical'){</span>
<span class="cstat-no" title="statement not covered" >			imagesOutput = Images(maxWidth, heightTotal);</span>
		}else{
<span class="cstat-no" title="statement not covered" >			imagesOutput = Images(widthTotal, maxHeight);</span>
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		var w = 0;</span>
<span class="cstat-no" title="statement not covered" >		var h = 0;</span>
<span class="cstat-no" title="statement not covered" >		result.forEach(<span class="fstat-no" title="function not covered" >function(item, i){</span></span>
<span class="cstat-no" title="statement not covered" >			if(!item.repeat){</span>
<span class="cstat-no" title="statement not covered" >				var positonArray = [];</span>
<span class="cstat-no" title="statement not covered" >				var x = 0, y = h, y2 = -h;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(cssSpriteDirection == 'vertical'){</span>
<span class="cstat-no" title="statement not covered" >					var x = 0, y = h, y2 = -h;</span>
<span class="cstat-no" title="statement not covered" >					if(item.position){</span>
<span class="cstat-no" title="statement not covered" >						var position = item.position.split(' ');</span>
<span class="cstat-no" title="statement not covered" >						var x1 = parseInt(position[0], 10)</span>
<span class="cstat-no" title="statement not covered" >						if(x1){ </span>
<span class="cstat-no" title="statement not covered" >							x += x1;</span>
						}
<span class="cstat-no" title="statement not covered" >						var y1 = parseInt(position[1], 10)</span>
<span class="cstat-no" title="statement not covered" >						if(y1){</span>
<span class="cstat-no" title="statement not covered" >							y += y1;</span>
<span class="cstat-no" title="statement not covered" >							y2 -= y1;</span>
						}
					}
&nbsp;
					//画小图片
<span class="cstat-no" title="statement not covered" >					imagesOutput.draw(item.content, 0, y);</span>
				}else{
<span class="cstat-no" title="statement not covered" >					var y = 0, x = w, x2 = -w;</span>
<span class="cstat-no" title="statement not covered" >					if(item.position){</span>
<span class="cstat-no" title="statement not covered" >						var position = item.position.split(' ');</span>
<span class="cstat-no" title="statement not covered" >						var x1 = parseInt(position[0], 10)</span>
<span class="cstat-no" title="statement not covered" >						if(x1){ </span>
<span class="cstat-no" title="statement not covered" >							x += x1;</span>
<span class="cstat-no" title="statement not covered" >							x2 -= x1;</span>
						}
<span class="cstat-no" title="statement not covered" >						var y1 = parseInt(position[1], 10)</span>
<span class="cstat-no" title="statement not covered" >						if(y1){</span>
<span class="cstat-no" title="statement not covered" >							y += y1;</span>
						}
					}
&nbsp;
					//画小图片
<span class="cstat-no" title="statement not covered" >					imagesOutput.draw(item.content, x, 0);</span>
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				var urlOrigin = item.urlOrigin;</span>
&nbsp;
				//将需要合并的图片名称替换为合并后的新图片名称
<span class="cstat-no" title="statement not covered" >				var urlOriginNew = urlOrigin.replace(path.basename(item.url, path.extname(item.url)), outputName);</span>
				
				//将图片的存放目录统一替换为css/i
<span class="cstat-no" title="statement not covered" >				urlOriginNew = urlOriginNew.replace(path.dirname(urlOriginNew), '/css/i');</span>
&nbsp;
				//给图片添加cdn
<span class="cstat-no" title="statement not covered" >				urlOriginNew = imagesUrlAddCdn('/' + jdf.getProjectPath() + urlOriginNew);</span>
				
<span class="cstat-no" title="statement not covered" >				var backgroundNew = item.item.replace(urlOrigin, urlOriginNew);</span>
<span class="cstat-no" title="statement not covered" >				if(cssSpriteDirection == 'vertical'){</span>
<span class="cstat-no" title="statement not covered" >					if(item.rem){</span>
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-position:'+(x/item.rem)+'rem '+(y2/item.rem)+'rem;';</span>
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-size:' + (maxWidth/item.rem) + 'rem ' + (heightTotal/item.rem) + 'rem;';</span>
					}else{
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-position:'+x+'px '+y2+'px;';</span>
					}
				}else{
<span class="cstat-no" title="statement not covered" >					if(item.rem){</span>
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-position:'+(x2/item.rem)+'rem '+(y/item.rem)+'rem;';</span>
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-size:' + (maxWidth/item.rem) + 'rem ' + (heightTotal/item.rem) + 'rem;';</span>
					}else{
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-position:'+x2+'px '+y+'px;';</span>
					}
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				item['backgroundNew'] = backgroundNew;</span>
<span class="cstat-no" title="statement not covered" >				resultNew.push(item);</span>
				
<span class="cstat-no" title="statement not covered" >				if(cssSpriteDirection == 'vertical'){</span>
<span class="cstat-no" title="statement not covered" >					h = h + item.height + margin;</span>
				}else{
<span class="cstat-no" title="statement not covered" >					w = w + item.width + margin;</span>
				}
			}
		});
&nbsp;
<span class="cstat-no" title="statement not covered" >		cssFiles.forEach(<span class="fstat-no" title="function not covered" >function(file, index){</span></span>
<span class="cstat-no" title="statement not covered" >			var content = escape(f.read(file));</span>
<span class="cstat-no" title="statement not covered" >			var dir = path.dirname(file);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			resultNew.forEach(<span class="fstat-no" title="function not covered" >function(item, index){</span></span>
				//替换css中的图片路径
<span class="cstat-no" title="statement not covered" >				var url = item.urlOrigin.replace('?__sprite', '').replace(/__rem\d+/gi, '');</span>
<span class="cstat-no" title="statement not covered" >				url = path.join(dir, url);</span>
				
<span class="cstat-no" title="statement not covered" >				if(url == item.url){</span>
<span class="cstat-no" title="statement not covered" >					content = content.replace(new RegExp(escape(item.item), 'gi'), escape(item.backgroundNew));</span>
				}
			});
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(/w2/.test(file)){</span>
				// console.log(unescape(content))
			}
<span class="cstat-no" title="statement not covered" >			f.write(file, unescape(content));</span>
		});
		
		//保存合并完成的cssSprite图片
<span class="cstat-no" title="statement not covered" >		var outputDirName = jdf.config.outputDirName + '/' + jdf.getProjectPath() + '/css/i/';</span>
<span class="cstat-no" title="statement not covered" >		f.mkdir(outputDirName);</span>
<span class="cstat-no" title="statement not covered" >		try{</span>
<span class="cstat-no" title="statement not covered" >			if(imagesSuffix == 2){</span>
<span class="cstat-no" title="statement not covered" >				outputName = outputName + suffix;</span>
			}
<span class="cstat-no" title="statement not covered" >			imagesOutput.save(outputDirName + outputName + outputExtname);</span>
		}catch(e){
<span class="cstat-no" title="statement not covered" >			console.log(e);</span>
		}
	}
}
&nbsp;
&nbsp;
<span class="cstat-no" title="statement not covered" >cssSprite.scatter = <span class="fstat-no" title="function not covered" >function(source, content, sourceOrigin){</span></span>
<span class="cstat-no" title="statement not covered" >   	var reg_background = /background(?:-image)?:([\s\S]*?)(?:;|$)/gi;</span>
<span class="cstat-no" title="statement not covered" >   	var reg_img_url = /url\s*\(\s*("(?:[^\\"\r\n\f]|\\[\s\S])*"|'(?:[^\\'\n\r\f]|\\[\s\S])*'|[^)}]+)\s*\)/i;</span>
<span class="cstat-no" title="statement not covered" >	var reg_position = /(0|[+-]?(?:\d*\.|)\d+px|left|right)\s*(0|[+-]?(?:\d*\.|)\d+px|top)/i;</span>
<span class="cstat-no" title="statement not covered" >	var reg_repeat = /\brepeat-(x|y)/i;</span>
<span class="cstat-no" title="statement not covered" >	var reg_is_sprite = /[?&amp;]__sprite/i;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var background = content.match(reg_background);</span>
<span class="cstat-no" title="statement not covered" >	var result = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var maxWidth = 0;</span>
<span class="cstat-no" title="statement not covered" >	var heightTotal = 0;</span>
<span class="cstat-no" title="statement not covered" >	var maxHeight = 0;</span>
<span class="cstat-no" title="statement not covered" >	var widthTotal = 0;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var margin = jdf.config.output.cssSpriteMargin;/</span>/高度阈值
<span class="cstat-no" title="statement not covered" >	var suffix = jdf.config.suffix;</span>
<span class="cstat-no" title="statement not covered" >	var imagesSuffix = jdf.config.output.imagesSuffix;</span>
<span class="cstat-no" title="statement not covered" >	var cssSpriteDirection = jdf.config.output.cssSpriteDirection;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	if(background){</span>
<span class="cstat-no" title="statement not covered" >		var resultTemp = {};</span>
<span class="cstat-no" title="statement not covered" >		background.forEach(<span class="fstat-no" title="function not covered" >function(item){</span></span>
<span class="cstat-no" title="statement not covered" >			var img_url = item.match(reg_img_url);</span>
<span class="cstat-no" title="statement not covered" >			if(img_url &amp;&amp; reg_is_sprite.test(img_url[0]) ){</span>
<span class="cstat-no" title="statement not covered" >				var res = {</span>
					content:null,
					url:null,
					position:null,
					repeat:null
				};
&nbsp;
<span class="cstat-no" title="statement not covered" >				var url = img_url[0].replace(/url\(|\)|\'|\"/gi,'');</span>
<span class="cstat-no" title="statement not covered" >				res.urlOrigin = url;</span>
<span class="cstat-no" title="statement not covered" >				url = url.replace(reg_is_sprite, '');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				var sprite_rem = img_url[0].match(new RegExp('__rem\\d+', 'g'));</span>
<span class="cstat-no" title="statement not covered" >				if(sprite_rem){</span>
<span class="cstat-no" title="statement not covered" >					res.rem = parseFloat(sprite_rem[0].replace('__rem', '')); </span>
<span class="cstat-no" title="statement not covered" >					url = url.replace(/__rem\d+/g, '');</span>
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(/^\/\w/.test(url)){</span>
<span class="cstat-no" title="statement not covered" >					res.url = path.join(jdf.config.outputDirName, jdf.getProjectPath(), url)</span>
				}else{
<span class="cstat-no" title="statement not covered" >					res.url = path.join(path.dirname(source),url);</span>
				}
<span class="cstat-no" title="statement not covered" >				res.content = Images(res.url);</span>
				
				//去重
<span class="cstat-no" title="statement not covered" >				if(!resultTemp[url]){</span>
<span class="cstat-no" title="statement not covered" >					res.item = item;</span>
<span class="cstat-no" title="statement not covered" >					res.width = res.content.size().width;</span>
<span class="cstat-no" title="statement not covered" >					res.height = res.content.size().height;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >					if(cssSpriteDirection == 'vertical'){</span>
<span class="cstat-no" title="statement not covered" >						if(res.width&gt;maxWidth){</span>
<span class="cstat-no" title="statement not covered" >							maxWidth = res.width;</span>
						}
<span class="cstat-no" title="statement not covered" >						heightTotal += res.height + margin;</span>
					}else{
<span class="cstat-no" title="statement not covered" >						if(res.height&gt;maxHeight){</span>
<span class="cstat-no" title="statement not covered" >							maxHeight = res.height;</span>
						}
<span class="cstat-no" title="statement not covered" >						widthTotal += res.width + margin;</span>
					}
&nbsp;
<span class="cstat-no" title="statement not covered" >					if(item.match(reg_position)){</span>
<span class="cstat-no" title="statement not covered" >						res.position = item.match(reg_position)[0];</span>
					}
<span class="cstat-no" title="statement not covered" >					if(item.match(reg_repeat)){</span>
<span class="cstat-no" title="statement not covered" >						res.repeat = item.match(reg_repeat)[0];</span>
					}
<span class="cstat-no" title="statement not covered" >					result.push(res);</span>
				}
<span class="cstat-no" title="statement not covered" >				resultTemp[url] = url;</span>
			}
		});
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	if(result.length&gt;0){</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		var outputName = path.basename(source, path.extname(source));</span>
<span class="cstat-no" title="statement not covered" >		var outputExtname = '.png';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		var imagesOutput = null;</span>
<span class="cstat-no" title="statement not covered" >		if(cssSpriteDirection == 'vertical'){</span>
<span class="cstat-no" title="statement not covered" >			imagesOutput = Images(maxWidth, heightTotal);</span>
		}else{
<span class="cstat-no" title="statement not covered" >			imagesOutput = Images(widthTotal, maxHeight);</span>
		}
		
<span class="cstat-no" title="statement not covered" >		var w = 0;</span>
<span class="cstat-no" title="statement not covered" >		var h = 0;</span>
<span class="cstat-no" title="statement not covered" >		result.forEach(<span class="fstat-no" title="function not covered" >function(item, i){</span></span>
<span class="cstat-no" title="statement not covered" >			if(!item.repeat){</span>
<span class="cstat-no" title="statement not covered" >				outputExtname = path.extname(item.url);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(cssSpriteDirection == 'vertical'){</span>
<span class="cstat-no" title="statement not covered" >					var x = 0, y = h, y2 = -h;</span>
<span class="cstat-no" title="statement not covered" >					if(item.position){</span>
<span class="cstat-no" title="statement not covered" >						var position = item.position.split(' ');</span>
<span class="cstat-no" title="statement not covered" >						var x1 = parseInt(position[0], 10)</span>
<span class="cstat-no" title="statement not covered" >						if(x1){ </span>
<span class="cstat-no" title="statement not covered" >							x += x1;</span>
						}
<span class="cstat-no" title="statement not covered" >						var y1 = parseInt(position[1], 10)</span>
<span class="cstat-no" title="statement not covered" >						if(y1){</span>
<span class="cstat-no" title="statement not covered" >							y += y1;</span>
<span class="cstat-no" title="statement not covered" >							y2 -= y1;</span>
						}
					}
&nbsp;
					//画小图片
<span class="cstat-no" title="statement not covered" >					imagesOutput.draw(item.content, 0, y);</span>
				}else{
<span class="cstat-no" title="statement not covered" >					var y = 0, x = w, x2 = -w;</span>
<span class="cstat-no" title="statement not covered" >					if(item.position){</span>
<span class="cstat-no" title="statement not covered" >						var position = item.position.split(' ');</span>
<span class="cstat-no" title="statement not covered" >						var x1 = parseInt(position[0], 10)</span>
<span class="cstat-no" title="statement not covered" >						if(x1){ </span>
<span class="cstat-no" title="statement not covered" >							x += x1;</span>
<span class="cstat-no" title="statement not covered" >							x2 -= x1;</span>
						}
<span class="cstat-no" title="statement not covered" >						var y1 = parseInt(position[1], 10)</span>
<span class="cstat-no" title="statement not covered" >						if(y1){</span>
<span class="cstat-no" title="statement not covered" >							y += y1;</span>
						}
					}
&nbsp;
					//画小图片
<span class="cstat-no" title="statement not covered" >					imagesOutput.draw(item.content, x, 0);</span>
				}
&nbsp;
				//样式替换
<span class="cstat-no" title="statement not covered" >				var urlOrigin = item.urlOrigin;</span>
<span class="cstat-no" title="statement not covered" >				var urlOriginNew = urlOrigin.replace(path.basename(item.url, path.extname(item.url)) , outputName);</span>
<span class="cstat-no" title="statement not covered" >				urlOriginNew = urlOriginNew.replace(/^\//, '');</span>
<span class="cstat-no" title="statement not covered" >				if(jdf.config.cdn &amp;&amp; jdf.config.output.cssImagesUrlReplace){</span>
<span class="cstat-no" title="statement not covered" >					urlOriginNew = imagesUrlAddCdn(path.dirname(source).replace(sourceOrigin, '') +'/'+ urlOriginNew);</span>
				}
<span class="cstat-no" title="statement not covered" >				urlOriginNew = urlOriginNew.replace(/\.\/|\.\.\//gi, '');</span>
				
<span class="cstat-no" title="statement not covered" >				var backgroundNew = item.item.replace(urlOrigin, urlOriginNew);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(cssSpriteDirection == 'vertical'){</span>
<span class="cstat-no" title="statement not covered" >					if(item.rem){</span>
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-position:'+(x/item.rem)+'rem '+(y2/item.rem)+'rem;';</span>
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-size:' + (maxWidth/item.rem) + 'rem ' + (heightTotal/item.rem) + 'rem;';</span>
					}else{
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-position:'+x+'px '+y2+'px;';</span>
					}
				}else{
<span class="cstat-no" title="statement not covered" >					if(item.rem){</span>
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-position:'+(x2/item.rem)+'rem '+(y/item.rem)+'rem;';</span>
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-size:' + (maxWidth/item.rem) + 'rem ' + (heightTotal/item.rem) + 'rem;';</span>
					}else{
<span class="cstat-no" title="statement not covered" >						backgroundNew += 'background-position:'+x2+'px '+y+'px;';</span>
					}
				}
&nbsp;
				//替换图片路径
<span class="cstat-no" title="statement not covered" >				content = escape(content);</span>
<span class="cstat-no" title="statement not covered" >				content = content.replace(new RegExp(escape(item.item), 'gi'), escape(backgroundNew));</span>
<span class="cstat-no" title="statement not covered" >				content = unescape(content);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(cssSpriteDirection == 'vertical'){</span>
<span class="cstat-no" title="statement not covered" >					h = h + item.height + margin;</span>
				}else{
<span class="cstat-no" title="statement not covered" >					w = w + item.width + margin;</span>
				}
			}
		});
	
		//合成大图
<span class="cstat-no" title="statement not covered" >		try{</span>
<span class="cstat-no" title="statement not covered" >			f.mkdir(path.dirname(source) + '/i/');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(imagesSuffix == 2){</span>
<span class="cstat-no" title="statement not covered" >				outputName = outputName + suffix;</span>
			}
<span class="cstat-no" title="statement not covered" >			imagesOutput.save(path.dirname(source) + '/i/' + outputName + outputExtname);</span>
		}catch(e){
<span class="cstat-no" title="statement not covered" >			console.log(e);</span>
		}
	}
<span class="cstat-no" title="statement not covered" >	return content;</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/csslint.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/csslint.js</span></h1>
    <h2>
        
        Statements: <span class="metric">18.42% <small>(7 / 38)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 22)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">18.42% <small>(7 / 38)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; csslint.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @csslint
 * @ctime 2014-7-11
 * @wiki https://github.com/CSSLint/csslint/wiki/Command-line-interface
 */
&nbsp;
var csslint = require('csslint').CSSLint;
&nbsp;
var f = require('./file.js');
var $ = require('./base.js');
var colors = require('colors');
var os = require('os');
&nbsp;
<span class="fstat-no" title="function not covered" >function csslintInit(filename, fileContent){</span>
<span class="cstat-no" title="statement not covered" >	var content = '';</span>
<span class="cstat-no" title="statement not covered" >	if(typeof(fileContent) == 'undefined'){</span>
<span class="cstat-no" title="statement not covered" >		content = f.read(filename);</span>
	}else{
<span class="cstat-no" title="statement not covered" >		content = fileContent;</span>
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	var result = csslint.verify(content);</span>
		
<span class="cstat-no" title="statement not covered" >	if(result &amp;&amp; result.messages.length){</span>
<span class="cstat-no" title="statement not covered" >		var n = 0;</span>
<span class="cstat-no" title="statement not covered" >		var messagesType = <span class="fstat-no" title="function not covered" >function (type){</span></span>
<span class="cstat-no" title="statement not covered" >			 return type == 'error' || type == 'warning';</span>
		}
<span class="cstat-no" title="statement not covered" >		result.messages.forEach(<span class="fstat-no" title="function not covered" >function (message, i){</span></span>
<span class="cstat-no" title="statement not covered" >			var type = message.type;</span>
<span class="cstat-no" title="statement not covered" >			if(messagesType(type)){</span>
<span class="cstat-no" title="statement not covered" >				n += 1;</span>
			}
		});
&nbsp;
<span class="cstat-no" title="statement not covered" >		console.log(os.EOL + 'jdf csslint: ' + filename);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		result.messages.forEach(<span class="fstat-no" title="function not covered" >function (message, index){</span></span>
<span class="cstat-no" title="statement not covered" >			var type = message.type;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(messagesType(type)){</span>
<span class="cstat-no" title="statement not covered" >				console.log('#'+(index+1));</span>
<span class="cstat-no" title="statement not covered" >                console.log(colors.red('&gt; '), 'line: ' + message.line + ', column: ' + message.col);</span>
<span class="cstat-no" title="statement not covered" >                console.log(colors.red('&gt; '), 'msg: ' + message.message);</span>
<span class="cstat-no" title="statement not covered" >                console.log(colors.red('&gt; '), 'at: ' + message.evidence);</span>
            }
		});
&nbsp;
	}else{
<span class="cstat-no" title="statement not covered" >		console.log('jdf csslint: ' + filename + ' is ok' );</span>
	}
}
&nbsp;
/**
 * @init
 * @param {String} filename 文件名称
 * @param {String} fileContent 文件内容
 */
&nbsp;
exports.init = <span class="fstat-no" title="function not covered" >function(filename, fileContent){</span>
<span class="cstat-no" title="statement not covered" >	if(typeof(fileContent) == 'undefined'){</span>
<span class="cstat-no" title="statement not covered" >		if(f.isDir(filename)){</span>
<span class="cstat-no" title="statement not covered" >	        var filelist = f.getdirlist(filename, '(css|scss|less)$');</span>
<span class="cstat-no" title="statement not covered" >	        filelist.forEach(<span class="fstat-no" title="function not covered" >function(item){</span></span>
<span class="cstat-no" title="statement not covered" >	            csslintInit(item);</span>
	        })
	    }else <span class="cstat-no" title="statement not covered" >if(f.isFile(filename) &amp;&amp; ($.is.css(filename) || $.is.less(filename) || $.is.sass(filename) ) ){</span>
<span class="cstat-no" title="statement not covered" >	       csslintInit(filename);</span>
	    }else{
<span class="cstat-no" title="statement not covered" >	    	console.log('jdf csslint ' + filename + ' is not exists');</span>
	    }
	}else{
<span class="cstat-no" title="statement not covered" >		csslintInit(filename, fileContent);</span>
	}
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/file.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/file.js</span></h1>
    <h2>
        
        Statements: <span class="metric">6.57% <small>(13 / 198)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0.75% <small>(1 / 134)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 32)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">6.84% <small>(13 / 190)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; file.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
* @文件操作 
*/
&nbsp;
//原生组件
var path = require('path');
var fs = require('fs');
var util = require('util');
var Url = require('url');
var iconv = require('iconv-lite');
//var crypto = require('crypto');
&nbsp;
//core function
var f = module.exports = {
	exists:fs.existsSync || <span class="branch-1 cbranch-no" title="branch not covered" >path.existsSync,</span>
	isFile : <span class="fstat-no" title="function not covered" >function(path){</span>
<span class="cstat-no" title="statement not covered" >		return this.exists(path) &amp;&amp; fs.statSync(path).isFile();</span>
	},
	isDir : <span class="fstat-no" title="function not covered" >function(path){</span>
<span class="cstat-no" title="statement not covered" >		return this.exists(path) &amp;&amp; fs.statSync(path).isDirectory();</span>
	},
	isBlankDir: <span class="fstat-no" title="function not covered" >function(path){</span>
<span class="cstat-no" title="statement not covered" >		return f.getdirlist(path).length == 0;</span>
	},
	isWin : process.platform.indexOf('win') === 0,
	realpath : <span class="fstat-no" title="function not covered" >function(path){</span>
<span class="cstat-no" title="statement not covered" >		if(path &amp;&amp; f.exists(path)){</span>
<span class="cstat-no" title="statement not covered" >			path = fs.realpathSync(path);</span>
<span class="cstat-no" title="statement not covered" >			if(this.isWin){</span>
<span class="cstat-no" title="statement not covered" >				path = path.replace(/\\/g, '/');</span>
			}
<span class="cstat-no" title="statement not covered" >			if(path !== '/'){</span>
<span class="cstat-no" title="statement not covered" >				path = path.replace(/\/$/, '');</span>
			}
<span class="cstat-no" title="statement not covered" >			return path;</span>
		} else {
<span class="cstat-no" title="statement not covered" >			return false;</span>
		}
	},
	/**
	* @路径格式化 \ ==&gt; /
	*/
	pathFormat:<span class="fstat-no" title="function not covered" >function(str){</span>
<span class="cstat-no" title="statement not covered" >		return str.replace(/\\/g,'\/');</span>
	},
	currentDir:<span class="fstat-no" title="function not covered" >function(){</span>
<span class="cstat-no" title="statement not covered" >		return fs.realpathSync('.');</span>
	},
	/**
	* @读文件
	* @update 
	*/
	read:<span class="fstat-no" title="function not covered" >function(path,encodeing){</span>
<span class="cstat-no" title="statement not covered" >		if (this.exists(path)){</span>
<span class="cstat-no" title="statement not covered" >			try {</span>
<span class="cstat-no" title="statement not covered" >				if(typeof(encodeing) != 'undefined' &amp;&amp; encodeing == null){</span>
<span class="cstat-no" title="statement not covered" >					return fs.readFileSync(path);</span>
				}else{
<span class="cstat-no" title="statement not covered" >					var encodeing = encodeing || 'utf8';</span>
<span class="cstat-no" title="statement not covered" >					return fs.readFileSync(path, encodeing);</span>
				}
			} catch (e) {
<span class="cstat-no" title="statement not covered" >				console.log("jdf error [f.read]");</span>
<span class="cstat-no" title="statement not covered" >				console.log(path);</span>
<span class="cstat-no" title="statement not covered" >				console.log(e);</span>
			}		
		}
	},
	/**
	* @写文件
	*/
	write:<span class="fstat-no" title="function not covered" >function(path,source,encodeing){</span>
<span class="cstat-no" title="statement not covered" >		try {</span>
<span class="cstat-no" title="statement not covered" >			var encodeing = encodeing || 'utf8';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(encodeing == 'gbk'){</span>
<span class="cstat-no" title="statement not covered" >				var s = iconv.decode(source, 'gbk');</span>
<span class="cstat-no" title="statement not covered" >    			source = iconv.encode(s, 'gbk');</span>
    		}
&nbsp;
<span class="cstat-no" title="statement not covered" >			fs.writeFileSync(path , source, encodeing);</span>
		} catch (e) {
<span class="cstat-no" title="statement not covered" >			console.log("jdf error [f.write] " + path);</span>
<span class="cstat-no" title="statement not covered" >			console.log(e);</span>
		}
	},
    /**
     * @copy二进制文件
     */
    copyBinary:<span class="fstat-no" title="function not covered" >function(srcFile, destFile){</span>
<span class="cstat-no" title="statement not covered" >    	var BUF_LENGTH = 64 * 1024;</span>
<span class="cstat-no" title="statement not covered" >		var _buff = new Buffer(BUF_LENGTH);</span>
		
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            var fdr = fs.openSync(srcFile, 'r')</span>
<span class="cstat-no" title="statement not covered" >            var stat = fs.fstatSync(fdr)</span>
<span class="cstat-no" title="statement not covered" >            var fdw = fs.openSync(destFile, 'w', stat.mode)</span>
<span class="cstat-no" title="statement not covered" >            var bytesRead = 1</span>
<span class="cstat-no" title="statement not covered" >            var pos = 0</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            while (bytesRead &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                bytesRead = fs.readSync(fdr, _buff, 0, BUF_LENGTH, pos)</span>
<span class="cstat-no" title="statement not covered" >                fs.writeSync(fdw, _buff, 0, bytesRead)</span>
<span class="cstat-no" title="statement not covered" >                pos += bytesRead</span>
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            fs.closeSync(fdr)</span>
<span class="cstat-no" title="statement not covered" >            fs.closeSync(fdw)</span>
        } catch (e) {
<span class="cstat-no" title="statement not covered" >            console.log("jdf error [f.copyBinary] " + srcFile);</span>
<span class="cstat-no" title="statement not covered" >            console.log(e);</span>
        }
    },
	/**
	* @删除文件
	* @param source {String} 原始路径
	* @param callback {Function} 回调函数
	*/
	del:<span class="fstat-no" title="function not covered" >function(source,callback){</span>
<span class="cstat-no" title="statement not covered" >		var removedAll = true;</span>
<span class="cstat-no" title="statement not covered" >		var source = f.realpath(source);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		if(source){</span>
<span class="cstat-no" title="statement not covered" >			if(f.isDir(source)){</span>
<span class="cstat-no" title="statement not covered" >				var files;</span>
<span class="cstat-no" title="statement not covered" >				try {</span>
<span class="cstat-no" title="statement not covered" >					files = fs.readdirSync(source);</span>
				} catch (err) {
<span class="cstat-no" title="statement not covered" >					console.log(err);</span>
				}
				
<span class="cstat-no" title="statement not covered" >				files.forEach(<span class="fstat-no" title="function not covered" >function(name){</span></span>
<span class="cstat-no" title="statement not covered" >					if(name != '.' &amp;&amp; name != '..') {</span>
<span class="cstat-no" title="statement not covered" >						removedAll = f.del(source + '/' + name) &amp;&amp; removedAll;</span>
					}
				});
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(removedAll) {</span>
<span class="cstat-no" title="statement not covered" >					if(fs.existsSync(source)){</span>
<span class="cstat-no" title="statement not covered" >						fs.rmdirSync(source);	</span>
					}
					
<span class="cstat-no" title="statement not covered" >					if(callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
				}
			} else <span class="cstat-no" title="statement not covered" >if(f.isFile(source)){</span>
<span class="cstat-no" title="statement not covered" >				if (f.isWin &amp;&amp; f.exists(source)) {</span>
<span class="cstat-no" title="statement not covered" >					fs.chmodSync(source, 666);</span>
				}
<span class="cstat-no" title="statement not covered" >				fs.unlinkSync(source);</span>
			} else {
<span class="cstat-no" title="statement not covered" >				removedAll = false;</span>
			}
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		return removedAll;</span>
	},
	/**
	* @文件筛选
	* @param {String}  source  原始文件夹/文件路径
	* @param {String}  include  包括的文件后缀
	* @param {String}  exclude  不包括的文件后缀
	* @example f.filter(source, null, 'less|scss')
	*/
	filter:<span class="fstat-no" title="function not covered" >function(source, include, exclude){</span>
<span class="cstat-no" title="statement not covered" >		var filterTag = true;</span>
<span class="cstat-no" title="statement not covered" >		if (include) {</span>
<span class="cstat-no" title="statement not covered" >			var reg = new RegExp(include, 'gm');</span>
<span class="cstat-no" title="statement not covered" >			var regResult = reg.exec(source);</span>
<span class="cstat-no" title="statement not covered" >			if (!regResult) {</span>
<span class="cstat-no" title="statement not covered" >				filterTag = false;</span>
			}
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		if (exclude) {</span>
<span class="cstat-no" title="statement not covered" >			var reg = new RegExp(exclude, 'gm');</span>
<span class="cstat-no" title="statement not covered" >			var regResult = reg.exec(source);</span>
<span class="cstat-no" title="statement not covered" >			if (regResult) {</span>
<span class="cstat-no" title="statement not covered" >				filterTag = false;</span>
			}
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		return filterTag;</span>
	},
	/**
	* @文件夹/文件复制不包括那些文件
	*/
	excludeFiles:<span class="fstat-no" title="function not covered" >function(filename){</span>
<span class="cstat-no" title="statement not covered" >		 return !(/.svn|Thumbs.db|.DS_Store/.test(filename));</span>
	},
	/**
	* @文件夹/文件复制
	* @param source {String} 原始文件夹/文件路径
	* @param target {String} 目标文件夹/文件路径
	* @param uncover {Boole} false 覆盖
	* @param move {Boole} false 移动
	* @example f.copy(source,target,'include.js','exclude.css',false,false,false);
	*/
	copy:<span class="fstat-no" title="function not covered" >function(source, target, include, exclude, uncover, move , logTag, encoding){</span>
<span class="cstat-no" title="statement not covered" >		var removedAll = true;</span>
<span class="cstat-no" title="statement not covered" >		var source = f.realpath(source);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		if(source &amp;&amp; f.filter(source, null, exclude)){</span>
<span class="cstat-no" title="statement not covered" >			if (!f.exists(target) &amp;&amp; f.isDir(source)) {</span>
<span class="cstat-no" title="statement not covered" >				f.mkdir(target);</span>
                //fs.chmodSync(target, 666);
			}
			
<span class="cstat-no" title="statement not covered" >			if(f.isDir(source)){</span>
<span class="cstat-no" title="statement not covered" >				fs.readdirSync(source).forEach(<span class="fstat-no" title="function not covered" >function(name){</span></span>
<span class="cstat-no" title="statement not covered" >					if(name != '.' &amp;&amp; name != '..' &amp;&amp; f.excludeFiles(name)  ) {</span>
<span class="cstat-no" title="statement not covered" >						removedAll = f.copy(source + '/' + name,target + '/' + name, include, exclude, uncover, move , logTag ) &amp;&amp; removedAll;</span>
					}
				});
&nbsp;
				//Bug  return binding.rmdir(pathModule._makeLong(path));
				//https://github.com/joyent/node/issues/3051
				//Yes, fs.rmdirSync throw an error, as you see. Because the directory still has a file even after fs.unlinkSync is called to remove the file.
<span class="cstat-no" title="statement not covered" >				if(move &amp;&amp; removedAll) {</span>
<span class="cstat-no" title="statement not covered" >					fs.rmdirSync(source);</span>
				}
			} else <span class="cstat-no" title="statement not covered" >if(f.isFile(source) &amp;&amp; f.filter(source, include, exclude)){</span>
<span class="cstat-no" title="statement not covered" >				if(uncover &amp;&amp; f.exists(target)){</span>
					//uncover
<span class="cstat-no" title="statement not covered" >					removedAll = false;</span>
				} else {
					//中文会报错
<span class="cstat-no" title="statement not covered" >					f.write(target,fs.readFileSync(source), encoding);</span>
                    //f.copyBinary(source,target)
<span class="cstat-no" title="statement not covered" >					if(move) {</span>
<span class="cstat-no" title="statement not covered" >						fs.unlinkSync(source);</span>
					}
				}
			} else {
<span class="cstat-no" title="statement not covered" >				removedAll = false;</span>
			}
		} else {
<span class="cstat-no" title="statement not covered" >			if (typeof(logTag) != 'undefined' &amp;&amp; logTag) {</span>
<span class="cstat-no" title="statement not covered" >				console.log('jdf error : [ '+source+' ] --- no such file or dir');</span>
			}
		}
<span class="cstat-no" title="statement not covered" >		return removedAll;</span>
	},
	/**
	* @下载文件
	* @param path 下载文件路径
	* @param target 目标文件名
	*/
	download:<span class="fstat-no" title="function not covered" >function(source,target,callback){</span>
<span class="cstat-no" title="statement not covered" >		var http = require('http');</span>
<span class="cstat-no" title="statement not covered" >		var fs = require('fs');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		var file = fs.createWriteStream(target);</span>
<span class="cstat-no" title="statement not covered" >		var request = http.get(source,<span class="fstat-no" title="function not covered" >function(response) {</span></span>
<span class="cstat-no" title="statement not covered" >			var status = response.statusCode;</span>
<span class="cstat-no" title="statement not covered" >			response.pipe(file);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			response.on('end',<span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >				if(status &gt;= 200 &amp;&amp; status &lt; 300 || status === 304){</span>
<span class="cstat-no" title="statement not covered" >					if(callback) <span class="cstat-no" title="statement not covered" >callback('ok');</span></span>
				}
				
<span class="cstat-no" title="statement not covered" >				if(status === 404){</span>
<span class="cstat-no" title="statement not covered" >					console.log('jdf download error '+source+ ' not exist.');</span>
<span class="cstat-no" title="statement not covered" >					if(callback) <span class="cstat-no" title="statement not covered" >callback('error');</span></span>
				}
			});
&nbsp;
<span class="cstat-no" title="statement not covered" >			response.on('error',<span class="fstat-no" title="function not covered" >function(err){</span></span>
<span class="cstat-no" title="statement not covered" >				 var msg = typeof err === 'object' ? err.message : err;</span>
<span class="cstat-no" title="statement not covered" >				 console.log(err);</span>
			})
		});
	},
	tar:<span class="fstat-no" title="function not covered" >function(source,target,callback){</span>
		//引用的组件
<span class="cstat-no" title="statement not covered" >		var tar = require("tar");</span>
<span class="cstat-no" title="statement not covered" >		fs.createReadStream(source)</span>
		.pipe(tar.Extract({ path:target }))
		.on("error",<span class="fstat-no" title="function not covered" >function (err) {</span>
<span class="cstat-no" title="statement not covered" >			console.error("jdf [file.tar] error "+source)</span>
		})
		.on("end", <span class="fstat-no" title="function not covered" >function () {</span>
<span class="cstat-no" title="statement not covered" >			if(callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
		})
	}
}
&nbsp;
//同步mkdir
f.mkdir = <span class="fstat-no" title="function not covered" >function(p, mode, made) {</span>
<span class="cstat-no" title="statement not covered" >    if (mode === undefined) {</span>
<span class="cstat-no" title="statement not covered" >        mode = 0777 &amp; (~process.umask());</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!made) <span class="cstat-no" title="statement not covered" >made = null;</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (typeof mode === 'string') <span class="cstat-no" title="statement not covered" >mode = parseInt(mode, 8);</span></span>
<span class="cstat-no" title="statement not covered" >    p = path.resolve(p);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	if ( !f.exists(p) ) {</span>
<span class="cstat-no" title="statement not covered" >		try {</span>
<span class="cstat-no" title="statement not covered" >			fs.mkdirSync(p, mode);</span>
<span class="cstat-no" title="statement not covered" >			made = made || p;</span>
		}
		catch (err0) {
<span class="cstat-no" title="statement not covered" >			switch (err0.code) {</span>
				case 'ENOENT' :
<span class="cstat-no" title="statement not covered" >					made = f.mkdir(path.dirname(p), mode, made);</span>
<span class="cstat-no" title="statement not covered" >					f.mkdir(p, mode, made);</span>
<span class="cstat-no" title="statement not covered" >					break;</span>
				default:
<span class="cstat-no" title="statement not covered" >					var stat;</span>
<span class="cstat-no" title="statement not covered" >					try {</span>
<span class="cstat-no" title="statement not covered" >						stat = fs.statSync(p);</span>
					}
					catch (err1) {
<span class="cstat-no" title="statement not covered" >						throw err0;</span>
					}
<span class="cstat-no" title="statement not covered" >					if (!stat.isDirectory()) <span class="cstat-no" title="statement not covered" >throw err0;</span></span>
<span class="cstat-no" title="statement not covered" >					break;</span>
			}
		}
<span class="cstat-no" title="statement not covered" >		return made;</span>
	}
};
&nbsp;
/**
* @递归读取文件列表
* @2014-4-17 17:16:14
*/
f.getdirlist = <span class="fstat-no" title="function not covered" >function(source, include, exclude){</span>
<span class="cstat-no" title="statement not covered" >	var _this = this;</span>
<span class="cstat-no" title="statement not covered" >	var result = [];</span>
	//var source = f.realpath(source);
<span class="cstat-no" title="statement not covered" >	if(source){</span>
<span class="cstat-no" title="statement not covered" >		if(f.isDir(source)){</span>
<span class="cstat-no" title="statement not covered" >			fs.readdirSync(source).forEach(<span class="fstat-no" title="function not covered" >function(name){</span></span>
<span class="cstat-no" title="statement not covered" >				result = result.concat( _this.getdirlist(source + '/' + name, include, exclude) );</span>
			});
		} else <span class="cstat-no" title="statement not covered" >if(f.isFile(source) &amp;&amp; f.filter(source, include, exclude)){</span>
<span class="cstat-no" title="statement not covered" >			result.push(source.replace("//","/"));</span>
		}
	}
<span class="cstat-no" title="statement not covered" >	return result;</span>
}
&nbsp;
/**
 * @readJSON
 */
f.readJSON = <span class="fstat-no" title="function not covered" >function(url, callback){</span>
<span class="cstat-no" title="statement not covered" >	var res = null;</span>
<span class="cstat-no" title="statement not covered" >	if (f.exists(url)) {</span>
<span class="cstat-no" title="statement not covered" >		try{</span>
<span class="cstat-no" title="statement not covered" >			var data = f.read(url);</span>
<span class="cstat-no" title="statement not covered" >			if (data) {</span>
<span class="cstat-no" title="statement not covered" >				data = JSON.parse(data);</span>
<span class="cstat-no" title="statement not covered" >				res = data;</span>
			}
<span class="cstat-no" title="statement not covered" >			if(callback) <span class="cstat-no" title="statement not covered" >callback(res);</span></span>
		}catch(e){
<span class="cstat-no" title="statement not covered" >			console.log('jdf error [f.readJSON] "'+url+'" format error' );</span>
<span class="cstat-no" title="statement not covered" >			console.log(e);</span>
			//if(callback) callback(res);
		}
	}else{
<span class="cstat-no" title="statement not covered" >		console.log('jdf error [f.readJSON] "'+url+'" is not exists' );</span>
		//if(callback) callback(res);
	}
}
&nbsp;
f.moveFolderAsync=<span class="fstat-no" title="function not covered" >function(source,target){</span>
<span class="cstat-no" title="statement not covered" >    var fork = require('child_process').fork;</span>
<span class="cstat-no" title="statement not covered" >    var childPath=__dirname+"/fileWorker.js";</span>
<span class="cstat-no" title="statement not covered" >    childPath=path.normalize(childPath);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var subProc =  fork(childPath);</span>
<span class="cstat-no" title="statement not covered" >    subProc.on('message', <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >        this.disconnect();</span>
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    subProc.send({</span>
        source:source,
        target:target,
        route:'copy'
    });
}
&nbsp;
f.delAsync=<span class="fstat-no" title="function not covered" >function(target){</span>
<span class="cstat-no" title="statement not covered" >    var fork = require('child_process').fork;</span>
<span class="cstat-no" title="statement not covered" >    var childPath=__dirname+"/fileWorker.js";</span>
<span class="cstat-no" title="statement not covered" >    childPath=path.normalize(childPath);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var subProc =  fork(childPath);</span>
<span class="cstat-no" title="statement not covered" >    subProc.on('message', <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >        this.disconnect();</span>
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    subProc.send({</span>
        target:target,
        route:'del'
    });
}
&nbsp;
f.renameFile=<span class="fstat-no" title="function not covered" >function(path,dest){</span>
<span class="cstat-no" title="statement not covered" >	fs.renameSync(path,dest);</span>
}
&nbsp;
f.base64Encode = <span class="fstat-no" title="function not covered" >function(file) {</span>
<span class="cstat-no" title="statement not covered" >    var bitmap = fs.readFileSync(file);</span>
<span class="cstat-no" title="statement not covered" >    return new Buffer(bitmap).toString('base64');</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/fileFormat.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/fileFormat.js</span></h1>
    <h2>
        
        Statements: <span class="metric">24.24% <small>(8 / 33)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 18)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">24.24% <small>(8 / 33)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; fileFormat.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</td><td class="line-coverage"><span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var beautify = require('js-beautify');
var f = require('./file.js');
var $ = require('./base.js');
&nbsp;
&nbsp;
/**
 * @init
 * @param {String} filename 文件名称
 */
exports.init = <span class="fstat-no" title="function not covered" >function(filename){</span>
<span class="cstat-no" title="statement not covered" >	if(!typeof(filename) !== 'undefined'){</span>
<span class="cstat-no" title="statement not covered" >		if(f.isDir(filename)){</span>
<span class="cstat-no" title="statement not covered" >			var filelist = f.getdirlist(filename, '(html|vm|tpl|css|scss|less|js)$');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			filelist.forEach(<span class="fstat-no" title="function not covered" >function(file){</span></span>
<span class="cstat-no" title="statement not covered" >				route(file);</span>
			});
&nbsp;
		}else{
<span class="cstat-no" title="statement not covered" >			route(filename);</span>
		}
	}
&nbsp;
<span class="fstat-no" title="function not covered" >	function route(file){</span>
<span class="cstat-no" title="statement not covered" >		var exists = f.exists(file);</span>
		
<span class="cstat-no" title="statement not covered" >		if(exists){</span>
<span class="cstat-no" title="statement not covered" >			if($.is.html(file) || $.is.vm(file) || $.is.tpl(file)){</span>
<span class="cstat-no" title="statement not covered" >				htmlFormat(file);</span>
&nbsp;
			}else <span class="cstat-no" title="statement not covered" >if($.is.css(file) || $.is.less(file) || $.is.sass(file)){</span>
<span class="cstat-no" title="statement not covered" >				cssFormat(file);</span>
&nbsp;
			}else <span class="cstat-no" title="statement not covered" >if($.is.js(file)){</span>
<span class="cstat-no" title="statement not covered" >				jsFormat(file);</span>
&nbsp;
			}else{
<span class="cstat-no" title="statement not covered" >				console.log('jdf warning: can not format the [' + file + '].\n');</span>
			}
		}else{
<span class="cstat-no" title="statement not covered" >			console.log('jdf error: the [' + file + '] may be not exist.');</span>
		}
	}
}
&nbsp;
<span class="fstat-no" title="function not covered" >function htmlFormat(filename){</span>
<span class="cstat-no" title="statement not covered" >	var content = f.read(filename);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	f.write(filename, beautify.html_beautify(content));</span>
<span class="cstat-no" title="statement not covered" >	console.log('jdf format ['+filename+'] success');</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function cssFormat(filename){</span>
<span class="cstat-no" title="statement not covered" >	var content = f.read(filename);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	f.write(filename, beautify.css_beautify(content));</span>
<span class="cstat-no" title="statement not covered" >	console.log('jdf format ['+filename+'] success');</span>
}
&nbsp;
<span class="fstat-no" title="function not covered" >function jsFormat(filename){</span>
<span class="cstat-no" title="statement not covered" >	var content = f.read(filename);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	f.write(filename, beautify.js_beautify(content));</span>
<span class="cstat-no" title="statement not covered" >	console.log('jdf format ['+filename+'] success');</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/fileLint.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/fileLint.js</span></h1>
    <h2>
        
        Statements: <span class="metric">17.81% <small>(13 / 73)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 34)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">17.81% <small>(13 / 73)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; fileLint.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @filellint
 * @ctime 2014-10-8
 */
&nbsp;
var os = require('os');
var Htmllint = require('htmllint');
var Csslint = require('csslint').CSSLint;
var Jslint = require('atropa-jslint');
var colors = require('colors');
var f = require('./file');
var $ = require('./base');
&nbsp;
/**
 * @init
 * @param {String} filename 文件名称
 */
exports.init = <span class="fstat-no" title="function not covered" >function(filename){</span>
<span class="cstat-no" title="statement not covered" >	if(!typeof(filename) !== 'undefined'){</span>
<span class="cstat-no" title="statement not covered" >		if(f.isDir(filename)){</span>
<span class="cstat-no" title="statement not covered" >			var filelist = f.getdirlist(filename, '(html|vm|tpl|css|scss|less|js)$');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			filelist.forEach(<span class="fstat-no" title="function not covered" >function(file){</span></span>
<span class="cstat-no" title="statement not covered" >				route(file);</span>
			});
&nbsp;
		}else{
<span class="cstat-no" title="statement not covered" >			route(filename);</span>
		}
	}
&nbsp;
<span class="fstat-no" title="function not covered" >	function route(file){</span>
<span class="cstat-no" title="statement not covered" >		var exists = f.exists(file);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		if($.is.httpLink(file)){</span>
<span class="cstat-no" title="statement not covered" >			httpLinkLint(file);</span>
<span class="cstat-no" title="statement not covered" >			return;</span>
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		if(exists){</span>
<span class="cstat-no" title="statement not covered" >			if($.is.html(file) || $.is.vm(file) || $.is.tpl(file)){</span>
<span class="cstat-no" title="statement not covered" >				htmlLint(file);</span>
&nbsp;
			}else <span class="cstat-no" title="statement not covered" >if($.is.css(file) || $.is.less(file) || $.is.sass(file)){</span>
<span class="cstat-no" title="statement not covered" >				cssLint(file);</span>
&nbsp;
			}else <span class="cstat-no" title="statement not covered" >if($.is.js(file)){</span>
<span class="cstat-no" title="statement not covered" >				jsLint(file);</span>
&nbsp;
			}else{
<span class="cstat-no" title="statement not covered" >				console.log('jdf warning: can not lint the [' + file + '].\n');</span>
			}
		}else{
<span class="cstat-no" title="statement not covered" >			console.log('jdf error: the [' + file + '] may be not exist.');</span>
		}
	}
}
&nbsp;
<span class="fstat-no" title="function not covered" >function htmlLint(filename){</span>
<span class="cstat-no" title="statement not covered" >	var content = f.read(filename);</span>
<span class="cstat-no" title="statement not covered" >	console.log(colors.yellow(os.EOL + 'jdf htmllint: ', filename));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	Htmllint(content).forEach(<span class="fstat-no" title="function not covered" >function(item, index){</span></span>
<span class="cstat-no" title="statement not covered" >		console.log('#' + (index+1));</span>
<span class="cstat-no" title="statement not covered" >		console.log(colors.red('&gt; '), 'line: ' + item.line + ', column: ' + item.column);</span>
<span class="cstat-no" title="statement not covered" >		console.log(colors.red('&gt; '), 'msg: ' + item.msg);</span>
	});
}
&nbsp;
<span class="fstat-no" title="function not covered" >function cssLint(filename){</span>
<span class="cstat-no" title="statement not covered" >	var content = f.read(filename);</span>
<span class="cstat-no" title="statement not covered" >	var result = Csslint.verify(content);</span>
		
<span class="cstat-no" title="statement not covered" >	if(result &amp;&amp; result.messages.length){</span>
<span class="cstat-no" title="statement not covered" >		var n = 0;</span>
<span class="cstat-no" title="statement not covered" >		var messagesType = <span class="fstat-no" title="function not covered" >function (type){</span></span>
<span class="cstat-no" title="statement not covered" >			 return type == 'error' || type == 'warning';</span>
		}
<span class="cstat-no" title="statement not covered" >		result.messages.forEach(<span class="fstat-no" title="function not covered" >function (message, i){</span></span>
<span class="cstat-no" title="statement not covered" >			var type = message.type;</span>
<span class="cstat-no" title="statement not covered" >			if(messagesType(type)){</span>
<span class="cstat-no" title="statement not covered" >				n += 1;</span>
			}
		});
&nbsp;
<span class="cstat-no" title="statement not covered" >		console.log(colors.yellow(os.EOL + 'jdf csslint: ' + filename));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		result.messages.forEach(<span class="fstat-no" title="function not covered" >function (message, index){</span></span>
<span class="cstat-no" title="statement not covered" >			var type = message.type;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			if(messagesType(type)){</span>
<span class="cstat-no" title="statement not covered" >				console.log('#'+(index+1));</span>
<span class="cstat-no" title="statement not covered" >                console.log(colors.red('&gt; '), 'line: ' + message.line + ', column: ' + message.col);</span>
<span class="cstat-no" title="statement not covered" >                console.log(colors.red('&gt; '), 'msg: ' + message.message);</span>
<span class="cstat-no" title="statement not covered" >                console.log(colors.red('&gt; '), 'at: ' + message.evidence);</span>
            }
		});
&nbsp;
	}else{
<span class="cstat-no" title="statement not covered" >		console.log('jdf csslint: ' + filename + ' is ok' );</span>
	}
}
&nbsp;
<span class="fstat-no" title="function not covered" >function jsLint(filename){</span>
<span class="cstat-no" title="statement not covered" >	var result = Jslint.JSLINT(f.read(filename));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if(result) {</span>
<span class="cstat-no" title="statement not covered" >        console.log(os.EOL+filename+' is OK.');</span>
    }else{
<span class="cstat-no" title="statement not covered" >        console.log(colors.yellow(os.EOL + 'jdf jslint: ' + filename));</span>
<span class="cstat-no" title="statement not covered" >        Jslint.JSLINT.errors.forEach(<span class="fstat-no" title="function not covered" >function (error, index) {</span></span>
<span class="cstat-no" title="statement not covered" >            if(error){</span>
<span class="cstat-no" title="statement not covered" >                console.log('#'+(index+1));</span>
<span class="cstat-no" title="statement not covered" >                console.log(colors.red('&gt; '), 'line: ' + $.getVar(error.line) + ', column: ' + $.getVar(error.character));</span>
<span class="cstat-no" title="statement not covered" >                console.log(colors.red('&gt; '), 'msg: ' + $.getVar(error.reason));</span>
<span class="cstat-no" title="statement not covered" >                console.log(colors.red('&gt; '), 'at: ' + $.getVar(error.evidence).replace(/\t/g,''));</span>
            }
        });
    }
}
&nbsp;
<span class="fstat-no" title="function not covered" >function httpLinkLint(link){</span>
<span class="cstat-no" title="statement not covered" >	$.httpget(link, <span class="fstat-no" title="function not covered" >function(data){</span></span>
<span class="cstat-no" title="statement not covered" >		console.log(colors.yellow(os.EOL + 'jdf http-link-lint: ', link));</span>
<span class="cstat-no" title="statement not covered" >		Htmllint(data).forEach(<span class="fstat-no" title="function not covered" >function(item, index){</span></span>
<span class="cstat-no" title="statement not covered" >			console.log('#' + (index+1));</span>
<span class="cstat-no" title="statement not covered" >			console.log(colors.red('&gt; '), 'line: ' + item.line + ', column: ' + item.column);</span>
<span class="cstat-no" title="statement not covered" >			console.log(colors.red('&gt; '), 'msg: ' + item.msg);</span>
		});
	});
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/fileUpload.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/fileUpload.js</span></h1>
    <h2>
        
        Statements: <span class="metric">10.23% <small>(9 / 88)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 65)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 18)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">10.47% <small>(9 / 86)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; fileUpload.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @upload by receiver
 * @ctime 2016-11-29
 */
&nbsp;
var f = require('./file.js');
var jdf = require('./jdf.js');
var async = require('async');
var path = require('path');
&nbsp;
var parseUrl = <span class="fstat-no" title="function not covered" >function(url, opt){</span>
<span class="cstat-no" title="statement not covered" >    opt = opt || {};</span>
<span class="cstat-no" title="statement not covered" >    url = require('url').parse(url);</span>
<span class="cstat-no" title="statement not covered" >    var ssl = url.protocol === 'https:';</span>
<span class="cstat-no" title="statement not covered" >    opt.host = opt.host</span>
        || opt.hostname
        || ((ssl || url.protocol === 'http:') ? url.hostname : 'localhost');
<span class="cstat-no" title="statement not covered" >    opt.port = opt.port || (url.port || (ssl ? 443 : 80));</span>
<span class="cstat-no" title="statement not covered" >    opt.path = opt.path || (url.pathname + (url.search ? url.search : ''));</span>
<span class="cstat-no" title="statement not covered" >    opt.method = opt.method || 'GET';</span>
<span class="cstat-no" title="statement not covered" >    opt.agent = opt.agent || false;</span>
<span class="cstat-no" title="statement not covered" >    return opt;</span>
};
&nbsp;
var map = <span class="fstat-no" title="function not covered" >function(obj, callback, merge){</span>
<span class="cstat-no" title="statement not covered" >    var index = 0;</span>
<span class="cstat-no" title="statement not covered" >    for(var key in obj){</span>
<span class="cstat-no" title="statement not covered" >        if(obj.hasOwnProperty(key)){</span>
<span class="cstat-no" title="statement not covered" >            if(merge){</span>
<span class="cstat-no" title="statement not covered" >                callback[key] = obj[key];</span>
            } else <span class="cstat-no" title="statement not covered" >if(callback(key, obj[key], index++)) {</span>
<span class="cstat-no" title="statement not covered" >                break;</span>
            }
        }
    }
};
&nbsp;
var upload = <span class="fstat-no" title="function not covered" >function( opt, url, data, content, subpath, callback){</span>
<span class="cstat-no" title="statement not covered" >    if(typeof content === 'string'){</span>
<span class="cstat-no" title="statement not covered" >        content = new Buffer(content, 'utf8');</span>
    } else <span class="cstat-no" title="statement not covered" >if(!(content instanceof  Buffer)){</span>
<span class="cstat-no" title="statement not covered" >        console.log('unable to upload content [' + (typeof content) + ']');</span>
    }
<span class="cstat-no" title="statement not covered" >    data = data || {};</span>
<span class="cstat-no" title="statement not covered" >    var endl = '\r\n';</span>
<span class="cstat-no" title="statement not covered" >    var boundary = '-----np' + Math.random();</span>
<span class="cstat-no" title="statement not covered" >    var collect = [];</span>
<span class="cstat-no" title="statement not covered" >    map(data, <span class="fstat-no" title="function not covered" >function(key, value){</span></span>
<span class="cstat-no" title="statement not covered" >        collect.push('--' + boundary + endl);</span>
<span class="cstat-no" title="statement not covered" >        collect.push('Content-Disposition: form-data; name="' + key + '"' + endl);</span>
<span class="cstat-no" title="statement not covered" >        collect.push(endl);</span>
<span class="cstat-no" title="statement not covered" >        collect.push(value + endl);</span>
    });
<span class="cstat-no" title="statement not covered" >    collect.push('--' + boundary + endl);</span>
<span class="cstat-no" title="statement not covered" >    collect.push('Content-Disposition: form-data; name="file"; filename="' + subpath + '"' + endl);</span>
<span class="cstat-no" title="statement not covered" >    collect.push(endl);</span>
<span class="cstat-no" title="statement not covered" >    collect.push(content);</span>
<span class="cstat-no" title="statement not covered" >    collect.push('--' + boundary + '--' + endl);</span>
    
<span class="cstat-no" title="statement not covered" >    var length = 0;</span>
<span class="cstat-no" title="statement not covered" >    collect.forEach(<span class="fstat-no" title="function not covered" >function(ele){</span></span>
<span class="cstat-no" title="statement not covered" >        length += ele.length;</span>
    });
    
<span class="cstat-no" title="statement not covered" >    opt = opt || {};</span>
<span class="cstat-no" title="statement not covered" >    opt.method = opt.method || 'POST';</span>
<span class="cstat-no" title="statement not covered" >    opt.headers = {</span>
        'Content-Type': 'multipart/form-data; boundary=' + boundary,
        'Content-Length': length
    };
  
<span class="cstat-no" title="statement not covered" >    opt = parseUrl(url, opt);</span>
<span class="cstat-no" title="statement not covered" >    var http = opt.protocol === 'https:' ? require('https') : require('http');</span>
    
<span class="cstat-no" title="statement not covered" >    var req = http.request(opt, <span class="fstat-no" title="function not covered" >function(res){</span></span>
<span class="cstat-no" title="statement not covered" >        var status = res.statusCode;</span>
<span class="cstat-no" title="statement not covered" >        var body = '';</span>
<span class="cstat-no" title="statement not covered" >        res</span>
            .on('data', <span class="fstat-no" title="function not covered" >function(chunk){</span>
<span class="cstat-no" title="statement not covered" >                body += chunk;</span>
            })
            .on('end', <span class="fstat-no" title="function not covered" >function(){</span>
<span class="cstat-no" title="statement not covered" >                if(status &gt;= 200 &amp;&amp; status &lt; 300 || status === 304){</span>
<span class="cstat-no" title="statement not covered" >                    callback(null, body);</span>
                } else {
<span class="cstat-no" title="statement not covered" >                    callback(status);</span>
                }
            })
            .on('error', <span class="fstat-no" title="function not covered" >function(err){</span>
<span class="cstat-no" title="statement not covered" >                callback(err.message || err);</span>
            });
    });
<span class="cstat-no" title="statement not covered" >    collect.forEach(<span class="fstat-no" title="function not covered" >function(d){</span></span>
<span class="cstat-no" title="statement not covered" >        req.write(d);</span>
<span class="cstat-no" title="statement not covered" >        if(d instanceof Buffer){</span>
<span class="cstat-no" title="statement not covered" >            req.write(endl);</span>
        }
    });
<span class="cstat-no" title="statement not covered" >    req.end();</span>
};
&nbsp;
var doTask = <span class="fstat-no" title="function not covered" >function (tasks, done) {</span>
<span class="cstat-no" title="statement not covered" >    var asyncTasks = [];</span>
<span class="cstat-no" title="statement not covered" >    tasks.forEach(<span class="fstat-no" title="function not covered" >function(task) {</span></span>
<span class="cstat-no" title="statement not covered" >        asyncTasks.push(<span class="fstat-no" title="function not covered" >function(cb) {</span></span>
<span class="cstat-no" title="statement not covered" >                upload(task.opt, task.url, task.data, task.content, task.subpath, <span class="fstat-no" title="function not covered" >function(n, data) {</span></span>
<span class="cstat-no" title="statement not covered" >                    if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('upload---'+task.subpath + ', by '+data);</span></span>
<span class="cstat-no" title="statement not covered" >                    if(data==1){</span>
<span class="cstat-no" title="statement not covered" >                        console.log('jdf upload "'+task.subpath+'" error'</span>
                            //' by '+ data+' !'
                        );
                    }else <span class="cstat-no" title="statement not covered" >if(data==0){</span>
                        // console.log('jdf upload success');
                    }
&nbsp;
                    //https://github.com/caolan/async/issues/75
<span class="cstat-no" title="statement not covered" >                    setTimeout(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >                        cb &amp;&amp; cb();</span>
                    }, 0);
                });
        });
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    async.parallelLimit(asyncTasks, 5, done);</span>
};
&nbsp;
&nbsp;
&nbsp;
&nbsp;
&nbsp;
/**
* @upload
* @time 2016-11-29
* @param {} source 本地文件夹
* @param {} target 远端机器文件夹
* @param {} host 远端机器机器ip/域名
* @param {} argv argv
* @param {Function} callback 回调函数
* @example
* 
*   jdf u (上传js/css/widget)
*   jdf u -h (上传js/css/widget/html)
*   
*   jdf u -custom ./dist (自定义上传dist文件夹)
*   
*/
&nbsp;
exports = module.exports = <span class="fstat-no" title="function not covered" >function(source, target, host, argv, callbak){</span>
<span class="cstat-no" title="statement not covered" >    var tasks = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    source.forEach(<span class="fstat-no" title="function not covered" >function(sourceItem){</span></span>
<span class="cstat-no" title="statement not covered" >        var i = sourceItem.replace(jdf.currentDir+'/'+jdf.config.outputDirName,'');</span>
<span class="cstat-no" title="statement not covered" >        if(i.search("\\\\") != -1){</span>
<span class="cstat-no" title="statement not covered" >            i = sourceItem.replace(jdf.currentDir+'\\'+jdf.config.outputDirName,'');</span>
        }
&nbsp;
        //只取文件里面的文件
<span class="cstat-no" title="statement not covered" >        if(argv[3] == '-custom' || argv[3] == '-c'){</span>
<span class="cstat-no" title="statement not covered" >            i = i.replace(argv[4], '')</span>
        }
&nbsp;
        // {
        //     opt:null,
        //     url:'http://xxx.com/receiver.php',
        //     data:{ to: '/xxx.com/build/index.html' },
        //     content:'index.html content',
        //     subpath:'/build/index.html'
        // }
&nbsp;
<span class="cstat-no" title="statement not covered" >        tasks.push({</span>
            opt: null,
            url: 'http://'+host+'/receiver.php',
            data: { to: target+i },
            content: f.read(sourceItem, null),
            subpath: ('/'+i).replace('//','/')
        })
        // console.log({
        //     opt: null,
        //     url: 'http://'+host+'/receiver.php',
        //     data: { to: target+i },
        //     content: f.read(sourceItem, null),
        //     subpath: ('/'+i).replace('//','/')
        // });
    })
    // console.log(tasks);
<span class="cstat-no" title="statement not covered" >    doTask(tasks, <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >        if(callbak) <span class="cstat-no" title="statement not covered" >callbak();</span></span>
    });
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/fileWorker.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/fileWorker.js</span></h1>
    <h2>
        
        Statements: <span class="metric">41.18% <small>(7 / 17)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">46.67% <small>(7 / 15)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; fileWorker.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * Created by wangshaoxing on 2014/12/15.
 */
var path = require('path');
var fs = require('fs');
&nbsp;
//lib自身组件
var $ = require('./base.js');
var f = require('./file.js');
&nbsp;
process.on('message', <span class="fstat-no" title="function not covered" >function(data) {</span>
<span class="cstat-no" title="statement not covered" >    switch (data.route){</span>
        case "copy":<span class="cstat-no" title="statement not covered" >move(data);<span class="cstat-no" title="statement not covered" >b</span>reak;</span>
        case "del":<span class="cstat-no" title="statement not covered" >del(data);<span class="cstat-no" title="statement not covered" >b</span>reak;</span>
        default :<span class="cstat-no" title="statement not covered" >break;</span>
&nbsp;
    }
<span class="cstat-no" title="statement not covered" >    process.send({tag:1,job:1});</span>
});
&nbsp;
/**
 * @在辅助进程里 移动文件夹
 */
var move=<span class="fstat-no" title="function not covered" >function(data){</span>
<span class="cstat-no" title="statement not covered" >    f.copy(data.source,data.target);</span>
<span class="cstat-no" title="statement not covered" >    f.del(data.source);</span>
}
&nbsp;
/**
 * @在辅助进程里 删除文件夹
 */
var del=<span class="fstat-no" title="function not covered" >function(data){</span>
<span class="cstat-no" title="statement not covered" >    f.del(data.target);</span>
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/findPort.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/findPort.js</span></h1>
    <h2>
        
        Statements: <span class="metric">16.67% <small>(2 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">20% <small>(2 / 10)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; findPort.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @find Port
 */
var net = require('net');
module.exports = <span class="fstat-no" title="function not covered" >function (port, callback) {</span>
<span class="cstat-no" title="statement not covered" >	var server = net.createServer().listen(port);</span>
<span class="cstat-no" title="statement not covered" >	server.on('listening',<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >		if (server) <span class="cstat-no" title="statement not covered" >server.close();</span></span>
<span class="cstat-no" title="statement not covered" >		callback(true, port);</span>
	});
&nbsp;
<span class="cstat-no" title="statement not covered" >	server.on('error',<span class="fstat-no" title="function not covered" >function(err) {</span></span>
<span class="cstat-no" title="statement not covered" >		var result = true;</span>
<span class="cstat-no" title="statement not covered" >		if (err.code === 'EADDRINUSE' || err.code === 'EACCES') <span class="cstat-no" title="statement not covered" >result = false;</span></span>
<span class="cstat-no" title="statement not covered" >		callback(result, port);</span>
	});
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/ftp.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/ftp.js</span></h1>
    <h2>
        
        Statements: <span class="metric">16.9% <small>(24 / 142)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">9.2% <small>(8 / 87)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 36)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">17.91% <small>(24 / 134)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; ftp.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @ftp (upload files to remote server)
 * @time 2014-2-26 10:46:32
 */
var path = require('path');
var fs = require('fs');
&nbsp;
//依赖lib
var f = require('./file.js');
var jdf = require('./jdf.js');
&nbsp;
//exports
var ftp = module.exports;
var FTP = require('ftp');
//挂在ftp下面,供内部和外部调用
ftp.client = new FTP();
/**
* @取配置信息
* @config.json相关格式如下
&nbsp;
    {
        "host":"192.168.1.1",
        "user":"*",
        "password":"*"
    }
&nbsp;
*/
var options = {};
options.port = jdf.config.port || 21;
options.host = jdf.config.host || null;
options.user = jdf.config.user || null;
options.password = jdf.config.password || null;
&nbsp;
//建立链接
&nbsp;
&nbsp;
&nbsp;
/**
 * @当检测到ftp连接已开通,直接调用回调,否则放入 ready 事件中
 */
ftp.tryConnect = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var _promise = {};</span>
<span class="cstat-no" title="statement not covered" >    _promise.done = <span class="fstat-no" title="function not covered" >function(cb) {</span></span>
<span class="cstat-no" title="statement not covered" >        _promise._done = cb;</span>
<span class="cstat-no" title="statement not covered" >        return _promise;</span>
    };
<span class="cstat-no" title="statement not covered" >    _promise.err = <span class="fstat-no" title="function not covered" >function(cb) {</span></span>
<span class="cstat-no" title="statement not covered" >        _promise._err = <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >            ftp.client.end();</span>
<span class="cstat-no" title="statement not covered" >            cb();</span>
        } 
<span class="cstat-no" title="statement not covered" >        return _promise;</span>
    };
&nbsp;
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (ftp.client.connected) {</span>
<span class="cstat-no" title="statement not covered" >        _promise._done();</span>
    } else {
<span class="cstat-no" title="statement not covered" >        ftp.client.on('ready', <span class="fstat-no" title="function not covered" >function(err) {</span></span>
<span class="cstat-no" title="statement not covered" >            _promise._done();</span>
        }).on('error', <span class="fstat-no" title="function not covered" >function(err) {</span>
<span class="cstat-no" title="statement not covered" >            try{</span>
<span class="cstat-no" title="statement not covered" >                _promise._err(err);</span>
            }catch(e){
<span class="cstat-no" title="statement not covered" >                console.log('jdf error [ftp.tryConnect] ftp配置错误');</span>
            }
        });
<span class="cstat-no" title="statement not covered" >        ftp.client.connect(options);</span>
&nbsp;
    }
<span class="cstat-no" title="statement not covered" >    return _promise;</span>
&nbsp;
}
&nbsp;
&nbsp;
/**
 * @上传文件夹/文件
 * @param {String} source 原始文件夹/文件路径
 * @param {String} target 远端机器目标文件夹/文件路径
 * @param {Boole} uncover false
 * @param {Boole} move false 移动
 * @example ftp.upload('../test','test', null, null, false, false, false, function(){});
 */
&nbsp;
ftp.upload = <span class="fstat-no" title="function not covered" >function(source, target, include, exclude, uncover, move, logTag, callback) {</span>
    //打开进程
    
<span class="cstat-no" title="statement not covered" >    ftp.tryConnect().done(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        ftp.uploadMain(source, target, include, exclude, uncover, move, logTag, callback);</span>
    }).err(<span class="fstat-no" title="function not covered" >function(err) {</span>
<span class="cstat-no" title="statement not covered" >        console.log('jdf error [ftp.upload] - ' + err);</span>
&nbsp;
    });
}
&nbsp;
/**
 * @上传递归函数
 */
//上传本地和服务器端计数
var uploadLocalNum = 0;
var uploadRemoteNum = 0;
&nbsp;
ftp.uploadMain = <span class="fstat-no" title="function not covered" >function(source, target, include, exclude, uncover, move, logTag, callback) {</span>
<span class="cstat-no" title="statement not covered" >    var removedAll = true;</span>
<span class="cstat-no" title="statement not covered" >    var source = f.realpath(source);</span>
<span class="cstat-no" title="statement not covered" >    if (source) {</span>
<span class="cstat-no" title="statement not covered" >        var core = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >            if (f.isDir(source)) {</span>
<span class="cstat-no" title="statement not covered" >                if (!f.isBlankDir(source)) {</span>
<span class="cstat-no" title="statement not covered" >                    ftp.client.mkdir(target, false, <span class="fstat-no" title="function not covered" >function() {</span>});</span>
<span class="cstat-no" title="statement not covered" >                    fs.readdirSync(source).forEach(<span class="fstat-no" title="function not covered" >function(name) {</span></span>
<span class="cstat-no" title="statement not covered" >                            if (name != '.' &amp;&amp; name != '..' &amp;&amp; !(/.svn/.test(name))) {</span>
<span class="cstat-no" title="statement not covered" >                                removedAll = ftp.uploadMain(source + '/' + name, target + '/' + name, include, exclude, uncover, move, logTag, callback) &amp;&amp; removedAll;</span>
                            }
                        });
&nbsp;
<span class="cstat-no" title="statement not covered" >                        if (move &amp;&amp; removedAll) {</span>
<span class="cstat-no" title="statement not covered" >                            fs.rmdirSync(source);</span>
                        }
                }
            } else <span class="cstat-no" title="statement not covered" >if (f.isFile(source) &amp;&amp; f.filter(source, include, exclude)) {</span>
<span class="cstat-no" title="statement not covered" >                uploadLocalNum += 1;</span>
                 
&nbsp;
<span class="cstat-no" title="statement not covered" >                if (uncover /*&amp;&amp; f.exists(target)*/ ) {</span>
                    //uncover
<span class="cstat-no" title="statement not covered" >                    removedAll = false;</span>
                } else {
<span class="cstat-no" title="statement not covered" >                    ftp.put(source, target, <span class="fstat-no" title="function not covered" >function(err) {</span></span>
<span class="cstat-no" title="statement not covered" >                        uploadRemoteNum += 1;</span>
<span class="cstat-no" title="statement not covered" >                        if (uploadLocalNum == uploadRemoteNum) {</span>
<span class="cstat-no" title="statement not covered" >                            if (callback){</span>
                                
<span class="cstat-no" title="statement not covered" >                                callback(err);</span>
                            } 
                            //关闭进程
<span class="cstat-no" title="statement not covered" >                            ftp.client.end();</span>
                        }
&nbsp;
                    });
&nbsp;
<span class="cstat-no" title="statement not covered" >                    if (move) {</span>
<span class="cstat-no" title="statement not covered" >                        fs.unlinkSync(source);</span>
                    }
                }
            } else {
<span class="cstat-no" title="statement not covered" >                removedAll = false;</span>
            }
        }
<span class="cstat-no" title="statement not covered" >        core();</span>
    } else {
<span class="cstat-no" title="statement not covered" >        if (typeof(logTag) != 'undefined' &amp;&amp; !logTag) {</span>
<span class="cstat-no" title="statement not covered" >            return;</span>
        }
<span class="cstat-no" title="statement not covered" >        console.log('[ ' + source + ' ] --- no such file or dir');</span>
    }
<span class="cstat-no" title="statement not covered" >    return removedAll;</span>
}
&nbsp;
/**
 * @put a file
 */
ftp.put = <span class="fstat-no" title="function not covered" >function(source, target, callback) {</span>
<span class="cstat-no" title="statement not covered" >    ftp.client.put(source, target, <span class="fstat-no" title="function not covered" >function(err) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (err) {</span>
<span class="cstat-no" title="statement not covered" >            console.log('jdf error [ftp.put] - ' + target + ' - ' + err);</span>
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback(err);</span></span>
<span class="cstat-no" title="statement not covered" >            ftp.client.end();</span>
        } else {
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
        }
    });
}
&nbsp;
/**
 * @get a file
 */
ftp.get = <span class="fstat-no" title="function not covered" >function(source, target, callback) {</span>
<span class="cstat-no" title="statement not covered" >    ftp.client.get(source, <span class="fstat-no" title="function not covered" >function(err, stream) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (err) {</span>
<span class="cstat-no" title="statement not covered" >            console.log('jdf error [ftp.get] - ' + target + ' - ' + err);</span>
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback(err);</span></span>
<span class="cstat-no" title="statement not covered" >            ftp.client.end();</span>
        } else {
<span class="cstat-no" title="statement not covered" >            stream.once('close', <span class="fstat-no" title="function not covered" >function() {</span></span>
                // ftp.client.end(); 
            });
<span class="cstat-no" title="statement not covered" >            stream.pipe(fs.createWriteStream(target));</span>
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
        }
    });
}
&nbsp;
/**
 * @download
 * @param {String} source 远端机器目标文件夹/文件路径
 * @param {String} target 本地文件夹/文件路径
 */
ftp.download = <span class="fstat-no" title="function not covered" >function(source, target, callback) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    ftp.tryConnect().done(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        ftp.downloadMain(source, target, callback);</span>
    }).err(<span class="fstat-no" title="function not covered" >function(err) {</span>
&nbsp;
    });
}
&nbsp;
/**
 * @downloadMain
 */
ftp.downloadMain = <span class="fstat-no" title="function not covered" >function(source, target, callback) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    ftp.listMain(source, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (data != 'error') {</span>
<span class="cstat-no" title="statement not covered" >            f.mkdir(target);</span>
<span class="cstat-no" title="statement not covered" >            var serverNum = 0,</span>
                localNum = 0;
<span class="cstat-no" title="statement not covered" >            data.forEach(<span class="fstat-no" title="function not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >                if (item.type == 'file') {</span>
<span class="cstat-no" title="statement not covered" >                    serverNum += 1;</span>
<span class="cstat-no" title="statement not covered" >                    var sourcePut = source + '/' + item.name;</span>
<span class="cstat-no" title="statement not covered" >                    var targetPut = target + '/' + item.name;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                    ftp.get(sourcePut, targetPut, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >                        localNum += 1;</span>
<span class="cstat-no" title="statement not covered" >                        if (serverNum == localNum) {</span>
<span class="cstat-no" title="statement not covered" >                            ftp.client.end();</span>
<span class="cstat-no" title="statement not covered" >                            if (callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
                        }
                    });
                }
            })
        } else {
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback(data);</span></span>
        };
    });
}
&nbsp;
/**
 * @get server files list
 */
ftp.list = <span class="fstat-no" title="function not covered" >function(source, callback) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof(source) == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >        var source = './';</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    ftp.tryConnect().done(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        ftp.listMain(source, callback);</span>
    }).err(<span class="fstat-no" title="function not covered" >function(err) {</span>
&nbsp;
    });
&nbsp;
&nbsp;
}
&nbsp;
/**
 * @get server files list main
 */
ftp.listMain = <span class="fstat-no" title="function not covered" >function(source, callback) {</span>
<span class="cstat-no" title="statement not covered" >    ftp.client.list(source, <span class="fstat-no" title="function not covered" >function(err, list) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (err) {</span>
<span class="cstat-no" title="statement not covered" >            console.log('jdf error [ftp.list] - ' + err);</span>
<span class="cstat-no" title="statement not covered" >            ftp.client.end();</span>
        } else {
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (list &amp;&amp; list.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                var filesList = [];</span>
<span class="cstat-no" title="statement not covered" >                list.forEach(<span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >                    var fileType = '';</span>
<span class="cstat-no" title="statement not covered" >                    if (data.type == '-') {</span>
<span class="cstat-no" title="statement not covered" >                        fileType = 'file';</span>
                    } else <span class="cstat-no" title="statement not covered" >if (data.type == 'd') {</span>
<span class="cstat-no" title="statement not covered" >                        fileType = 'dir';</span>
                    }
&nbsp;
<span class="cstat-no" title="statement not covered" >                    filesList.push({</span>
                        name: data.name,
                        type: fileType
                    })
                })
<span class="cstat-no" title="statement not covered" >                if (callback) <span class="cstat-no" title="statement not covered" >callback(filesList);</span></span>
                //ftp.client.end();
                //console.log("end at 274");
            } else {
<span class="cstat-no" title="statement not covered" >                if (callback) {</span>
<span class="cstat-no" title="statement not covered" >                    callback('error');</span>
                } else {
<span class="cstat-no" title="statement not covered" >                    console.log('jdf warnning : "' + source + '" is not exists');</span>
                };
                //ftp.client.end();
                //console.log("end at 282");
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (!callback) {</span>
                //ftp.client.end();
                //console.log("end at 287");
            }
        }
    });
}
&nbsp;
/**
 * @get server files list
 */
ftp.mkdir = <span class="fstat-no" title="function not covered" >function(source, callback) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof(source) == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >        console.log('jdf error [ftp.mkdir] source is not exists');</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    ftp.tryConnect().done(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        ftp.client.mkdir(source, false, <span class="fstat-no" title="function not covered" >function(err) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback(err);</span></span>
        });
    }).err(<span class="fstat-no" title="function not covered" >function(err) {</span>
&nbsp;
    });
&nbsp;
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/ftpUpload.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/ftpUpload.js</span></h1>
    <h2>
        
        Statements: <span class="metric">4.76% <small>(4 / 84)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 64)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">5.13% <small>(4 / 78)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; ftpUpload.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @upload 2014-12-5
 */
&nbsp;
var path = require('path');
&nbsp;
//依赖lib
var f = require('./file.js');
var jdf = require('./jdf.js');
&nbsp;
/**
* @upload init
* @time 2014-2-26 19:17:39 / 2014-12-5
* @param {Function} callback custom模式下回调函数
* @param {Boolse} haslog custom模式下是否显示log
* @param {Boolse} hasConfig 配置文件是否存在
* @example
*	jdf upload (default first run "jdf output -html")
*	jdf upload js/a.js (first run "jdf output js/a.js")
*	jdf upload -custom localdir serverdir (serverdir no exists, the same localdir)
*  
*  another call method 
*  	jdf.upload([0, 0, 0, '-custom', 'localdirname', 'serverdirname'], true ,function(){})
*  
*/
exports.init = <span class="fstat-no" title="function not covered" >function(argv, hasConfig, haslog, callback){</span>
<span class="cstat-no" title="statement not covered" >	var haslog = typeof(haslog) == 'undefined' ? true : haslog;</span>
<span class="cstat-no" title="statement not covered" >	var hasConfig = typeof(hasConfig) == 'undefined' ? true : hasConfig;</span>
<span class="cstat-no" title="statement not covered" >	var ftp = {};</span>
<span class="cstat-no" title="statement not covered" >	var uploadSource = path.normalize(f.currentDir()+'/' + jdf.config.outputDirName);</span>
<span class="cstat-no" title="statement not covered" >	var uploadTarget = jdf.config.serverDir;</span>
&nbsp;
	//core function
<span class="cstat-no" title="statement not covered" >	var ftpFn = <span class="fstat-no" title="function not covered" >function(source, target){</span></span>
		//jdf u -c ./dist /export/App/xxx 172.xxx
<span class="cstat-no" title="statement not covered" >		if(jdf.config.serverType  == "linux" || argv[6]){</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			var fileUpload = require('./fileUpload.js');</span>
<span class="cstat-no" title="statement not covered" >			var sourceFilse = f.getdirlist(source, null, '.svn|Thumbs.db|.DS_Store' );</span>
<span class="cstat-no" title="statement not covered" >			var target = jdf.config.serverDir;</span>
<span class="cstat-no" title="statement not covered" >			var host = jdf.config.host;</span>
<span class="cstat-no" title="statement not covered" >			if(argv[5]) <span class="cstat-no" title="statement not covered" >target = argv[5];</span></span>
<span class="cstat-no" title="statement not covered" >			if(argv[6]) <span class="cstat-no" title="statement not covered" >host = argv[6];</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >			fileUpload(sourceFilse, target, host, argv, <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >				jdf.dot.end(haslog);</span>
<span class="cstat-no" title="statement not covered" >				if(haslog) <span class="cstat-no" title="statement not covered" >console.log('jdf upload "'+host+' '+target+ '" success!');</span></span>
<span class="cstat-no" title="statement not covered" >				if(callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
			});
		}else <span class="cstat-no" title="statement not covered" >if(jdf.config.serverType  == "ftp" ){</span>
			//console.log('jdf process: uploading [' + source + '].');
<span class="cstat-no" title="statement not covered" >			ftp = require('./ftp.js');</span>
<span class="cstat-no" title="statement not covered" >			ftp.upload(source, target, null, null, null, null, null, <span class="fstat-no" title="function not covered" >function(err){</span></span>
<span class="cstat-no" title="statement not covered" >				jdf.dot.end(haslog);</span>
<span class="cstat-no" title="statement not covered" >				if(haslog) <span class="cstat-no" title="statement not covered" >console.log('jdf upload ['+jdf.config.host +'/'+ target+'] success!');</span></span>
<span class="cstat-no" title="statement not covered" >				if(callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
			});
		}else{
<span class="cstat-no" title="statement not covered" >			console.log('jdf error [jdf.upload] - server host no setup');</span>
		}
	}
	
	//default upload,do "jdf output -html" first
<span class="cstat-no" title="statement not covered" >	var outputFnOnce = <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >		if (typeof(argv[3]) == 'undefined') {</span>
			//argv[3] = '-html';
		}
<span class="cstat-no" title="statement not covered" >		jdf.argvInit('output', argv, <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >			ftpFn(uploadSource, uploadTarget);</span>
		});
	}
&nbsp;
	//watch upload
<span class="cstat-no" title="statement not covered" >	var outputFnWatch = <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >		ftp.quit();</span>
<span class="cstat-no" title="statement not covered" >		jdf.buildMain('output');</span>
<span class="cstat-no" title="statement not covered" >		Output.init({</span>
			//type:'hashtml',
			callback:<span class="fstat-no" title="function not covered" >function(){</span>
<span class="cstat-no" title="statement not covered" >				ftpFn(uploadSource, uploadTarget);</span>
			}
		});
	}
	
<span class="cstat-no" title="statement not covered" >	if( (argv[3] == '-custom'||argv[3] == '-c') &amp;&amp; argv[4] ){</span>
		//custom upload	
<span class="cstat-no" title="statement not covered" >		if ( f.exists(argv[4]) ) {</span>
<span class="cstat-no" title="statement not covered" >			var serverdir = argv[5] ? argv[5] : argv[4];</span>
<span class="cstat-no" title="statement not covered" >			console.log('jdf uploading');</span>
<span class="cstat-no" title="statement not covered" >			jdf.dot.begin();</span>
<span class="cstat-no" title="statement not covered" >			ftpFn(argv[4], serverdir);</span>
		} else{
<span class="cstat-no" title="statement not covered" >			console.log('jdf warning [jdf.upload] - "'+argv[4]+'" not exists');</span>
		};
	}else{
<span class="cstat-no" title="statement not covered" >		if(!hasConfig){</span>
<span class="cstat-no" title="statement not covered" >			console.log('jdf error: "config.json" is not exists');</span>
<span class="cstat-no" title="statement not covered" >			return;</span>
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		if(jdf.config.host == JSON.parse(jdf.config.configJsonFileContent).host){</span>
<span class="cstat-no" title="statement not covered" >			console.log('jdf error: config.json "host" is empty');</span>
<span class="cstat-no" title="statement not covered" >			return;</span>
		}
	
		//entrance
<span class="cstat-no" title="statement not covered" >		if (argv[3] == '-watch') {</span>
			//watch upload
<span class="cstat-no" title="statement not covered" >			outputFnOnce();</span>
<span class="cstat-no" title="statement not covered" >			Node_watch(f.currentDir(), <span class="fstat-no" title="function not covered" >function(filename) {</span></span>
<span class="cstat-no" title="statement not covered" >				console.log(filename);</span>
<span class="cstat-no" title="statement not covered" >				outputFnWatch();</span>
			});
		}else <span class="cstat-no" title="statement not covered" >if( (argv[3]=='-preview' || argv[3]=='-p' || argv[4]=='-preview' || argv[4]=='-p') &amp;&amp; jdf.config.previewServerDir ){</span>
			//preview
<span class="cstat-no" title="statement not covered" >			if(argv[3] == '-preview' || argv[3] == '-p'){</span>
<span class="cstat-no" title="statement not covered" >				argv[3] = jdf.config.buildDirName;</span>
			}
			
<span class="cstat-no" title="statement not covered" >			jdf.argvInit('output', argv, <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >				ftpFn(uploadSource, jdf.config.previewServerDir);</span>
			});
		}else <span class="cstat-no" title="statement not covered" >if( argv[3] == '-nc' &amp;&amp; jdf.config.newcdn ){</span>
			//newcdn css/js/widget
<span class="cstat-no" title="statement not covered" >			if (typeof(argv[4]) != 'undefined'){</span>
<span class="cstat-no" title="statement not covered" >				argv[3] = argv[4];</span>
<span class="cstat-no" title="statement not covered" >				delete argv[4];</span>
			}else{
<span class="cstat-no" title="statement not covered" >				delete argv[3];</span>
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >			jdf.config.cdn = jdf.config.newcdn;</span>
<span class="cstat-no" title="statement not covered" >			outputFnOnce();</span>
		}else <span class="cstat-no" title="statement not covered" >if( argv[3] == '-nh' &amp;&amp; jdf.config.newcdn){</span>
			//newcdn html
<span class="cstat-no" title="statement not covered" >			argv[3] = jdf.config.buildDirName;</span>
			//内链link src替换
<span class="cstat-no" title="statement not covered" >			jdf.config.cdnDefalut = jdf.config.cdn;</span>
<span class="cstat-no" title="statement not covered" >			jdf.config.cdn = jdf.config.newcdn;</span>
<span class="cstat-no" title="statement not covered" >			jdf.argvInit('output', argv, <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >				ftpFn(uploadSource, jdf.config.previewServerDir);</span>
			});
		}else <span class="cstat-no" title="statement not covered" >if(argv[3] == '-list' &amp;&amp; jdf.config.uploadList){</span>
			// 根据config.json配置上传
<span class="cstat-no" title="statement not covered" >			argv[3] = jdf.config.uploadList;</span>
<span class="cstat-no" title="statement not covered" >			jdf.argvInit('output', argv, <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >				ftpFn(uploadSource, uploadTarget);</span>
			});
		}else {
			//default upload
<span class="cstat-no" title="statement not covered" >			outputFnOnce();</span>
		}
	}
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/jdf.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/jdf.js</span></h1>
    <h2>
        
        Statements: <span class="metric">6.65% <small>(31 / 466)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 298)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 46)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">6.97% <small>(31 / 445)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; jdf.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889
890
891
892
893
894
895
896
897
898
899
900
901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916
917
918
919
920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984
985</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @jdf
 */
var path = require('path');
var util = require('util');
var updateNotifier = require('update-notifier');
var pkg = require('../package.json');
&nbsp;
//lib自身组件
var $ = require('./base.js');
var f = require('./file.js');
&nbsp;
var Config = require("./config.js");
var Log = require("./log.js");
&nbsp;
//define
var jdf = module.exports;
&nbsp;
/**
 * @配置项
 */
jdf.config = Config;
&nbsp;
/**
 * @commoder help --&gt; old
 */
jdf.help = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var content = [];</span>
<span class="cstat-no" title="statement not covered" >    content = content.concat([</span>
        '',
        '  Usage: jdf &lt;Command&gt;',
        '',
        '  Command:',
        '',
        '    install      install init dir, demo',
        //'  init         project directory init',
        '    build        build project',
        '      -open      auto open html/index.html',
        '      -combo     combo debug for online/RD debug',
        //'      -css       compile less/scss file in current dir',
        // '      -plain     output project with plain',
        // '',
        //'    release      release project',
        '',
        '    output       output css/js/widget',
        '      dirname    output your own custom dirname',
        //'      -html      output css/js/widget/html',
        '      -debug     output uncompressed js,css,images for test',
        //'      -rjs      output project based requirejs',
        //'      -backup    backup outputdir to tags dir',
        //'      -path [p]  replace projectPath to specified path option',
        '',
        '    upload       upload css/js/widget dir to "serverDir"',
        '      dirname    upload output your own custom dirname',
        //'      -html      upload css/js/widget/html dir to "serverDir"',
        '      -debug     upload uncompressed js,css,images for test',
        '      -custom    upload a dir/file to server',
        // '      -preview   upload html dir to remote "previewServerDir"',
        //'      -nc        upload css/js dir to preview server dir use newcdn url',
        //'      -nh        upload html dir to preview server dir use newcdn url',
        //'      -list      upload file list from config.json to server',
        '',
        '    widget',
        '      -all       preview all widget',
        '      -list      get widget list from server',
        '      -preview xxx  preview a widget',
        '      -install xxx  install a widget to local',
        '      -publish xxx  publish a widget to server',
        '      -create xxx   create a widget to local',
        //'    -w    watch upload output files to remote sever',
        '',
        '    server       debug for online/RD debug',
        '    lint         file lint',
        '    format       file formater',
        ' ',
        '  Extra commands:',
        '',
        '    compress     compress js/css (jdf compress input output)',
        '    clean        clean cache folder',
        '    -h           get help information',
        '    -v           get the version number',
        ''
    ]);
<span class="cstat-no" title="statement not covered" >    console.log(content.join('\n'));</span>
}
&nbsp;
&nbsp;
&nbsp;
/**
 * @总的初始化函数 from ../index.js
 * @commander
 */
jdf.init = <span class="fstat-no" title="function not covered" >function(argv) {</span>
    //设置全局时间戳
<span class="cstat-no" title="statement not covered" >    jdf.config.suffix = $.getTimestamp();</span>
&nbsp;
    //读取配置文件
<span class="cstat-no" title="statement not covered" >    jdf.getConfig(<span class="fstat-no" title="function not covered" >function(configData) {</span></span>
<span class="cstat-no" title="statement not covered" >        var cmd2 = argv[2];</span>
<span class="cstat-no" title="statement not covered" >        jdf.currentDir = f.currentDir();</span>
<span class="cstat-no" title="statement not covered" >        jdf.config.argv=argv;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (argv.length &lt; 3 || cmd2 === '-h' || cmd2 === '--help') {</span>
<span class="cstat-no" title="statement not covered" >            Log.send('help');</span>
<span class="cstat-no" title="statement not covered" >            jdf.help();</span>
&nbsp;
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === '-v' || cmd2 === '--version') {</span>
<span class="cstat-no" title="statement not covered" >            Log.send('version');</span>
<span class="cstat-no" title="statement not covered" >            jdf.version();</span>
&nbsp;
        } else <span class="cstat-no" title="statement not covered" >if (cmd2[0] === '-') {</span>
<span class="cstat-no" title="statement not covered" >            Log.send('help');</span>
<span class="cstat-no" title="statement not covered" >            jdf.help();</span>
&nbsp;
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'b' || cmd2 === 'build') {</span>
<span class="cstat-no" title="statement not covered" >            Log.send('build');</span>
<span class="cstat-no" title="statement not covered" >            jdf.argvInit('build', argv);</span>
&nbsp;
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'r' || cmd2 === 'release') {</span>
<span class="cstat-no" title="statement not covered" >            Log.send('release');</span>
<span class="cstat-no" title="statement not covered" >            jdf.argvInit('release', argv);</span>
&nbsp;
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'o' || cmd2 === 'output') {</span>
<span class="cstat-no" title="statement not covered" >            Log.send('output');</span>
<span class="cstat-no" title="statement not covered" >            jdf.argvInit('output', argv);</span>
&nbsp;
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'u' || cmd2 === 'upload') {</span>
<span class="cstat-no" title="statement not covered" >            var FtpUpload = require('./ftpUpload');</span>
<span class="cstat-no" title="statement not covered" >            Log.send('upload');</span>
<span class="cstat-no" title="statement not covered" >            FtpUpload.init(argv, configData);</span>
&nbsp;
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'i' || cmd2 === 'install') {</span>
<span class="cstat-no" title="statement not covered" >            switch (argv[3]) {</span>
                case 'demo':
<span class="cstat-no" title="statement not covered" >                    Log.send('install-demo');</span>
<span class="cstat-no" title="statement not covered" >                    jdf.install('demo', argv[4]);</span>
<span class="cstat-no" title="statement not covered" >                    return;</span>
                case 'init':
<span class="cstat-no" title="statement not covered" >                    Log.send('install-init');</span>
<span class="cstat-no" title="statement not covered" >                    jdf.install('init', argv[4]);</span>
<span class="cstat-no" title="statement not covered" >                    return;</span>
                default:
<span class="cstat-no" title="statement not covered" >                    console.log('You can "jdf install demo or "jdf install init"');</span>
            }
&nbsp;
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'c' || cmd2 === 'compress') {</span>
<span class="cstat-no" title="statement not covered" >            var Compress = require('./compress.js');</span>
<span class="cstat-no" title="statement not covered" >            Log.send('compress');</span>
<span class="cstat-no" title="statement not covered" >            Compress.dir(argv[3], argv[4]);</span>
&nbsp;
            //widget
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'w' || cmd2 === 'widget') {</span>
<span class="cstat-no" title="statement not covered" >            var Widget = require("./widget.js");</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            var cmd3 = argv[3],</span>
                cmd4 = argv[4],
                cmd5 = argv[5];
<span class="cstat-no" title="statement not covered" >            var force = cmd5 != 'undefined' &amp;&amp; cmd5 == '-force' ? true : false</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (cmd3 == '-all' || cmd3 == '-a') {</span>
<span class="cstat-no" title="statement not covered" >                Log.send('widget-all');</span>
<span class="cstat-no" title="statement not covered" >                Widget.all(cmd4);</span>
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (cmd3 == '-list' || cmd3 == '-l') {</span>
<span class="cstat-no" title="statement not covered" >                Log.send('widget-list');</span>
<span class="cstat-no" title="statement not covered" >                Widget.list(cmd4);</span>
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            var hasCmd4 = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >                if (cmd4) {</span>
<span class="cstat-no" title="statement not covered" >                    return true;</span>
                } else {
<span class="cstat-no" title="statement not covered" >                    console.log('jdf tips [jdf.init] Please input widget name');</span>
<span class="cstat-no" title="statement not covered" >                    return false;</span>
                }
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            var widgetCmd = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >                var content = [];</span>
<span class="cstat-no" title="statement not covered" >                content = content.concat([</span>
                    '',
                    '  Command:',
                    '',
                    '    widget',
                    '      -all     preview all widget',
                    '      -list    get widget list from server',
                    '      -preview xxx     preview a widget',
                    '      -install xxx     install a widget to local',
                    '      -publish xxx     publish a widget to server',
                    '      -create  xxx     create a widget to local',
                    ''
                ]);
<span class="cstat-no" title="statement not covered" >                console.log(content.join('\n'));</span>
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (cmd3) {</span>
<span class="cstat-no" title="statement not covered" >                if (cmd3 == '-preview' || cmd3 == '-pre' &amp;&amp; hasCmd4()) {</span>
<span class="cstat-no" title="statement not covered" >                    Log.send('widget-preview');</span>
<span class="cstat-no" title="statement not covered" >                    Widget.preview(cmd4);</span>
&nbsp;
                } else <span class="cstat-no" title="statement not covered" >if (cmd3 == '-install' || cmd3 == '-i' &amp;&amp; hasCmd4()) {</span>
<span class="cstat-no" title="statement not covered" >                    Log.send('widget-install');</span>
<span class="cstat-no" title="statement not covered" >                    Widget.install(cmd4, force);</span>
&nbsp;
                } else <span class="cstat-no" title="statement not covered" >if (cmd3 == '-publish' || cmd3 == '-p' &amp;&amp; hasCmd4()) {</span>
<span class="cstat-no" title="statement not covered" >                    Log.send('widget-publish');</span>
<span class="cstat-no" title="statement not covered" >                    Widget.publish(cmd4, force);</span>
&nbsp;
                } else <span class="cstat-no" title="statement not covered" >if ((cmd3 == '-create' || cmd3 == '-c') &amp;&amp; hasCmd4()) {</span>
<span class="cstat-no" title="statement not covered" >                    Log.send('widget-create');</span>
<span class="cstat-no" title="statement not covered" >                    Widget.create(cmd4);</span>
&nbsp;
                }
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (!cmd3) {</span>
<span class="cstat-no" title="statement not covered" >                widgetCmd();</span>
            }
&nbsp;
            //extra commands
            //server
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'server') {</span>
<span class="cstat-no" title="statement not covered" >            Log.send('server');</span>
<span class="cstat-no" title="statement not covered" >            if (argv[3]) {</span>
<span class="cstat-no" title="statement not covered" >                jdf.config.localServerPort = argv[3];</span>
            };
<span class="cstat-no" title="statement not covered" >            jdf.server(f.currentDir())</span>
&nbsp;
            //file lint
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'lint' || cmd2 === 'l') {</span>
<span class="cstat-no" title="statement not covered" >            var cmd3 = argv[3];</span>
<span class="cstat-no" title="statement not covered" >            var filename = (typeof(cmd3) == 'undefined') ? f.currentDir() : cmd3;</span>
<span class="cstat-no" title="statement not covered" >            Log.send('file lint');</span>
<span class="cstat-no" title="statement not covered" >            var FileLint = require('./fileLint');</span>
<span class="cstat-no" title="statement not covered" >            FileLint.init(filename);</span>
&nbsp;
            //file format
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'format' || cmd2 === 'f') {</span>
<span class="cstat-no" title="statement not covered" >            var cmd3 = argv[3];</span>
<span class="cstat-no" title="statement not covered" >            var filename = (typeof(cmd3) == 'undefined') ? f.currentDir() : cmd3;</span>
<span class="cstat-no" title="statement not covered" >            Log.send('file format');</span>
<span class="cstat-no" title="statement not covered" >            var FileFormat = require('./fileFormat');</span>
<span class="cstat-no" title="statement not covered" >            FileFormat.init(filename);</span>
&nbsp;
            //clean
        } else <span class="cstat-no" title="statement not covered" >if (cmd2 === 'clean') {</span>
<span class="cstat-no" title="statement not covered" >            Log.send('clean');</span>
<span class="cstat-no" title="statement not covered" >            jdf.clean();</span>
&nbsp;
            //todo: beautiful/jsbin/
        } else {
<span class="cstat-no" title="statement not covered" >            console.log('jdf error [jdf.init] invalid option: ' + cmd2 + ' \rType "jdf -h" for usage.');</span>
        }
    });
};
&nbsp;
/**
 * @输入命令的初始化 build, release, output
 */
jdf.argvInit = <span class="fstat-no" title="function not covered" >function(runType, argv, callback) {</span>
<span class="cstat-no" title="statement not covered" >    if (runType == 'build' || runType == 'release') {</span>
<span class="cstat-no" title="statement not covered" >        if (runType == 'build' &amp;&amp; typeof(argv[3]) != 'undefined' &amp;&amp; argv[3] == '-css') {</span>
<span class="cstat-no" title="statement not covered" >            jdf.buildCss();</span>
        } else {
<span class="cstat-no" title="statement not covered" >            var autoOpenurl = false,</span>
                comboDebug = false;
<span class="cstat-no" title="statement not covered" >            if (typeof(argv[3]) != 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >                if (argv[3] == '-open' || argv[3] == '-o') <span class="cstat-no" title="statement not covered" >autoOpenurl = true;</span></span>
<span class="cstat-no" title="statement not covered" >                if (argv[3] == '-combo' || argv[3] == '-c') <span class="cstat-no" title="statement not covered" >comboDebug = true;</span></span>
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            jdf.bgMkdir();</span>
<span class="cstat-no" title="statement not covered" >            jdf.bgCopyDir();</span>
<span class="cstat-no" title="statement not covered" >            jdf.buildMain(runType, argv[3] || argv[4]);</span>
&nbsp;
            //plain mode
<span class="cstat-no" title="statement not covered" >            if(argv[3] == '-plain' || argv[4] == '-plain'){</span>
<span class="cstat-no" title="statement not covered" >                var outputdirName = jdf.config.outputDirName;</span>
<span class="cstat-no" title="statement not covered" >                var outputdir = outputdirName+'/'+jdf.getProjectPath();</span>
<span class="cstat-no" title="statement not covered" >                f.copy(jdf.bgCurrentDir, outputdir);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                console.log('jdf build plain success!');</span>
            }else{
<span class="cstat-no" title="statement not covered" >                console.log("at precess:&lt;&lt;"+process.pid+"&gt;&gt;");</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                jdf.server(jdf.bgCurrentDir, autoOpenurl, comboDebug, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >                    jdf.watch(runType, callback, data);</span>
                });
            }
        }
    } else <span class="cstat-no" title="statement not covered" >if (runType == 'output') {</span>
        // jdf.bgMkdir();
        // var _bgdir=jdf.bgCurrentDir+"_"+Math.random();
        // f.renameFile(jdf.bgCurrentDir,_bgdir);
        // console.log(_bgdir);
        // f.delAsync(_bgdir);
        // f.mkdir(jdf.bgCurrentDir);
&nbsp;
<span class="cstat-no" title="statement not covered" >        jdf.bgMkdir();</span>
<span class="cstat-no" title="statement not covered" >        f.del(jdf.bgCurrentDir, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >            jdf.bgCopyDir();</span>
<span class="cstat-no" title="statement not covered" >            jdf.buildMain(runType);</span>
            //默认
<span class="cstat-no" title="statement not covered" >            var outputType = 'default',</span>
                projectPath = null,
                outputList, isbackup = false,
                isdebug = false;
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (typeof(argv[3]) != 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >                var cmd3 = argv[3];</span>
<span class="cstat-no" title="statement not covered" >                var cmd4 = argv[4];</span>
&nbsp;
                //custom自定义
<span class="cstat-no" title="statement not covered" >                outputType = 'custom';</span>
<span class="cstat-no" title="statement not covered" >                outputList = cmd3;</span>
&nbsp;
                //projectPath自定义
<span class="cstat-no" title="statement not covered" >                if (cmd3 == '-path') {</span>
<span class="cstat-no" title="statement not covered" >                    projectPath = cmd4;</span>
<span class="cstat-no" title="statement not covered" >                    outputType = 'default';</span>
                }
&nbsp;
                //debug(不压缩)
<span class="cstat-no" title="statement not covered" >                if (cmd3 == '-debug' || cmd4 == '-debug') {</span>
<span class="cstat-no" title="statement not covered" >                    isdebug = true;</span>
<span class="cstat-no" title="statement not covered" >                    if (!cmd4) <span class="cstat-no" title="statement not covered" >outputType = 'default';</span></span>
&nbsp;
                    //按配置项来输出
<span class="cstat-no" title="statement not covered" >                    if (jdf.config.outputCustom) {</span>
<span class="cstat-no" title="statement not covered" >                        outputType = 'custom';</span>
<span class="cstat-no" title="statement not covered" >                        outputList = jdf.config.outputCustom;</span>
                    }
                }
&nbsp;
                //hashtml
                //if (cmd3 == '-html' || cmd4 == '-html'||cmd3 == '-h' || cmd4 == '-h') {
                //    outputType = 'hashtml';
                //    outputList = null;
                //}
&nbsp;
                //backup
<span class="cstat-no" title="statement not covered" >                if (cmd3 == '-backup' || cmd4 == '-backup') {</span>
<span class="cstat-no" title="statement not covered" >                    outputType = 'backup';</span>
<span class="cstat-no" title="statement not covered" >                    isbackup = true;</span>
<span class="cstat-no" title="statement not covered" >                    if (cmd4 == '-backup') {</span>
<span class="cstat-no" title="statement not covered" >                        outputType = 'custom';</span>
<span class="cstat-no" title="statement not covered" >                        outputList = cmd3;</span>
                    }
                }
&nbsp;
                //prod(produce)预发布
<span class="cstat-no" title="statement not covered" >                if (cmd3 == '-prod' || cmd4 == '-prod') {</span>
<span class="cstat-no" title="statement not covered" >                    outputType = 'prod';</span>
<span class="cstat-no" title="statement not covered" >                    if (cmd4 == '-prod') {</span>
<span class="cstat-no" title="statement not covered" >                        outputType = 'prod';</span>
<span class="cstat-no" title="statement not covered" >                        outputList = cmd3;</span>
                    }
                }
&nbsp;
                //pub(publish)正式发布
<span class="cstat-no" title="statement not covered" >                if (cmd3 == '-pub' || cmd4 == '-pub') {</span>
<span class="cstat-no" title="statement not covered" >                    outputType = 'pub';</span>
<span class="cstat-no" title="statement not covered" >                    if (cmd4 == '-pub') {</span>
<span class="cstat-no" title="statement not covered" >                        outputType = 'pub';</span>
<span class="cstat-no" title="statement not covered" >                        outputList = cmd3;</span>
                    }
                }
&nbsp;
                //r.js
<span class="cstat-no" title="statement not covered" >                if(cmd3 == '-rjs' || cmd4 == '-rjs'){</span>
<span class="cstat-no" title="statement not covered" >                    outputType = 'default';</span>
<span class="cstat-no" title="statement not covered" >                    jdf.config.output.rjs = true;</span>
                }
&nbsp;
            } else {
                //按配置项来输出
<span class="cstat-no" title="statement not covered" >                if (jdf.config.outputCustom) {</span>
<span class="cstat-no" title="statement not covered" >                    outputType = 'custom';</span>
<span class="cstat-no" title="statement not covered" >                    outputList = jdf.config.outputCustom;</span>
                }
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            var Output = require("./output.js");</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            try {</span>
                //设置成全局compress.js会用到
<span class="cstat-no" title="statement not covered" >                jdf.config.outputType = outputType;</span>
<span class="cstat-no" title="statement not covered" >                Output.init({</span>
                    type: outputType,
                    list: outputList,
                    projectPath: projectPath,
                    isbackup: isbackup,
                    isdebug: isdebug,
                    callback: callback
                });
            } catch (e) {
<span class="cstat-no" title="statement not covered" >                console.log(e);</span>
            }
&nbsp;
        });
    }
}
&nbsp;
/**
 * @读取jdf version 有更新时提示更新
 */
jdf.version = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var notifier = updateNotifier({</span>
        pkg,
        updateCheckInterval: 0
    });
&nbsp;
    // console.log(notifier);
    
<span class="cstat-no" title="statement not covered" >    notifier.notify();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (notifier.update) {</span>
<span class="cstat-no" title="statement not covered" >        console.log(notifier.update);</span>
    } else {
<span class="cstat-no" title="statement not covered" >        console.log(pkg.version);</span>
    }
}
&nbsp;
/**
 * @读取配置文件config.json, 覆盖默认配置
 */
jdf.getConfig = <span class="fstat-no" title="function not covered" >function(callback) {</span>
<span class="cstat-no" title="statement not covered" >    var res = null;</span>
<span class="cstat-no" title="statement not covered" >    var url = f.currentDir() + '/' + jdf.config.configFileName;</span>
<span class="cstat-no" title="statement not covered" >    if (f.exists(url)) {</span>
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            var data = f.read(url);</span>
<span class="cstat-no" title="statement not covered" >            if (data) {</span>
<span class="cstat-no" title="statement not covered" >                data = JSON.parse(data);</span>
<span class="cstat-no" title="statement not covered" >                if (typeof(data) == 'object') {</span>
<span class="cstat-no" title="statement not covered" >                    data = $.merageObj(jdf.config, data);</span>
                }
                //console.log(data);
<span class="cstat-no" title="statement not covered" >                res = data;</span>
            }
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback(res);</span></span>
        } catch (e) {
<span class="cstat-no" title="statement not covered" >            console.log('jdf error [jdf.getConfig] - config.json format error');</span>
<span class="cstat-no" title="statement not covered" >            console.log(e);</span>
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback(res);</span></span>
        }
    } else {
<span class="cstat-no" title="statement not covered" >        if (callback) <span class="cstat-no" title="statement not covered" >callback(res);</span></span>
    }
}
&nbsp;
/**
 * @工程后台文件夹生成
 * @jdf.bgCurrentDir 为后台文件根目录
 */
jdf.bgMkdir = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var list = ['LOCALAPPDATA', 'HOME', 'APPDATA'];</span>
<span class="cstat-no" title="statement not covered" >    var temp;</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0, len = list.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >        if (temp = process.env[list[i]]) {</span>
<span class="cstat-no" title="statement not covered" >            break;</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    if (temp) {</span>
<span class="cstat-no" title="statement not covered" >        temp = temp || __dirname + '/../';</span>
<span class="cstat-no" title="statement not covered" >        temp += '/.jdf-temp/';</span>
<span class="cstat-no" title="statement not covered" >        temp = path.normalize(temp);</span>
<span class="cstat-no" title="statement not covered" >        f.mkdir(temp);</span>
&nbsp;
        //创建文件夹
<span class="cstat-no" title="statement not covered" >        var creatDir = <span class="fstat-no" title="function not covered" >function(filename) {</span></span>
<span class="cstat-no" title="statement not covered" >            var dir = path.normalize(temp + '/' + filename + '/');</span>
<span class="cstat-no" title="statement not covered" >            f.mkdir(dir);</span>
<span class="cstat-no" title="statement not covered" >            jdf[filename + 'Dir'] = dir;</span>
        };
&nbsp;
        //项目缓存文件夹
<span class="cstat-no" title="statement not covered" >        creatDir('cache');</span>
        //项目temp文件夹
<span class="cstat-no" title="statement not covered" >        creatDir('temp');</span>
        //项目lib文件夹
        //todo:自动从服务器下载最新版的jdj和jdm,现在是需要install手动下载
<span class="cstat-no" title="statement not covered" >        creatDir('lib');</span>
        //creatDir('jdj');
        //creatDir('jdm');
&nbsp;
<span class="cstat-no" title="statement not covered" >        creatDir('backup');</span>
&nbsp;
        //复制当前项目至temp文件夹(除outputdir)
        //取得当前工程名
<span class="cstat-no" title="statement not covered" >        var currentDirName = path.basename(jdf.currentDir);</span>
<span class="cstat-no" title="statement not covered" >        jdf.bgCurrentDir = path.normalize(jdf.tempDir + '/' + currentDirName);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        jdf.bgCurrentDirName = currentDirName;</span>
<span class="cstat-no" title="statement not covered" >        f.mkdir(jdf.bgCurrentDir);</span>
    }
}
/**
 * @复制当前项目至工程后台目录
 * @仅copy app,html,widget, config文件
 */
jdf.bgCopyDir = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var excludeFiles = $.excludeFiles();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if(jdf.config.build.excludeFiles){</span>
<span class="cstat-no" title="statement not covered" >        excludeFiles += '|' + jdf.config.build.excludeFiles;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    excludeFiles = excludeFiles.replace('||','|')</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (jdf.config.baseDir != '' || jdf.config.outputCustom) {</span>
<span class="cstat-no" title="statement not covered" >        f.copy(jdf.currentDir + '/' + jdf.config.baseDir, jdf.bgCurrentDir + '/' + jdf.config.baseDir, null, excludeFiles);</span>
    }else{
<span class="cstat-no" title="statement not covered" >        f.copy(jdf.currentDir + '/' + jdf.config.cssDir, jdf.bgCurrentDir + '/' + jdf.config.cssDir, null, excludeFiles);</span>
<span class="cstat-no" title="statement not covered" >        f.copy(jdf.currentDir + '/' + jdf.config.imagesDir, jdf.bgCurrentDir + '/' + jdf.config.imagesDir, null, excludeFiles);</span>
<span class="cstat-no" title="statement not covered" >        f.copy(jdf.currentDir + '/' + jdf.config.jsDir, jdf.bgCurrentDir + '/' + jdf.config.jsDir, null, excludeFiles);</span>
<span class="cstat-no" title="statement not covered" >        f.copy(jdf.currentDir + '/' + jdf.config.htmlDir, jdf.bgCurrentDir + '/' + jdf.config.htmlDir, null, excludeFiles);</span>
<span class="cstat-no" title="statement not covered" >        f.copy(jdf.currentDir + '/' + jdf.config.widgetDir, jdf.bgCurrentDir + '/' + jdf.config.widgetDir, null, excludeFiles);</span>
<span class="cstat-no" title="statement not covered" >        f.copy(jdf.currentDir + '/' + jdf.config.configFileName, jdf.bgCurrentDir + '/' + jdf.config.configFileName, null, excludeFiles);</span>
    }
}
&nbsp;
/**
 * @屏幕打点器
 * @time 2014-3-14 07:08
 * @example
 *  begin: jdf.dot.begin()  end: jdf.dot.end();
 */
jdf.dot = {
    timer: null,
    begin: <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >        this.date = new Date();</span>
<span class="cstat-no" title="statement not covered" >        process.stdout.write('.');</span>
<span class="cstat-no" title="statement not covered" >        this.timer = setInterval(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >            process.stdout.write('.');</span>
        }, 1000);
    },
    end: <span class="fstat-no" title="function not covered" >function(haslog) {</span>
<span class="cstat-no" title="statement not covered" >        var haslog = typeof(haslog) == 'undefined' ? true : haslog;</span>
<span class="cstat-no" title="statement not covered" >        if (this.timer) {</span>
<span class="cstat-no" title="statement not covered" >            var date = new Date();</span>
<span class="cstat-no" title="statement not covered" >            clearInterval(this.timer);</span>
<span class="cstat-no" title="statement not covered" >            if (haslog) {</span>
<span class="cstat-no" title="statement not covered" >                console.log('jdf spend ' + (date - this.date) / 1000 + 's');</span>
            } else {
<span class="cstat-no" title="statement not covered" >                console.log();</span>
            }
        }
    }
}
&nbsp;
/**
 * @从服务器端下载文件 todo:检查版本号
 */
jdf.download = <span class="fstat-no" title="function not covered" >function(pathItem, targetDir) {</span>
<span class="cstat-no" title="statement not covered" >    var url = jdf.config[pathItem];</span>
<span class="cstat-no" title="statement not covered" >    var cacheDir = path.normalize(jdf.cacheDir + '/' + pathItem + '.tar');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    console.log('jdf downloading');</span>
<span class="cstat-no" title="statement not covered" >    jdf.dot.begin();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    f.download(url, cacheDir, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (data == 'ok') {</span>
<span class="cstat-no" title="statement not covered" >            f.tar(cacheDir, targetDir, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >                console.log('\r\njdf [' + pathItem + '] install done');</span>
<span class="cstat-no" title="statement not covered" >                jdf.dot.end(false);</span>
            });
        } else <span class="cstat-no" title="statement not covered" >if (data == 'error') {</span>
<span class="cstat-no" title="statement not covered" >            jdf.dot.end(false);</span>
        }
    })
}
&nbsp;
/**
 * @从服务器端下载jdj, jdm, demo 或其它文件
 */
jdf.install = <span class="fstat-no" title="function not covered" >function(type, dir) {</span>
<span class="cstat-no" title="statement not covered" >    jdf.bgMkdir();</span>
&nbsp;
    /**
    widget模块安装走jdf widget -install widget/header
    console.log('jdf downloading');
    jdf.download('jdj', jdf.libDir);
    jdf.download('jdm', jdf.libDir);
    */
<span class="cstat-no" title="statement not covered" >    if (type == 'demo') {</span>
<span class="cstat-no" title="statement not covered" >        jdf.download('demo', jdf.currentDir, dir);</span>
    } else <span class="cstat-no" title="statement not covered" >if (type == 'init') {</span>
<span class="cstat-no" title="statement not covered" >        jdf.createStandardDir(dir);</span>
    }
}
&nbsp;
/**
* @getIp
*/
jdf.getIp = <span class="fstat-no" title="function not covered" >function(){</span>
<span class="cstat-no" title="statement not covered" >    var net = require('os').networkInterfaces();</span>
<span class="cstat-no" title="statement not covered" >    for(var key in net){</span>
<span class="cstat-no" title="statement not covered" >        if(net.hasOwnProperty(key)){</span>
<span class="cstat-no" title="statement not covered" >            var items = net[key];</span>
<span class="cstat-no" title="statement not covered" >            if(items &amp;&amp; items.length){</span>
<span class="cstat-no" title="statement not covered" >                for(var i = 0; i &lt; items.length; i++){</span>
<span class="cstat-no" title="statement not covered" >                    var ip = String(items[i].address).trim();</span>
<span class="cstat-no" title="statement not covered" >                    if(ip &amp;&amp; /^\d+(?:\.\d+){3}$/.test(ip) &amp;&amp; ip !== '127.0.0.1'){</span>
<span class="cstat-no" title="statement not covered" >                        return ip;</span>
                    }
                }
            }
        }
    }
<span class="cstat-no" title="statement not covered" >    return '127.0.0.1';</span>
};
&nbsp;
/**
* @扫描服务器的启始端口是否在运行
* @param {String}  host host
* @param {Number}  start 开始的端口号
* @param {Number}  end 结束的端口号
* @param {Function}  callback回调函数
*/
jdf.scan = <span class="fstat-no" title="function not covered" >function(host, start, end, callback) {</span>
<span class="cstat-no" title="statement not covered" >    var net = require('net');</span>
<span class="cstat-no" title="statement not covered" >    var count = end - start;</span>
<span class="cstat-no" title="statement not covered" >    var result = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    for (var i = start; i &lt;= end; i++) {</span>
<span class="cstat-no" title="statement not covered" >        var item = net.connect({</span>
                host: host,
                port: i
            },
<span class="fstat-no" title="function not covered" >            function(i) {</span>
<span class="cstat-no" title="statement not covered" >                return <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >                    result.push(i);</span>
<span class="cstat-no" title="statement not covered" >                    this.destroy();</span>
                };
            }(i)
        );
 
<span class="cstat-no" title="statement not covered" >        item.on('error', <span class="fstat-no" title="function not covered" >function(err) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (err.errno == 'ECONNREFUSED') {</span>
<span class="cstat-no" title="statement not covered" >                this.destroy();</span>
            }
        });
 
<span class="cstat-no" title="statement not covered" >        item.on('close', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >            if (!count--) {</span>
<span class="cstat-no" title="statement not covered" >                callback(result);</span>
            }
        });
    }
}
&nbsp;
/**
 * @取localServerPort
 */
jdf.getLocalServerPort = <span class="fstat-no" title="function not covered" >function(callback){</span>
<span class="cstat-no" title="statement not covered" >    var localServerPort = jdf.config.localServerPort;</span>
<span class="cstat-no" title="statement not covered" >    jdf.scan('localhost', localServerPort, localServerPort, <span class="fstat-no" title="function not covered" >function(result) {</span></span>
<span class="cstat-no" title="statement not covered" >        if(result.length){</span>
<span class="cstat-no" title="statement not covered" >            jdf.scan('localhost', 3000, 3050, <span class="fstat-no" title="function not covered" >function(result) {</span></span>
<span class="cstat-no" title="statement not covered" >                var r = result.length == 0 ? 3000 : $.arrayMax(result) + 1;</span>
<span class="cstat-no" title="statement not covered" >                callback(r);</span>
            });
        }else{
<span class="cstat-no" title="statement not covered" >            callback(localServerPort);</span>
        }
    });
}
&nbsp;
/**
* @服务器
* @param {Boolse}
* @param autoOpenurl true: html/index.html存在的话则打开, 不存在打开 http://localhost:3000/
* @param autoOpenurl false: 只启动不打开网页
* @param {Boolse}  comboDebug 联调/线上调试模式
*/
jdf.server = <span class="fstat-no" title="function not covered" >function(currentDir, autoOpenurl, comboDebug, callback) {</span>
<span class="cstat-no" title="statement not covered" >    var Server = require('./server.js');</span>
    // var FindPort = require('./findPort');
<span class="cstat-no" title="statement not covered" >    var Colors = require('colors');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    jdf.getLocalServerPort(<span class="fstat-no" title="function not covered" >function(localServerPort){</span></span>
<span class="cstat-no" title="statement not covered" >        if(jdf.config.build.hasBrowserSync){</span>
            //use "browser-sync" server 
            //doc https://browsersync.io/docs/options
<span class="cstat-no" title="statement not covered" >            var bs = require("browser-sync").create();</span>
<span class="cstat-no" title="statement not covered" >            bs.watch("*.html").on("change", bs.reload);</span>
<span class="cstat-no" title="statement not covered" >            bs.watch("*.js").on("change", bs.reload);</span>
<span class="cstat-no" title="statement not covered" >            bs.watch("*.css").on("change", bs.reload);</span>
<span class="cstat-no" title="statement not covered" >            bs.init({</span>
                server: currentDir,
                port: localServerPort,
                ui: {
                    // port: 3001, //81 error
                    weinre: {
                        // port: 8080
                    }
                }
            });
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback(1);</span></span>
        }else{
<span class="cstat-no" title="statement not covered" >            var Compress = require('./compress.js');</span>
<span class="cstat-no" title="statement not covered" >            Server.init( currentDir, localServerPort, jdf.config.cdn, jdf.getProjectPath(), comboDebug, Compress.addJsDepends);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (typeof(autoOpenurl) != 'undefined' &amp;&amp; autoOpenurl) {</span>
<span class="cstat-no" title="statement not covered" >                var homepage = '/' + jdf.config.htmlDir + '/index.html';</span>
<span class="cstat-no" title="statement not covered" >                if (!f.exists(jdf.currentDir + homepage)) {</span>
<span class="cstat-no" title="statement not covered" >                    homepage = '';</span>
                }
<span class="cstat-no" title="statement not covered" >                require("./openurl.js").open('http://localhost:' + localServerPort);</span>
            }
<span class="cstat-no" title="statement not covered" >            console.log('jdf server : running at '+ localServerPort);</span>
<span class="cstat-no" title="statement not covered" >            console.log(Colors.gray('----------------------------------------'));</span>
<span class="cstat-no" title="statement not covered" >            console.log('   Local: '+Colors.magenta('http://localhost:' + localServerPort + '/'));</span>
<span class="cstat-no" title="statement not covered" >            var externalIp = 'http://'+jdf.getIp()+':' + localServerPort + '/';</span>
<span class="cstat-no" title="statement not covered" >            console.log('External: '+Colors.magenta(externalIp));</span>
<span class="cstat-no" title="statement not covered" >            console.log(Colors.gray('----------------------------------------'));</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            if(jdf.config.build.qrcode != false){</span>
<span class="cstat-no" title="statement not covered" >                require("qrcode-terminal").generate(externalIp, { small: false }, <span class="fstat-no" title="function not covered" >function(qrcode){</span></span>
<span class="cstat-no" title="statement not covered" >                    console.log(Colors.gray(qrcode));</span>
<span class="cstat-no" title="statement not covered" >                    console.log(Colors.gray('----------------------------------------'));</span>
                });
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            console.log('Current files from: '+jdf.currentDir);</span>
<span class="cstat-no" title="statement not covered" >            console.log('Serving files from: '+currentDir);</span>
<span class="cstat-no" title="statement not covered" >            if (callback) <span class="cstat-no" title="statement not covered" >callback(1);</span></span>
        }
    });
}
&nbsp;
/**
 * @检测路径是否为项目文件夹内路径 即 baseDir htmlDir widgetDir configFile
 * @param {String} filename 文件路径
 */
jdf.checkProjectDir = <span class="fstat-no" title="function not covered" >function(filename) {</span>
<span class="cstat-no" title="statement not covered" >    var dirname = filename.replace(jdf.currentDir, '');</span>
<span class="cstat-no" title="statement not covered" >    dirname = dirname.replace(/\\/, '');</span>
<span class="cstat-no" title="statement not covered" >    if (/^\//.test(dirname)) <span class="cstat-no" title="statement not covered" >dirname = dirname.replace(/\//, '');</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var checkTag = false;</span>
<span class="cstat-no" title="statement not covered" >    var checkProjectDir = <span class="fstat-no" title="function not covered" >function(i, j) {</span></span>
<span class="cstat-no" title="statement not covered" >        var reg = new RegExp('^' + i);</span>
<span class="cstat-no" title="statement not covered" >        if (reg.test(j)) {</span>
<span class="cstat-no" title="statement not covered" >            return true;</span>
        } else {
<span class="cstat-no" title="statement not covered" >            return false;</span>
        }
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (checkProjectDir(jdf.config.baseDir, dirname) || checkProjectDir(jdf.config.htmlDir, dirname) || checkProjectDir(jdf.config.widgetDir, dirname) || checkProjectDir(jdf.config.configFileName, dirname)) {</span>
<span class="cstat-no" title="statement not covered" >        checkTag = true;</span>
    }
<span class="cstat-no" title="statement not covered" >    return checkTag;</span>
}
&nbsp;
/**
 * @watch &amp;&amp; Livereload
 * @复制有变动的文件
 */
jdf.watch = <span class="fstat-no" title="function not covered" >function(type, callback, data) {</span>
<span class="cstat-no" title="statement not covered" >    var Node_watch = require('node-watch');</span>
<span class="cstat-no" title="statement not covered" >    var Livereload = require('./livereloadServer');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!data) {</span>
        //如果有另外一个进程那么livereload会直接关闭
<span class="cstat-no" title="statement not covered" >        jdf.config.build.livereload = false;</span>
        //console.log("another jdf process running , jdf livereload closed");
    }
&nbsp;
    //livereload
<span class="cstat-no" title="statement not covered" >    if (jdf.config.build.livereload) <span class="cstat-no" title="statement not covered" >Livereload.init();</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var regStr = '\\.(vm|tpl|shtml|html|smarty|js|css|less|sass|scss|json|babel|' + $.imageFileType() + ')$';</span>
<span class="cstat-no" title="statement not covered" >    var reg = new RegExp(regStr);</span>
&nbsp;
    //todo初始化时前后台文件夹同步
<span class="cstat-no" title="statement not covered" >    Node_watch(jdf.currentDir, <span class="fstat-no" title="function not covered" >function(filename) {</span></span>
        //文件过滤
<span class="cstat-no" title="statement not covered" >        if (f.isFile(filename)) {</span>
<span class="cstat-no" title="statement not covered" >            if (!reg.test(filename)) <span class="cstat-no" title="statement not covered" >return;</span></span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        var target = jdf.bgCurrentDir + filename.replace(jdf.currentDir, '');</span>
<span class="cstat-no" title="statement not covered" >        if (jdf.checkProjectDir(filename)) {</span>
<span class="cstat-no" title="statement not covered" >            if (f.exists(filename)) {</span>
<span class="cstat-no" title="statement not covered" >                f.copy(filename, target, regStr);</span>
                //build
<span class="cstat-no" title="statement not covered" >                jdf.buildMain(type);</span>
                //livereload
<span class="cstat-no" title="statement not covered" >                if (jdf.config.build.livereload) <span class="cstat-no" title="statement not covered" >Livereload.reloadBrowser([target]);</span></span>
<span class="cstat-no" title="statement not covered" >                if (callback) <span class="cstat-no" title="statement not covered" >callback(filename);</span></span>
            } else {
<span class="cstat-no" title="statement not covered" >                f.del(target, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >                    if (callback) <span class="cstat-no" title="statement not covered" >callback(filename);</span></span>
                });
            }
        }
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
}
&nbsp;
/**
 * @获取项目前缀名字
 * @仅从配置文件中取,不再支持branch/trunk 2014-5-24
 * @del --&gt; 1. d:\product\index\trunk ===&gt; product/index
 * @del --&gt; 2. d:\product\index\branches\homebranches ===&gt; product/index
 * @del --&gt; 3. d:\product\index\homebranches ===&gt; product
 */
jdf.getProjectPath = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var currentDir = f.currentDir(),</span>
        result = '';
<span class="cstat-no" title="statement not covered" >    if (jdf.config.projectPath != null) {</span>
<span class="cstat-no" title="statement not covered" >        result = jdf.config.projectPath;</span>
    } else {
<span class="cstat-no" title="statement not covered" >        result = path.basename(f.currentDir());</span>
    }
<span class="cstat-no" title="statement not covered" >    return result;</span>
}
&nbsp;
/**
 * @项目工程目录初始化
 * @time 2014-2-19 10:21:37
 */
jdf.createStandardDir = <span class="fstat-no" title="function not covered" >function(dir) {</span>
<span class="cstat-no" title="statement not covered" >    var dirArray = [];</span>
<span class="cstat-no" title="statement not covered" >    dirArray[0] = jdf.config.baseDir;</span>
<span class="cstat-no" title="statement not covered" >    dirArray[1] = jdf.config.cssDir;</span>
<span class="cstat-no" title="statement not covered" >    dirArray[2] = jdf.config.imagesDir;</span>
<span class="cstat-no" title="statement not covered" >    dirArray[3] = jdf.config.jsDir;</span>
<span class="cstat-no" title="statement not covered" >    dirArray[4] = jdf.config.htmlDir;</span>
<span class="cstat-no" title="statement not covered" >    dirArray[5] = jdf.config.widgetDir;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if(dir){</span>
<span class="cstat-no" title="statement not covered" >        dir += '/';</span>
    }else{
<span class="cstat-no" title="statement not covered" >        dir = 'jdf_init/';</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; dirArray.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >        f.mkdir(dir+dirArray[i]);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var fileArray = [];</span>
<span class="cstat-no" title="statement not covered" >    fileArray[0] = jdf.config.configFileName;</span>
<span class="cstat-no" title="statement not covered" >    fileArray[1] = jdf.config.htmlDir + '/index.html';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var templateDir = path.resolve(__dirname, '../template/');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; fileArray.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >        if (!f.exists(fileArray[i])) <span class="cstat-no" title="statement not covered" >f.write(dir+'/'+fileArray[i], f.read(templateDir + '/' + fileArray[i]));</span></span>
    }
<span class="cstat-no" title="statement not covered" >    console.log('jdf project directory "'+dir.replace('/','')+'" init done!');</span>
}
&nbsp;
/**
 * @清除项目缓存文件夹
 */
jdf.clean = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    jdf.bgMkdir();</span>
<span class="cstat-no" title="statement not covered" >    f.del(jdf.tempDir, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        console.log('jdf cache dir clean done');</span>
    });
}
&nbsp;
/**
 * @在当前文件夹下编译less/sass
 */
jdf.buildCss = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var BuildCss = require("./buildCss.js");</span>
<span class="cstat-no" title="statement not covered" >    var Node_watch = require('node-watch');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    console.log('jdf buildCss ...');</span>
<span class="cstat-no" title="statement not covered" >    var currentDir = jdf.currentDir;</span>
<span class="cstat-no" title="statement not covered" >    BuildCss.init(currentDir, currentDir);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var regStr = '\\.(less|sass|scss)$';</span>
<span class="cstat-no" title="statement not covered" >    var reg = new RegExp(regStr);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    Node_watch(currentDir, <span class="fstat-no" title="function not covered" >function(filename) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (f.isFile(filename)) {</span>
<span class="cstat-no" title="statement not covered" >            if (!reg.test(filename)) <span class="cstat-no" title="statement not covered" >return;</span></span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        console.log(filename.replace(currentDir, ''));</span>
<span class="cstat-no" title="statement not covered" >        BuildCss.init(currentDir, currentDir);</span>
    });
}
&nbsp;
/**
 * @build html(widget), css(sass, less), js(es6)
 */
jdf.buildMain = <span class="fstat-no" title="function not covered" >function(type, param) {</span>
<span class="cstat-no" title="statement not covered" >    if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('jdf build ...');</span></span>
    //console.log('['+$.getTime(':', false)+'] build ...');
&nbsp;
    //build css
<span class="cstat-no" title="statement not covered" >    if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('jdf build css ...');</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var BuildCss = require("./buildCss.js");</span>
<span class="cstat-no" title="statement not covered" >    if(jdf.config.outputCustom){</span>
<span class="cstat-no" title="statement not covered" >        var list = jdf.config.outputCustom;</span>
<span class="cstat-no" title="statement not covered" >        var listArray = list.split(',');</span>
<span class="cstat-no" title="statement not covered" >        for (var i=0; i&lt;listArray.length; i++ ){</span>
<span class="cstat-no" title="statement not covered" >            var item = listArray[i];</span>
<span class="cstat-no" title="statement not covered" >            if ( f.exists(item) ) {</span>
<span class="cstat-no" title="statement not covered" >                BuildCss.init(item, jdf.bgCurrentDir + '/' + item);</span>
            }
        }
    }else{
<span class="cstat-no" title="statement not covered" >        BuildCss.init(jdf.config.cssDir, jdf.bgCurrentDir + '/' + jdf.config.cssDir);</span>
<span class="cstat-no" title="statement not covered" >        BuildCss.init(jdf.config.widgetDir, jdf.bgCurrentDir + '/' + jdf.config.widgetDir);</span>
    }
&nbsp;
    //build es6 js
<span class="cstat-no" title="statement not covered" >    if(jdf.config.build.isEs6){</span>
<span class="cstat-no" title="statement not covered" >        if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('jdf build js ...');</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        if(jdf.config.build.es6Entry){</span>
            //config.json
            // "build":{
            //     "isEs6": true,
            //     "es6Entry": {
            //         "index": ["./js/index.js"],
            //         "list": ["./js/list.js"]
            //     }
            // }
&nbsp;
            // //unify entrance
            // var dist = type == "output"
            //     ? jdf.currentDir+ '/'+jdf.config.outputDirName+'/'+jdf.getProjectPath() + '/' + jdf.config.jsDir
            //     : jdf.bgCurrentDir + '/' + jdf.config.jsDir ;
&nbsp;
            // // use webpack &amp;&amp; babel build es6
            // var BuildByWebpack = require('./buildByWebpack.js');
            // BuildByWebpack.init(
            //     jdf.currentDir + '/' ,
            //     jdf.config.build.es6Entry,
            //     dist,
            //     type == "output"
            // );
        }else{
<span class="cstat-no" title="statement not covered" >            var BuildJs = require('./BuildJs.js');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            if(jdf.config.outputCustom) {</span>
<span class="cstat-no" title="statement not covered" >                var list = jdf.config.outputCustom;</span>
<span class="cstat-no" title="statement not covered" >                var listArray = list.split(',');</span>
<span class="cstat-no" title="statement not covered" >                for (var i=0; i&lt;listArray.length; i++ ){</span>
<span class="cstat-no" title="statement not covered" >                    var item = listArray[i];</span>
<span class="cstat-no" title="statement not covered" >                    if ( f.exists(item) ) {</span>
<span class="cstat-no" title="statement not covered" >                        BuildJs.init(item, jdf.bgCurrentDir);</span>
                    }
                }
            }else{
<span class="cstat-no" title="statement not covered" >                BuildJs.init(jdf.config.jsDir, jdf.bgCurrentDir);</span>
<span class="cstat-no" title="statement not covered" >                BuildJs.init(jdf.config.widgetDir, jdf.bgCurrentDir);</span>
            }
        }
    }
&nbsp;
    //build html (todo jdf.config.outputCustom)
<span class="cstat-no" title="statement not covered" >    var buildHtmlDir = '/' + jdf.config.buildDirName + '/';</span>
<span class="cstat-no" title="statement not covered" >    var buildHtmlDirFull = jdf.currentDir + buildHtmlDir;</span>
<span class="cstat-no" title="statement not covered" >    if (f.exists(buildHtmlDirFull)) {</span>
<span class="cstat-no" title="statement not covered" >        var BuildWidget = require("./buildWidget.js");</span>
<span class="cstat-no" title="statement not covered" >        if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('jdf build html...');</span></span>
<span class="cstat-no" title="statement not covered" >        var encoding = jdf.config.output.encoding;</span>
<span class="cstat-no" title="statement not covered" >        var basedirlist = f.getdirlist(buildHtmlDirFull, '.html$');</span>
<span class="cstat-no" title="statement not covered" >        basedirlist.forEach(<span class="fstat-no" title="function not covered" >function(source) {</span></span>
<span class="cstat-no" title="statement not covered" >            var target = path.normalize(jdf.bgCurrentDir + buildHtmlDir + source.replace(buildHtmlDirFull, ''));</span>
<span class="cstat-no" title="statement not covered" >            BuildWidget.init(source, f.read(source), type, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >                if(f.excludeFiles(target)){</span>
<span class="cstat-no" title="statement not covered" >                    f.write(target, data.tpl, encoding);</span>
                }
<span class="cstat-no" title="statement not covered" >                return 'ok';</span>
            }, param);
            //require('./buildByNunjucks').init(source);
        });
    }
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/livereload.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/livereload.js</span></h1>
    <h2>
        
        Statements: <span class="metric">16.13% <small>(105 / 651)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0.38% <small>(1 / 260)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">9.17% <small>(10 / 109)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">16.25% <small>(105 / 646)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; livereload.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645
646
647
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745
746
747
748
749
750
751
752
753
754
755
756
757
758
759
760
761
762
763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846
847
848
849
850
851
852
853
854
855
856
857
858
859
860
861
862
863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889
890
891
892
893
894
895
896
897
898
899
900
901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916
917
918
919
920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979
980
981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031
1032
1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053
1054
1055
1056
1057
1058
1059
1060
1061
1062
1063</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
** update **
* 
* 2014-10-29 10:13:00 by chenxiaochun
* 当修改scss、less文件时都不会刷新页面
*/
&nbsp;
(function() {
var __customevents = {}, __protocol = {}, __connector = {}, __timer = {}, __options = {}, __reloader = {}, __livereload = {}, __less = {}, __startup = {};
&nbsp;
// customevents
var CustomEvents;
CustomEvents = {
  bind: <span class="fstat-no" title="function not covered" >function(element, eventName, handler) {</span>
<span class="cstat-no" title="statement not covered" >    if (element.addEventListener) {</span>
<span class="cstat-no" title="statement not covered" >      return element.addEventListener(eventName, handler, false);</span>
    } else <span class="cstat-no" title="statement not covered" >if (element.attachEvent) {</span>
<span class="cstat-no" title="statement not covered" >      element[eventName] = 1;</span>
<span class="cstat-no" title="statement not covered" >      return element.attachEvent('onpropertychange', <span class="fstat-no" title="function not covered" >function(event) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (event.propertyName === eventName) {</span>
<span class="cstat-no" title="statement not covered" >          return handler();</span>
        }
      });
    } else {
<span class="cstat-no" title="statement not covered" >      throw new Error("Attempt to attach custom event " + eventName + " to something which isn't a DOMElement");</span>
    }
  },
  fire: <span class="fstat-no" title="function not covered" >function(element, eventName) {</span>
<span class="cstat-no" title="statement not covered" >    var event;</span>
<span class="cstat-no" title="statement not covered" >    if (element.addEventListener) {</span>
<span class="cstat-no" title="statement not covered" >      event = document.createEvent('HTMLEvents');</span>
<span class="cstat-no" title="statement not covered" >      event.initEvent(eventName, true, true);</span>
<span class="cstat-no" title="statement not covered" >      return document.dispatchEvent(event);</span>
    } else <span class="cstat-no" title="statement not covered" >if (element.attachEvent) {</span>
<span class="cstat-no" title="statement not covered" >      if (element[eventName]) {</span>
<span class="cstat-no" title="statement not covered" >        return element[eventName]++;</span>
      }
    } else {
<span class="cstat-no" title="statement not covered" >      throw new Error("Attempt to fire custom event " + eventName + " on something which isn't a DOMElement");</span>
    }
  }
};
__customevents.bind = CustomEvents.bind;
__customevents.fire = CustomEvents.fire;
&nbsp;
// protocol
var PROTOCOL_6, PROTOCOL_7, Parser, ProtocolError;
var __indexOf = Array.prototype.indexOf || <span class="fstat-no" title="function not covered" ><span class="branch-1 cbranch-no" title="branch not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >  for (var i = 0, l = this.length; i &lt; l; i++) {</span>
<span class="cstat-no" title="statement not covered" >    if (this[i] === item) <span class="cstat-no" title="statement not covered" >return i;</span></span>
  }
<span class="cstat-no" title="statement not covered" >  return -1;</span>
};
__protocol.PROTOCOL_6 = PROTOCOL_6 = 'http://livereload.com/protocols/official-6';
__protocol.PROTOCOL_7 = PROTOCOL_7 = 'http://livereload.com/protocols/official-7';
__protocol.ProtocolError = ProtocolError = (function() {
<span class="fstat-no" title="function not covered" >  function ProtocolError(reason, data) {</span>
<span class="cstat-no" title="statement not covered" >    this.message = "LiveReload protocol error (" + reason + ") after receiving data: \"" + data + "\".";</span>
  }
  return ProtocolError;
})();
__protocol.Parser = Parser = (function() {
<span class="fstat-no" title="function not covered" >  function Parser(handlers) {</span>
<span class="cstat-no" title="statement not covered" >    this.handlers = handlers;</span>
<span class="cstat-no" title="statement not covered" >    this.reset();</span>
  }
  Parser.prototype.reset = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    return this.protocol = null;</span>
  };
  Parser.prototype.process = <span class="fstat-no" title="function not covered" >function(data) {</span>
<span class="cstat-no" title="statement not covered" >    var command, message, options, _ref;</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      if (!(this.protocol != null)) {</span>
<span class="cstat-no" title="statement not covered" >        if (data.match(/^!!ver:([\d.]+)$/)) {</span>
<span class="cstat-no" title="statement not covered" >          this.protocol = 6;</span>
        } else <span class="cstat-no" title="statement not covered" >if (message = this._parseMessage(data, ['hello'])) {</span>
<span class="cstat-no" title="statement not covered" >          if (!message.protocols.length) {</span>
<span class="cstat-no" title="statement not covered" >            throw new ProtocolError("no protocols specified in handshake message");</span>
          } else <span class="cstat-no" title="statement not covered" >if (__indexOf.call(message.protocols, PROTOCOL_7) &gt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >            this.protocol = 7;</span>
          } else <span class="cstat-no" title="statement not covered" >if (__indexOf.call(message.protocols, PROTOCOL_6) &gt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >            this.protocol = 6;</span>
          } else {
<span class="cstat-no" title="statement not covered" >            throw new ProtocolError("no supported protocols found");</span>
          }
        }
<span class="cstat-no" title="statement not covered" >        return this.handlers.connected(this.protocol);</span>
      } else <span class="cstat-no" title="statement not covered" >if (this.protocol === 6) {</span>
<span class="cstat-no" title="statement not covered" >        message = JSON.parse(data);</span>
<span class="cstat-no" title="statement not covered" >        if (!message.length) {</span>
<span class="cstat-no" title="statement not covered" >          throw new ProtocolError("protocol 6 messages must be arrays");</span>
        }
<span class="cstat-no" title="statement not covered" >        command = message[0], options = message[1];</span>
<span class="cstat-no" title="statement not covered" >        if (command !== 'refresh') {</span>
<span class="cstat-no" title="statement not covered" >          throw new ProtocolError("unknown protocol 6 command");</span>
        }
<span class="cstat-no" title="statement not covered" >        return this.handlers.message({</span>
          command: 'reload',
          path: options.path,
          liveCSS: (_ref = options.apply_css_live) != null ? _ref : true
        });
      } else {
<span class="cstat-no" title="statement not covered" >        message = this._parseMessage(data, ['reload', 'alert']);</span>
<span class="cstat-no" title="statement not covered" >        return this.handlers.message(message);</span>
      }
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      if (e instanceof ProtocolError) {</span>
<span class="cstat-no" title="statement not covered" >        return this.handlers.error(e);</span>
      } else {
<span class="cstat-no" title="statement not covered" >        throw e;</span>
      }
    }
  };
  Parser.prototype._parseMessage = <span class="fstat-no" title="function not covered" >function(data, validCommands) {</span>
<span class="cstat-no" title="statement not covered" >    var message, _ref;</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >      message = JSON.parse(data);</span>
    } catch (e) {
<span class="cstat-no" title="statement not covered" >      throw new ProtocolError('unparsable JSON', data);</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!message.command) {</span>
<span class="cstat-no" title="statement not covered" >      throw new ProtocolError('missing "command" key', data);</span>
    }
<span class="cstat-no" title="statement not covered" >    if (_ref = message.command, __indexOf.call(validCommands, _ref) &lt; 0) {</span>
<span class="cstat-no" title="statement not covered" >      throw new ProtocolError("invalid command '" + message.command + "', only valid commands are: " + (validCommands.join(', ')) + ")", data);</span>
    }
<span class="cstat-no" title="statement not covered" >    return message;</span>
  };
  return Parser;
})();
&nbsp;
// connector
// Generated by CoffeeScript 1.3.3
var Connector, PROTOCOL_6, PROTOCOL_7, Parser, Version, _ref;
&nbsp;
_ref = __protocol, Parser = _ref.Parser, PROTOCOL_6 = _ref.PROTOCOL_6, PROTOCOL_7 = _ref.PROTOCOL_7;
&nbsp;
Version = '2.0.8';
&nbsp;
__connector.Connector = Connector = (function() {
&nbsp;
<span class="fstat-no" title="function not covered" >  function Connector(options, WebSocket, Timer, handlers) {</span>
<span class="cstat-no" title="statement not covered" >    var _this = this;</span>
<span class="cstat-no" title="statement not covered" >    this.options = options;</span>
<span class="cstat-no" title="statement not covered" >    this.WebSocket = WebSocket;</span>
<span class="cstat-no" title="statement not covered" >    this.Timer = Timer;</span>
<span class="cstat-no" title="statement not covered" >    this.handlers = handlers;</span>
<span class="cstat-no" title="statement not covered" >    this._uri = "ws://" + this.options.host + ":" + this.options.port + "/livereload";</span>
<span class="cstat-no" title="statement not covered" >    this._nextDelay = this.options.mindelay;</span>
<span class="cstat-no" title="statement not covered" >    this._connectionDesired = false;</span>
<span class="cstat-no" title="statement not covered" >    this.protocol = 0;</span>
<span class="cstat-no" title="statement not covered" >    this.protocolParser = new Parser({</span>
      connected: <span class="fstat-no" title="function not covered" >function(protocol) {</span>
<span class="cstat-no" title="statement not covered" >        _this.protocol = protocol;</span>
<span class="cstat-no" title="statement not covered" >        _this._handshakeTimeout.stop();</span>
<span class="cstat-no" title="statement not covered" >        _this._nextDelay = _this.options.mindelay;</span>
<span class="cstat-no" title="statement not covered" >        _this._disconnectionReason = 'broken';</span>
<span class="cstat-no" title="statement not covered" >        return _this.handlers.connected(protocol);</span>
      },
      error: <span class="fstat-no" title="function not covered" >function(e) {</span>
<span class="cstat-no" title="statement not covered" >        _this.handlers.error(e);</span>
<span class="cstat-no" title="statement not covered" >        return _this._closeOnError();</span>
      },
      message: <span class="fstat-no" title="function not covered" >function(message) {</span>
<span class="cstat-no" title="statement not covered" >        return _this.handlers.message(message);</span>
      }
    });
<span class="cstat-no" title="statement not covered" >    this._handshakeTimeout = new Timer(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >      if (!_this._isSocketConnected()) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
<span class="cstat-no" title="statement not covered" >      _this._disconnectionReason = 'handshake-timeout';</span>
<span class="cstat-no" title="statement not covered" >      return _this.socket.close();</span>
    });
<span class="cstat-no" title="statement not covered" >    this._reconnectTimer = new Timer(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >      if (!_this._connectionDesired) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
<span class="cstat-no" title="statement not covered" >      return _this.connect();</span>
    });
<span class="cstat-no" title="statement not covered" >    this.connect();</span>
  }
&nbsp;
  Connector.prototype._isSocketConnected = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    return this.socket &amp;&amp; this.socket.readyState === this.WebSocket.OPEN;</span>
  };
&nbsp;
  Connector.prototype.connect = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var _this = this;</span>
<span class="cstat-no" title="statement not covered" >    this._connectionDesired = true;</span>
<span class="cstat-no" title="statement not covered" >    if (this._isSocketConnected()) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    this._reconnectTimer.stop();</span>
<span class="cstat-no" title="statement not covered" >    this._disconnectionReason = 'cannot-connect';</span>
<span class="cstat-no" title="statement not covered" >    this.protocolParser.reset();</span>
<span class="cstat-no" title="statement not covered" >    this.handlers.connecting();</span>
<span class="cstat-no" title="statement not covered" >    this.socket = new this.WebSocket(this._uri);</span>
<span class="cstat-no" title="statement not covered" >    this.socket.onopen = <span class="fstat-no" title="function not covered" >function(e) {</span></span>
<span class="cstat-no" title="statement not covered" >      return _this._onopen(e);</span>
    };
<span class="cstat-no" title="statement not covered" >    this.socket.onclose = <span class="fstat-no" title="function not covered" >function(e) {</span></span>
<span class="cstat-no" title="statement not covered" >      return _this._onclose(e);</span>
    };
<span class="cstat-no" title="statement not covered" >    this.socket.onmessage = <span class="fstat-no" title="function not covered" >function(e) {</span></span>
<span class="cstat-no" title="statement not covered" >      return _this._onmessage(e);</span>
    };
<span class="cstat-no" title="statement not covered" >    return this.socket.onerror = <span class="fstat-no" title="function not covered" >function(e) {</span></span>
<span class="cstat-no" title="statement not covered" >      return _this._onerror(e);</span>
    };
  };
&nbsp;
  Connector.prototype.disconnect = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    this._connectionDesired = false;</span>
<span class="cstat-no" title="statement not covered" >    this._reconnectTimer.stop();</span>
<span class="cstat-no" title="statement not covered" >    if (!this._isSocketConnected()) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    this._disconnectionReason = 'manual';</span>
<span class="cstat-no" title="statement not covered" >    return this.socket.close();</span>
  };
&nbsp;
  Connector.prototype._scheduleReconnection = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    if (!this._connectionDesired) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!this._reconnectTimer.running) {</span>
<span class="cstat-no" title="statement not covered" >      this._reconnectTimer.start(this._nextDelay);</span>
<span class="cstat-no" title="statement not covered" >      return this._nextDelay = Math.min(this.options.maxdelay, this._nextDelay * 2);</span>
    }
  };
&nbsp;
  Connector.prototype.sendCommand = <span class="fstat-no" title="function not covered" >function(command) {</span>
<span class="cstat-no" title="statement not covered" >    if (this.protocol == null) {</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    return this._sendCommand(command);</span>
  };
&nbsp;
  Connector.prototype._sendCommand = <span class="fstat-no" title="function not covered" >function(command) {</span>
<span class="cstat-no" title="statement not covered" >    return this.socket.send(JSON.stringify(command));</span>
  };
&nbsp;
  Connector.prototype._closeOnError = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    this._handshakeTimeout.stop();</span>
<span class="cstat-no" title="statement not covered" >    this._disconnectionReason = 'error';</span>
<span class="cstat-no" title="statement not covered" >    return this.socket.close();</span>
  };
&nbsp;
  Connector.prototype._onopen = <span class="fstat-no" title="function not covered" >function(e) {</span>
<span class="cstat-no" title="statement not covered" >    var hello;</span>
<span class="cstat-no" title="statement not covered" >    this.handlers.socketConnected();</span>
<span class="cstat-no" title="statement not covered" >    this._disconnectionReason = 'handshake-failed';</span>
<span class="cstat-no" title="statement not covered" >    hello = {</span>
      command: 'hello',
      protocols: [PROTOCOL_6, PROTOCOL_7]
    };
<span class="cstat-no" title="statement not covered" >    hello.ver = Version;</span>
<span class="cstat-no" title="statement not covered" >    if (this.options.ext) {</span>
<span class="cstat-no" title="statement not covered" >      hello.ext = this.options.ext;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (this.options.extver) {</span>
<span class="cstat-no" title="statement not covered" >      hello.extver = this.options.extver;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (this.options.snipver) {</span>
<span class="cstat-no" title="statement not covered" >      hello.snipver = this.options.snipver;</span>
    }
<span class="cstat-no" title="statement not covered" >    this._sendCommand(hello);</span>
<span class="cstat-no" title="statement not covered" >    return this._handshakeTimeout.start(this.options.handshake_timeout);</span>
  };
&nbsp;
  Connector.prototype._onclose = <span class="fstat-no" title="function not covered" >function(e) {</span>
<span class="cstat-no" title="statement not covered" >    this.protocol = 0;</span>
<span class="cstat-no" title="statement not covered" >    this.handlers.disconnected(this._disconnectionReason, this._nextDelay);</span>
<span class="cstat-no" title="statement not covered" >    return this._scheduleReconnection();</span>
  };
&nbsp;
  Connector.prototype._onerror = <span class="fstat-no" title="function not covered" >function(e) {</span>};
&nbsp;
  Connector.prototype._onmessage = <span class="fstat-no" title="function not covered" >function(e) {</span>
<span class="cstat-no" title="statement not covered" >    return this.protocolParser.process(e.data);</span>
  };
&nbsp;
  return Connector;
&nbsp;
})();
&nbsp;
// timer
var Timer;
var __bind = <span class="fstat-no" title="function not covered" >function(fn, me){</span> <span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >function(){</span> <span class="cstat-no" title="statement not covered" >return fn.apply(me, arguments); </span>}; </span>};
__timer.Timer = Timer = (function() {
<span class="fstat-no" title="function not covered" >  function Timer(func) {</span>
<span class="cstat-no" title="statement not covered" >    this.func = func;</span>
<span class="cstat-no" title="statement not covered" >    this.running = false;</span>
<span class="cstat-no" title="statement not covered" >    this.id = null;</span>
<span class="cstat-no" title="statement not covered" >    this._handler = __bind(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >      this.running = false;</span>
<span class="cstat-no" title="statement not covered" >      this.id = null;</span>
<span class="cstat-no" title="statement not covered" >      return this.func();</span>
    }, this);
  }
  Timer.prototype.start = <span class="fstat-no" title="function not covered" >function(timeout) {</span>
<span class="cstat-no" title="statement not covered" >    if (this.running) {</span>
<span class="cstat-no" title="statement not covered" >      clearTimeout(this.id);</span>
    }
<span class="cstat-no" title="statement not covered" >    this.id = setTimeout(this._handler, timeout);</span>
<span class="cstat-no" title="statement not covered" >    return this.running = true;</span>
  };
  Timer.prototype.stop = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    if (this.running) {</span>
<span class="cstat-no" title="statement not covered" >      clearTimeout(this.id);</span>
<span class="cstat-no" title="statement not covered" >      this.running = false;</span>
<span class="cstat-no" title="statement not covered" >      return this.id = null;</span>
    }
  };
  return Timer;
})();
Timer.start = <span class="fstat-no" title="function not covered" >function(timeout, func) {</span>
<span class="cstat-no" title="statement not covered" >  return setTimeout(func, timeout);</span>
};
&nbsp;
// options
var Options;
__options.Options = Options = (function() {
<span class="fstat-no" title="function not covered" >  function Options() {</span>
<span class="cstat-no" title="statement not covered" >    this.host = null;</span>
<span class="cstat-no" title="statement not covered" >    this.port = 35729;</span>
<span class="cstat-no" title="statement not covered" >    this.snipver = null;</span>
<span class="cstat-no" title="statement not covered" >    this.ext = null;</span>
<span class="cstat-no" title="statement not covered" >    this.extver = null;</span>
<span class="cstat-no" title="statement not covered" >    this.mindelay = 1000;</span>
<span class="cstat-no" title="statement not covered" >    this.maxdelay = 60000;</span>
<span class="cstat-no" title="statement not covered" >    this.handshake_timeout = 5000;</span>
  }
  Options.prototype.set = <span class="fstat-no" title="function not covered" >function(name, value) {</span>
<span class="cstat-no" title="statement not covered" >    switch (typeof this[name]) {</span>
      case 'undefined':
<span class="cstat-no" title="statement not covered" >        break;</span>
      case 'number':
<span class="cstat-no" title="statement not covered" >        return this[name] = +value;</span>
      default:
<span class="cstat-no" title="statement not covered" >        return this[name] = value;</span>
    }
  };
  return Options;
})();
Options.extract = <span class="fstat-no" title="function not covered" >function(document) {</span>
<span class="cstat-no" title="statement not covered" >  var element, keyAndValue, m, mm, options, pair, src, _i, _j, _len, _len2, _ref, _ref2;</span>
<span class="cstat-no" title="statement not covered" >  _ref = document.getElementsByTagName('script');</span>
<span class="cstat-no" title="statement not covered" >  for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >    element = _ref[_i];</span>
<span class="cstat-no" title="statement not covered" >    if ((src = element.src) &amp;&amp; (m = src.match(/^[^:]+:\/\/(.*)\/z?livereload\.js(?:\?(.*))?$/))) {</span>
<span class="cstat-no" title="statement not covered" >      options = new Options();</span>
<span class="cstat-no" title="statement not covered" >      if (mm = m[1].match(/^([^\/:]+)(?::(\d+))?$/)) {</span>
<span class="cstat-no" title="statement not covered" >        options.host = mm[1];</span>
<span class="cstat-no" title="statement not covered" >        if (mm[2]) {</span>
<span class="cstat-no" title="statement not covered" >          options.port = parseInt(mm[2], 10);</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      if (m[2]) {</span>
<span class="cstat-no" title="statement not covered" >        _ref2 = m[2].split('&amp;');</span>
<span class="cstat-no" title="statement not covered" >        for (_j = 0, _len2 = _ref2.length; _j &lt; _len2; _j++) {</span>
<span class="cstat-no" title="statement not covered" >          pair = _ref2[_j];</span>
<span class="cstat-no" title="statement not covered" >          if ((keyAndValue = pair.split('=')).length &gt; 1) {</span>
<span class="cstat-no" title="statement not covered" >            options.set(keyAndValue[0].replace(/-/g, '_'), keyAndValue.slice(1).join('='));</span>
          }
        }
      }
<span class="cstat-no" title="statement not covered" >      return options;</span>
    }
  }
<span class="cstat-no" title="statement not covered" >  return null;</span>
};
&nbsp;
// reloader
// Generated by CoffeeScript 1.3.1
(function() {
  var IMAGE_STYLES, Reloader, numberOfMatchingSegments, pathFromUrl, pathsMatch, pickBestMatch, splitUrl;
&nbsp;
  splitUrl = <span class="fstat-no" title="function not covered" >function(url) {</span>
<span class="cstat-no" title="statement not covered" >    var hash, index, params;</span>
<span class="cstat-no" title="statement not covered" >    if ((index = url.indexOf('#')) &gt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >      hash = url.slice(index);</span>
<span class="cstat-no" title="statement not covered" >      url = url.slice(0, index);</span>
    } else {
<span class="cstat-no" title="statement not covered" >      hash = '';</span>
    }
<span class="cstat-no" title="statement not covered" >    if ((index = url.indexOf('?')) &gt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >      params = url.slice(index);</span>
<span class="cstat-no" title="statement not covered" >      url = url.slice(0, index);</span>
    } else {
<span class="cstat-no" title="statement not covered" >      params = '';</span>
    }
<span class="cstat-no" title="statement not covered" >    return {</span>
      url: url,
      params: params,
      hash: hash
    };
  };
&nbsp;
  pathFromUrl = <span class="fstat-no" title="function not covered" >function(url) {</span>
<span class="cstat-no" title="statement not covered" >    var path;</span>
<span class="cstat-no" title="statement not covered" >    url = splitUrl(url).url;</span>
<span class="cstat-no" title="statement not covered" >    if (url.indexOf('file://') === 0) {</span>
<span class="cstat-no" title="statement not covered" >      path = url.replace(/^file:\/\/(localhost)?/, '');</span>
    } else {
<span class="cstat-no" title="statement not covered" >      path = url.replace(/^([^:]+:)?\/\/([^:\/]+)(:\d*)?\//, '/');</span>
    }
<span class="cstat-no" title="statement not covered" >    return decodeURIComponent(path);</span>
  };
&nbsp;
  pickBestMatch = <span class="fstat-no" title="function not covered" >function(path, objects, pathFunc) {</span>
<span class="cstat-no" title="statement not covered" >    var bestMatch, object, score, _i, _len;</span>
<span class="cstat-no" title="statement not covered" >    bestMatch = {</span>
      score: 0
    };
<span class="cstat-no" title="statement not covered" >    for (_i = 0, _len = objects.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >      object = objects[_i];</span>
<span class="cstat-no" title="statement not covered" >      score = numberOfMatchingSegments(path, pathFunc(object));</span>
<span class="cstat-no" title="statement not covered" >      if (score &gt; bestMatch.score) {</span>
<span class="cstat-no" title="statement not covered" >        bestMatch = {</span>
          object: object,
          score: score
        };
      }
    }
<span class="cstat-no" title="statement not covered" >    if (bestMatch.score &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >      return bestMatch;</span>
    } else {
<span class="cstat-no" title="statement not covered" >      return null;</span>
    }
  };
&nbsp;
  numberOfMatchingSegments = <span class="fstat-no" title="function not covered" >function(path1, path2) {</span>
<span class="cstat-no" title="statement not covered" >    var comps1, comps2, eqCount, len;</span>
<span class="cstat-no" title="statement not covered" >    path1 = path1.replace(/^\/+/, '').toLowerCase();</span>
<span class="cstat-no" title="statement not covered" >    path2 = path2.replace(/^\/+/, '').toLowerCase();</span>
<span class="cstat-no" title="statement not covered" >    if (path1 === path2) {</span>
<span class="cstat-no" title="statement not covered" >      return 10000;</span>
    }
<span class="cstat-no" title="statement not covered" >    comps1 = path1.split('/').reverse();</span>
<span class="cstat-no" title="statement not covered" >    comps2 = path2.split('/').reverse();</span>
<span class="cstat-no" title="statement not covered" >    len = Math.min(comps1.length, comps2.length);</span>
<span class="cstat-no" title="statement not covered" >    eqCount = 0;</span>
<span class="cstat-no" title="statement not covered" >    while (eqCount &lt; len &amp;&amp; comps1[eqCount] === comps2[eqCount]) {</span>
<span class="cstat-no" title="statement not covered" >      ++eqCount;</span>
    }
<span class="cstat-no" title="statement not covered" >    return eqCount;</span>
  };
&nbsp;
  pathsMatch = <span class="fstat-no" title="function not covered" >function(path1, path2) {</span>
<span class="cstat-no" title="statement not covered" >    return numberOfMatchingSegments(path1, path2) &gt; 0;</span>
  };
&nbsp;
  IMAGE_STYLES = [
    {
      selector: 'background',
      styleNames: ['backgroundImage']
    }, {
      selector: 'border',
      styleNames: ['borderImage', 'webkitBorderImage', 'MozBorderImage']
    }
  ];
&nbsp;
  __reloader.Reloader = Reloader = (function() {
&nbsp;
    Reloader.name = 'Reloader';
&nbsp;
<span class="fstat-no" title="function not covered" >    function Reloader(window, console, Timer) {</span>
<span class="cstat-no" title="statement not covered" >      this.window = window;</span>
<span class="cstat-no" title="statement not covered" >      this.console = console;</span>
<span class="cstat-no" title="statement not covered" >      this.Timer = Timer;</span>
<span class="cstat-no" title="statement not covered" >      this.document = this.window.document;</span>
<span class="cstat-no" title="statement not covered" >      this.importCacheWaitPeriod = 200;</span>
<span class="cstat-no" title="statement not covered" >      this.plugins = [];</span>
    }
&nbsp;
    Reloader.prototype.addPlugin = <span class="fstat-no" title="function not covered" >function(plugin) {</span>
<span class="cstat-no" title="statement not covered" >      return this.plugins.push(plugin);</span>
    };
&nbsp;
    Reloader.prototype.analyze = <span class="fstat-no" title="function not covered" >function(callback) {</span>
<span class="cstat-no" title="statement not covered" >      return results;</span>
    };
&nbsp;
    Reloader.prototype.reload = <span class="fstat-no" title="function not covered" >function(path, options) {</span>
<span class="cstat-no" title="statement not covered" >      var plugin, _base, _i, _len, _ref;</span>
<span class="cstat-no" title="statement not covered" >      this.options = options;</span>
<span class="cstat-no" title="statement not covered" >      if ((_base = this.options).stylesheetReloadTimeout == null) {</span>
<span class="cstat-no" title="statement not covered" >        _base.stylesheetReloadTimeout = 15000;</span>
      }
<span class="cstat-no" title="statement not covered" >      _ref = this.plugins;</span>
<span class="cstat-no" title="statement not covered" >      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >        plugin = _ref[_i];</span>
<span class="cstat-no" title="statement not covered" >        if (plugin.reload &amp;&amp; plugin.reload(path, options)) {</span>
<span class="cstat-no" title="statement not covered" >          return;</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      if (options.liveCSS) {</span>
<span class="cstat-no" title="statement not covered" >        if (path.match(/\.css|\.scss|\.sass|\.less$/i)) {</span>
<span class="cstat-no" title="statement not covered" >          if (this.reloadStylesheet(path)) {</span>
<span class="cstat-no" title="statement not covered" >            return;</span>
          }
        }
      }
<span class="cstat-no" title="statement not covered" >      if (options.liveImg) {</span>
<span class="cstat-no" title="statement not covered" >        if (path.match(/\.(jpe?g|png|gif)$/i)) {</span>
<span class="cstat-no" title="statement not covered" >          this.reloadImages(path);</span>
<span class="cstat-no" title="statement not covered" >          return;</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      return this.reloadPage();</span>
    };
&nbsp;
    Reloader.prototype.reloadPage = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >      return this.window.document.location.reload();</span>
    };
&nbsp;
    Reloader.prototype.reloadImages = <span class="fstat-no" title="function not covered" >function(path) {</span>
<span class="cstat-no" title="statement not covered" >      var expando, img, selector, styleNames, styleSheet, _i, _j, _k, _l, _len, _len1, _len2, _len3, _ref, _ref1, _ref2, _ref3, _results;</span>
<span class="cstat-no" title="statement not covered" >      expando = this.generateUniqueString();</span>
<span class="cstat-no" title="statement not covered" >      _ref = this.document.images;</span>
<span class="cstat-no" title="statement not covered" >      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >        img = _ref[_i];</span>
<span class="cstat-no" title="statement not covered" >        if (pathsMatch(path, pathFromUrl(img.src))) {</span>
<span class="cstat-no" title="statement not covered" >          img.src = this.generateCacheBustUrl(img.src, expando);</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      if (this.document.querySelectorAll) {</span>
<span class="cstat-no" title="statement not covered" >        for (_j = 0, _len1 = IMAGE_STYLES.length; _j &lt; _len1; _j++) {</span>
<span class="cstat-no" title="statement not covered" >          _ref1 = IMAGE_STYLES[_j], selector = _ref1.selector, styleNames = _ref1.styleNames;</span>
<span class="cstat-no" title="statement not covered" >          _ref2 = this.document.querySelectorAll("[style*=" + selector + "]");</span>
<span class="cstat-no" title="statement not covered" >          for (_k = 0, _len2 = _ref2.length; _k &lt; _len2; _k++) {</span>
<span class="cstat-no" title="statement not covered" >            img = _ref2[_k];</span>
<span class="cstat-no" title="statement not covered" >            this.reloadStyleImages(img.style, styleNames, path, expando);</span>
          }
        }
      }
<span class="cstat-no" title="statement not covered" >      if (this.document.styleSheets) {</span>
<span class="cstat-no" title="statement not covered" >        _ref3 = this.document.styleSheets;</span>
<span class="cstat-no" title="statement not covered" >        _results = [];</span>
<span class="cstat-no" title="statement not covered" >        for (_l = 0, _len3 = _ref3.length; _l &lt; _len3; _l++) {</span>
<span class="cstat-no" title="statement not covered" >          styleSheet = _ref3[_l];</span>
<span class="cstat-no" title="statement not covered" >          _results.push(this.reloadStylesheetImages(styleSheet, path, expando));</span>
        }
<span class="cstat-no" title="statement not covered" >        return _results;</span>
      }
    };
&nbsp;
    Reloader.prototype.reloadStylesheetImages = <span class="fstat-no" title="function not covered" >function(styleSheet, path, expando) {</span>
<span class="cstat-no" title="statement not covered" >      var rule, rules, styleNames, _i, _j, _len, _len1;</span>
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        rules = styleSheet != null ? styleSheet.cssRules : void 0;</span>
      } catch (e) {
&nbsp;
      }
<span class="cstat-no" title="statement not covered" >      if (!rules) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
<span class="cstat-no" title="statement not covered" >      for (_i = 0, _len = rules.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >        rule = rules[_i];</span>
<span class="cstat-no" title="statement not covered" >        switch (rule.type) {</span>
          case CSSRule.IMPORT_RULE:
<span class="cstat-no" title="statement not covered" >            this.reloadStylesheetImages(rule.styleSheet, path, expando);</span>
<span class="cstat-no" title="statement not covered" >            break;</span>
          case CSSRule.STYLE_RULE:
<span class="cstat-no" title="statement not covered" >            for (_j = 0, _len1 = IMAGE_STYLES.length; _j &lt; _len1; _j++) {</span>
<span class="cstat-no" title="statement not covered" >              styleNames = IMAGE_STYLES[_j].styleNames;</span>
<span class="cstat-no" title="statement not covered" >              this.reloadStyleImages(rule.style, styleNames, path, expando);</span>
            }
<span class="cstat-no" title="statement not covered" >            break;</span>
          case CSSRule.MEDIA_RULE:
<span class="cstat-no" title="statement not covered" >            this.reloadStylesheetImages(rule, path, expando);</span>
        }
      }
    };
&nbsp;
    Reloader.prototype.reloadStyleImages = <span class="fstat-no" title="function not covered" >function(style, styleNames, path, expando) {</span>
<span class="cstat-no" title="statement not covered" >      var newValue, styleName, value, _i, _len,</span>
        _this = this;
<span class="cstat-no" title="statement not covered" >      for (_i = 0, _len = styleNames.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >        styleName = styleNames[_i];</span>
<span class="cstat-no" title="statement not covered" >        value = style[styleName];</span>
<span class="cstat-no" title="statement not covered" >        if (typeof value === 'string') {</span>
<span class="cstat-no" title="statement not covered" >          newValue = value.replace(/\burl\s*\(([^)]*)\)/, <span class="fstat-no" title="function not covered" >function(match, src) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (pathsMatch(path, pathFromUrl(src))) {</span>
<span class="cstat-no" title="statement not covered" >              return "url(" + (_this.generateCacheBustUrl(src, expando)) + ")";</span>
            } else {
<span class="cstat-no" title="statement not covered" >              return match;</span>
            }
          });
<span class="cstat-no" title="statement not covered" >          if (newValue !== value) {</span>
<span class="cstat-no" title="statement not covered" >            style[styleName] = newValue;</span>
          }
        }
      }
    };
&nbsp;
    Reloader.prototype.reloadStylesheet = <span class="fstat-no" title="function not covered" >function(path) {</span>
<span class="cstat-no" title="statement not covered" >      var imported, link, links, match, style, _i, _j, _k, _l, _len, _len1, _len2, _len3, _ref, _ref1,</span>
        _this = this;
<span class="cstat-no" title="statement not covered" >      links = (<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        var _i, _len, _ref, _results;</span>
<span class="cstat-no" title="statement not covered" >        _ref = this.document.getElementsByTagName('link');</span>
<span class="cstat-no" title="statement not covered" >        _results = [];</span>
<span class="cstat-no" title="statement not covered" >        for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >          link = _ref[_i];</span>
<span class="cstat-no" title="statement not covered" >          if (link.rel === 'stylesheet' &amp;&amp; !link.__LiveReload_pendingRemoval) {</span>
<span class="cstat-no" title="statement not covered" >            _results.push(link);</span>
          }
        }
<span class="cstat-no" title="statement not covered" >        return _results;</span>
      }).call(this);
<span class="cstat-no" title="statement not covered" >      imported = [];</span>
<span class="cstat-no" title="statement not covered" >      _ref = this.document.getElementsByTagName('style');</span>
<span class="cstat-no" title="statement not covered" >      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >        style = _ref[_i];</span>
<span class="cstat-no" title="statement not covered" >        if (style.sheet) {</span>
<span class="cstat-no" title="statement not covered" >          this.collectImportedStylesheets(style, style.sheet, imported);</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      for (_j = 0, _len1 = links.length; _j &lt; _len1; _j++) {</span>
<span class="cstat-no" title="statement not covered" >        link = links[_j];</span>
<span class="cstat-no" title="statement not covered" >        this.collectImportedStylesheets(link, link.sheet, imported);</span>
      }
<span class="cstat-no" title="statement not covered" >      if (this.window.StyleFix &amp;&amp; this.document.querySelectorAll) {</span>
<span class="cstat-no" title="statement not covered" >        _ref1 = this.document.querySelectorAll('style[data-href]');</span>
<span class="cstat-no" title="statement not covered" >        for (_k = 0, _len2 = _ref1.length; _k &lt; _len2; _k++) {</span>
<span class="cstat-no" title="statement not covered" >          style = _ref1[_k];</span>
<span class="cstat-no" title="statement not covered" >          links.push(style);</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      this.console.log("LiveReload found " + links.length + " LINKed stylesheets, " + imported.length + " @imported stylesheets");</span>
<span class="cstat-no" title="statement not covered" >      match = pickBestMatch(path, links.concat(imported), <span class="fstat-no" title="function not covered" >function(l) {</span></span>
<span class="cstat-no" title="statement not covered" >        return pathFromUrl(_this.linkHref(l));</span>
      });
<span class="cstat-no" title="statement not covered" >      if (match) {</span>
<span class="cstat-no" title="statement not covered" >        if (match.object.rule) {</span>
<span class="cstat-no" title="statement not covered" >          this.console.log("LiveReload is reloading imported stylesheet: " + match.object.href);</span>
<span class="cstat-no" title="statement not covered" >          this.reattachImportedRule(match.object);</span>
        } else {
<span class="cstat-no" title="statement not covered" >          this.console.log("LiveReload is reloading stylesheet: " + (this.linkHref(match.object)));</span>
<span class="cstat-no" title="statement not covered" >          this.reattachStylesheetLink(match.object);</span>
        }
      } else {
<span class="cstat-no" title="statement not covered" >        this.console.log("LiveReload will reload all stylesheets because path '" + path + "' did not match any specific one");</span>
<span class="cstat-no" title="statement not covered" >        for (_l = 0, _len3 = links.length; _l &lt; _len3; _l++) {</span>
<span class="cstat-no" title="statement not covered" >          link = links[_l];</span>
<span class="cstat-no" title="statement not covered" >          this.reattachStylesheetLink(link);</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      return true;</span>
    };
&nbsp;
    Reloader.prototype.collectImportedStylesheets = <span class="fstat-no" title="function not covered" >function(link, styleSheet, result) {</span>
<span class="cstat-no" title="statement not covered" >      var index, rule, rules, _i, _len;</span>
<span class="cstat-no" title="statement not covered" >      try {</span>
<span class="cstat-no" title="statement not covered" >        rules = styleSheet != null ? styleSheet.cssRules : void 0;</span>
      } catch (e) {
&nbsp;
      }
<span class="cstat-no" title="statement not covered" >      if (rules &amp;&amp; rules.length) {</span>
<span class="cstat-no" title="statement not covered" >        for (index = _i = 0, _len = rules.length; _i &lt; _len; index = ++_i) {</span>
<span class="cstat-no" title="statement not covered" >          rule = rules[index];</span>
<span class="cstat-no" title="statement not covered" >          switch (rule.type) {</span>
            case CSSRule.CHARSET_RULE:
<span class="cstat-no" title="statement not covered" >              continue;</span>
            case CSSRule.IMPORT_RULE:
<span class="cstat-no" title="statement not covered" >              result.push({</span>
                link: link,
                rule: rule,
                index: index,
                href: rule.href
              });
<span class="cstat-no" title="statement not covered" >              this.collectImportedStylesheets(link, rule.styleSheet, result);</span>
<span class="cstat-no" title="statement not covered" >              break;</span>
            default:
<span class="cstat-no" title="statement not covered" >              break;</span>
          }
        }
      }
    };
&nbsp;
    Reloader.prototype.waitUntilCssLoads = <span class="fstat-no" title="function not covered" >function(clone, func) {</span>
<span class="cstat-no" title="statement not covered" >      var callbackExecuted, executeCallback, poll,</span>
        _this = this;
<span class="cstat-no" title="statement not covered" >      callbackExecuted = false;</span>
<span class="cstat-no" title="statement not covered" >      executeCallback = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        if (callbackExecuted) {</span>
<span class="cstat-no" title="statement not covered" >          return;</span>
        }
<span class="cstat-no" title="statement not covered" >        callbackExecuted = true;</span>
<span class="cstat-no" title="statement not covered" >        return func();</span>
      };
<span class="cstat-no" title="statement not covered" >      clone.onload = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        console.log("onload!");</span>
<span class="cstat-no" title="statement not covered" >        _this.knownToSupportCssOnLoad = true;</span>
<span class="cstat-no" title="statement not covered" >        return executeCallback();</span>
      };
<span class="cstat-no" title="statement not covered" >      if (!this.knownToSupportCssOnLoad) {</span>
<span class="cstat-no" title="statement not covered" >        (poll = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >          if (clone.sheet) {</span>
<span class="cstat-no" title="statement not covered" >            console.log("polling!");</span>
<span class="cstat-no" title="statement not covered" >            return executeCallback();</span>
          } else {
<span class="cstat-no" title="statement not covered" >            return _this.Timer.start(50, poll);</span>
          }
        })();
      }
<span class="cstat-no" title="statement not covered" >      return this.Timer.start(this.options.stylesheetReloadTimeout, executeCallback);</span>
    };
&nbsp;
    Reloader.prototype.linkHref = <span class="fstat-no" title="function not covered" >function(link) {</span>
<span class="cstat-no" title="statement not covered" >      return link.href || link.getAttribute('data-href');</span>
    };
&nbsp;
    Reloader.prototype.reattachStylesheetLink = <span class="fstat-no" title="function not covered" >function(link) {</span>
<span class="cstat-no" title="statement not covered" >      var clone, parent,</span>
        _this = this;
<span class="cstat-no" title="statement not covered" >      if (link.__LiveReload_pendingRemoval) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
      }
<span class="cstat-no" title="statement not covered" >      link.__LiveReload_pendingRemoval = true;</span>
<span class="cstat-no" title="statement not covered" >      if (link.tagName === 'STYLE') {</span>
<span class="cstat-no" title="statement not covered" >        clone = this.document.createElement('link');</span>
<span class="cstat-no" title="statement not covered" >        clone.rel = 'stylesheet';</span>
<span class="cstat-no" title="statement not covered" >        clone.media = link.media;</span>
<span class="cstat-no" title="statement not covered" >        clone.disabled = link.disabled;</span>
      } else {
<span class="cstat-no" title="statement not covered" >        clone = link.cloneNode(false);</span>
      }
<span class="cstat-no" title="statement not covered" >      clone.href = this.generateCacheBustUrl(this.linkHref(link));</span>
<span class="cstat-no" title="statement not covered" >      parent = link.parentNode;</span>
<span class="cstat-no" title="statement not covered" >      if (parent.lastChild === link) {</span>
<span class="cstat-no" title="statement not covered" >        parent.appendChild(clone);</span>
      } else {
<span class="cstat-no" title="statement not covered" >        parent.insertBefore(clone, link.nextSibling);</span>
      }
<span class="cstat-no" title="statement not covered" >      return this.waitUntilCssLoads(clone, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        var additionalWaitingTime;</span>
<span class="cstat-no" title="statement not covered" >        if (/AppleWebKit/.test(navigator.userAgent)) {</span>
<span class="cstat-no" title="statement not covered" >          additionalWaitingTime = 5;</span>
        } else {
<span class="cstat-no" title="statement not covered" >          additionalWaitingTime = 200;</span>
        }
<span class="cstat-no" title="statement not covered" >        return _this.Timer.start(additionalWaitingTime, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >          var _ref;</span>
<span class="cstat-no" title="statement not covered" >          if (!link.parentNode) {</span>
<span class="cstat-no" title="statement not covered" >            return;</span>
          }
<span class="cstat-no" title="statement not covered" >          link.parentNode.removeChild(link);</span>
<span class="cstat-no" title="statement not covered" >          clone.onreadystatechange = null;</span>
<span class="cstat-no" title="statement not covered" >          return (_ref = _this.window.StyleFix) != null ? _ref.link(clone) : void 0;</span>
        });
      });
    };
&nbsp;
    Reloader.prototype.reattachImportedRule = <span class="fstat-no" title="function not covered" >function(_arg) {</span>
<span class="cstat-no" title="statement not covered" >      var href, index, link, media, newRule, parent, rule, tempLink,</span>
        _this = this;
<span class="cstat-no" title="statement not covered" >      rule = _arg.rule, index = _arg.index, link = _arg.link;</span>
<span class="cstat-no" title="statement not covered" >      parent = rule.parentStyleSheet;</span>
<span class="cstat-no" title="statement not covered" >      href = this.generateCacheBustUrl(rule.href);</span>
<span class="cstat-no" title="statement not covered" >      media = rule.media.length ? [].join.call(rule.media, ', ') : '';</span>
<span class="cstat-no" title="statement not covered" >      newRule = "@import url(\"" + href + "\") " + media + ";";</span>
<span class="cstat-no" title="statement not covered" >      rule.__LiveReload_newHref = href;</span>
<span class="cstat-no" title="statement not covered" >      tempLink = this.document.createElement("link");</span>
<span class="cstat-no" title="statement not covered" >      tempLink.rel = 'stylesheet';</span>
<span class="cstat-no" title="statement not covered" >      tempLink.href = href;</span>
<span class="cstat-no" title="statement not covered" >      tempLink.__LiveReload_pendingRemoval = true;</span>
<span class="cstat-no" title="statement not covered" >      if (link.parentNode) {</span>
<span class="cstat-no" title="statement not covered" >        link.parentNode.insertBefore(tempLink, link);</span>
      }
<span class="cstat-no" title="statement not covered" >      return this.Timer.start(this.importCacheWaitPeriod, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        if (tempLink.parentNode) {</span>
<span class="cstat-no" title="statement not covered" >          tempLink.parentNode.removeChild(tempLink);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (rule.__LiveReload_newHref !== href) {</span>
<span class="cstat-no" title="statement not covered" >          return;</span>
        }
<span class="cstat-no" title="statement not covered" >        parent.insertRule(newRule, index);</span>
<span class="cstat-no" title="statement not covered" >        parent.deleteRule(index + 1);</span>
<span class="cstat-no" title="statement not covered" >        rule = parent.cssRules[index];</span>
<span class="cstat-no" title="statement not covered" >        rule.__LiveReload_newHref = href;</span>
<span class="cstat-no" title="statement not covered" >        return _this.Timer.start(_this.importCacheWaitPeriod, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >          if (rule.__LiveReload_newHref !== href) {</span>
<span class="cstat-no" title="statement not covered" >            return;</span>
          }
<span class="cstat-no" title="statement not covered" >          parent.insertRule(newRule, index);</span>
<span class="cstat-no" title="statement not covered" >          return parent.deleteRule(index + 1);</span>
        });
      });
    };
&nbsp;
    Reloader.prototype.generateUniqueString = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >      return 'livereload=' + Date.now();</span>
    };
&nbsp;
    Reloader.prototype.generateCacheBustUrl = <span class="fstat-no" title="function not covered" >function(url, expando) {</span>
<span class="cstat-no" title="statement not covered" >      var hash, oldParams, params, _ref;</span>
<span class="cstat-no" title="statement not covered" >      if (expando == null) {</span>
<span class="cstat-no" title="statement not covered" >        expando = this.generateUniqueString();</span>
      }
<span class="cstat-no" title="statement not covered" >      _ref = splitUrl(url), url = _ref.url, hash = _ref.hash, oldParams = _ref.params;</span>
<span class="cstat-no" title="statement not covered" >      if (this.options.overrideURL) {</span>
<span class="cstat-no" title="statement not covered" >        if (url.indexOf(this.options.serverURL) &lt; 0) {</span>
<span class="cstat-no" title="statement not covered" >          url = this.options.serverURL + this.options.overrideURL + "?url=" + encodeURIComponent(url);</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      params = oldParams.replace(/(\?|&amp;)livereload=(\d+)/, <span class="fstat-no" title="function not covered" >function(match, sep) {</span></span>
<span class="cstat-no" title="statement not covered" >        return "" + sep + expando;</span>
      });
<span class="cstat-no" title="statement not covered" >      if (params === oldParams) {</span>
<span class="cstat-no" title="statement not covered" >        if (oldParams.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >          params = "?" + expando;</span>
        } else {
<span class="cstat-no" title="statement not covered" >          params = "" + oldParams + "&amp;" + expando;</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      return url + params + hash;</span>
    };
&nbsp;
    return Reloader;
&nbsp;
  })();
&nbsp;
}).call(this);
&nbsp;
// livereload
var Connector, LiveReload, Options, Reloader, Timer;
&nbsp;
Connector = __connector.Connector;
&nbsp;
Timer = __timer.Timer;
&nbsp;
Options = __options.Options;
&nbsp;
Reloader = __reloader.Reloader;
&nbsp;
__livereload.LiveReload = LiveReload = (function() {
&nbsp;
<span class="fstat-no" title="function not covered" >  function LiveReload(window) {</span>
<span class="cstat-no" title="statement not covered" >    var _this = this;</span>
<span class="cstat-no" title="statement not covered" >    this.window = window;</span>
<span class="cstat-no" title="statement not covered" >    this.listeners = {};</span>
<span class="cstat-no" title="statement not covered" >    this.plugins = [];</span>
<span class="cstat-no" title="statement not covered" >    this.pluginIdentifiers = {};</span>
<span class="cstat-no" title="statement not covered" >    this.console = this.window.location.href.match(/LR-verbose/) &amp;&amp; this.window.console &amp;&amp; this.window.console.log &amp;&amp; this.window.console.error ? this.window.console : {</span>
      log: <span class="fstat-no" title="function not covered" >function() {</span>},
      error: <span class="fstat-no" title="function not covered" >function() {</span>}
    };
<span class="cstat-no" title="statement not covered" >    if (!(this.WebSocket = this.window.WebSocket || this.window.MozWebSocket)) {</span>
<span class="cstat-no" title="statement not covered" >      console.error("LiveReload disabled because the browser does not seem to support web sockets");</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!(this.options = Options.extract(this.window.document))) {</span>
<span class="cstat-no" title="statement not covered" >      console.error("LiveReload disabled because it could not find its own &lt;SCRIPT&gt; tag");</span>
<span class="cstat-no" title="statement not covered" >      return;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.reloader = new Reloader(this.window, this.console, Timer);</span>
<span class="cstat-no" title="statement not covered" >    this.connector = new Connector(this.options, this.WebSocket, Timer, {</span>
      connecting: <span class="fstat-no" title="function not covered" >function() {</span>},
      socketConnected: <span class="fstat-no" title="function not covered" >function() {</span>},
      connected: <span class="fstat-no" title="function not covered" >function(protocol) {</span>
<span class="cstat-no" title="statement not covered" >        var _base;</span>
<span class="cstat-no" title="statement not covered" >        if (typeof (_base = _this.listeners).connect === "function") {</span>
<span class="cstat-no" title="statement not covered" >          _base.connect();</span>
        }
<span class="cstat-no" title="statement not covered" >        _this.log("LiveReload is connected to " + _this.options.host + ":" + _this.options.port + " (protocol v" + protocol + ").");</span>
<span class="cstat-no" title="statement not covered" >        return _this.analyze();</span>
      },
      error: <span class="fstat-no" title="function not covered" >function(e) {</span>
<span class="cstat-no" title="statement not covered" >        if (e instanceof ProtocolError) {</span>
<span class="cstat-no" title="statement not covered" >          return console.log("" + e.message + ".");</span>
        } else {
<span class="cstat-no" title="statement not covered" >          return console.log("LiveReload internal error: " + e.message);</span>
        }
      },
      disconnected: <span class="fstat-no" title="function not covered" >function(reason, nextDelay) {</span>
<span class="cstat-no" title="statement not covered" >        var _base;</span>
<span class="cstat-no" title="statement not covered" >        if (typeof (_base = _this.listeners).disconnect === "function") {</span>
<span class="cstat-no" title="statement not covered" >          _base.disconnect();</span>
        }
<span class="cstat-no" title="statement not covered" >        switch (reason) {</span>
          case 'cannot-connect':
<span class="cstat-no" title="statement not covered" >            return _this.log("LiveReload cannot connect to " + _this.options.host + ":" + _this.options.port + ", will retry in " + nextDelay + " sec.");</span>
          case 'broken':
<span class="cstat-no" title="statement not covered" >            return _this.log("LiveReload disconnected from " + _this.options.host + ":" + _this.options.port + ", reconnecting in " + nextDelay + " sec.");</span>
          case 'handshake-timeout':
<span class="cstat-no" title="statement not covered" >            return _this.log("LiveReload cannot connect to " + _this.options.host + ":" + _this.options.port + " (handshake timeout), will retry in " + nextDelay + " sec.");</span>
          case 'handshake-failed':
<span class="cstat-no" title="statement not covered" >            return _this.log("LiveReload cannot connect to " + _this.options.host + ":" + _this.options.port + " (handshake failed), will retry in " + nextDelay + " sec.");</span>
          case 'manual':
<span class="cstat-no" title="statement not covered" >            break;</span>
          case 'error':
<span class="cstat-no" title="statement not covered" >            break;</span>
          default:
<span class="cstat-no" title="statement not covered" >            return _this.log("LiveReload disconnected from " + _this.options.host + ":" + _this.options.port + " (" + reason + "), reconnecting in " + nextDelay + " sec.");</span>
        }
      },
      message: <span class="fstat-no" title="function not covered" >function(message) {</span>
<span class="cstat-no" title="statement not covered" >        switch (message.command) {</span>
          case 'reload':
<span class="cstat-no" title="statement not covered" >            return _this.performReload(message);</span>
          case 'alert':
<span class="cstat-no" title="statement not covered" >            return _this.performAlert(message);</span>
        }
      }
    });
  }
&nbsp;
  LiveReload.prototype.on = <span class="fstat-no" title="function not covered" >function(eventName, handler) {</span>
<span class="cstat-no" title="statement not covered" >    return this.listeners[eventName] = handler;</span>
  };
&nbsp;
  LiveReload.prototype.log = <span class="fstat-no" title="function not covered" >function(message) {</span>
<span class="cstat-no" title="statement not covered" >    return this.console.log("" + message);</span>
  };
&nbsp;
  LiveReload.prototype.performReload = <span class="fstat-no" title="function not covered" >function(message) {</span>
<span class="cstat-no" title="statement not covered" >    var _ref, _ref2;</span>
<span class="cstat-no" title="statement not covered" >    this.log("LiveReload received reload request for " + message.path + ".");</span>
<span class="cstat-no" title="statement not covered" >    return this.reloader.reload(message.path, {</span>
      liveCSS: (_ref = message.liveCSS) != null ? _ref : true,
      liveImg: (_ref2 = message.liveImg) != null ? _ref2 : true,
      originalPath: message.originalPath || '',
      overrideURL: message.overrideURL || '',
      serverURL: "http://" + this.options.host + ":" + this.options.port
    });
  };
&nbsp;
  LiveReload.prototype.performAlert = <span class="fstat-no" title="function not covered" >function(message) {</span>
<span class="cstat-no" title="statement not covered" >    return alert(message.message);</span>
  };
&nbsp;
  LiveReload.prototype.shutDown = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var _base;</span>
<span class="cstat-no" title="statement not covered" >    this.connector.disconnect();</span>
<span class="cstat-no" title="statement not covered" >    this.log("LiveReload disconnected.");</span>
<span class="cstat-no" title="statement not covered" >    return typeof (_base = this.listeners).shutdown === "function" ? _base.shutdown() : void 0;</span>
  };
&nbsp;
  LiveReload.prototype.hasPlugin = <span class="fstat-no" title="function not covered" >function(identifier) {</span>
<span class="cstat-no" title="statement not covered" >    return !!this.pluginIdentifiers[identifier];</span>
  };
&nbsp;
  LiveReload.prototype.addPlugin = <span class="fstat-no" title="function not covered" >function(pluginClass) {</span>
<span class="cstat-no" title="statement not covered" >    var plugin;</span>
<span class="cstat-no" title="statement not covered" >    var _this = this;</span>
<span class="cstat-no" title="statement not covered" >    if (this.hasPlugin(pluginClass.identifier)) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    this.pluginIdentifiers[pluginClass.identifier] = true;</span>
<span class="cstat-no" title="statement not covered" >    plugin = new pluginClass(this.window, {</span>
      _livereload: this,
      _reloader: this.reloader,
      _connector: this.connector,
      console: this.console,
      Timer: Timer,
      generateCacheBustUrl: <span class="fstat-no" title="function not covered" >function(url) {</span>
<span class="cstat-no" title="statement not covered" >        return _this.reloader.generateCacheBustUrl(url);</span>
      }
    });
<span class="cstat-no" title="statement not covered" >    this.plugins.push(plugin);</span>
<span class="cstat-no" title="statement not covered" >    this.reloader.addPlugin(plugin);</span>
  };
&nbsp;
  LiveReload.prototype.analyze = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var plugin, pluginData, pluginsData, _i, _len, _ref;</span>
<span class="cstat-no" title="statement not covered" >    if (!(this.connector.protocol &gt;= 7)) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >    pluginsData = {};</span>
<span class="cstat-no" title="statement not covered" >    _ref = this.plugins;</span>
<span class="cstat-no" title="statement not covered" >    for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >      plugin = _ref[_i];</span>
<span class="cstat-no" title="statement not covered" >      pluginsData[plugin.constructor.identifier] = pluginData = (typeof plugin.analyze === "function" ? plugin.analyze() : void 0) || {};</span>
<span class="cstat-no" title="statement not covered" >      pluginData.version = plugin.constructor.version;</span>
    }
<span class="cstat-no" title="statement not covered" >    this.connector.sendCommand({</span>
      command: 'info',
      plugins: pluginsData,
      url: this.window.location.href
    });
  };
&nbsp;
  return LiveReload;
&nbsp;
})();
&nbsp;
// less
var LessPlugin;
__less = LessPlugin = (function() {
  LessPlugin.identifier = 'less';
  LessPlugin.version = '1.0';
<span class="fstat-no" title="function not covered" >  function LessPlugin(window, host) {</span>
<span class="cstat-no" title="statement not covered" >    this.window = window;</span>
<span class="cstat-no" title="statement not covered" >    this.host = host;</span>
  }
  LessPlugin.prototype.reload = <span class="fstat-no" title="function not covered" >function(path, options) {</span>
<span class="cstat-no" title="statement not covered" >    if (this.window.less &amp;&amp; this.window.less.refresh) {</span>
<span class="cstat-no" title="statement not covered" >      if (path.match(/\.less$/i)) {</span>
<span class="cstat-no" title="statement not covered" >        return this.reloadLess(path);</span>
      }
<span class="cstat-no" title="statement not covered" >      if (options.originalPath.match(/\.less$/i)) {</span>
<span class="cstat-no" title="statement not covered" >        return this.reloadLess(options.originalPath);</span>
      }
    }
<span class="cstat-no" title="statement not covered" >    return false;</span>
  };
  LessPlugin.prototype.reloadLess = <span class="fstat-no" title="function not covered" >function(path) {</span>
<span class="cstat-no" title="statement not covered" >    var link, links, _i, _len;</span>
<span class="cstat-no" title="statement not covered" >    links = (<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >      var _i, _len, _ref, _results;</span>
<span class="cstat-no" title="statement not covered" >      _ref = document.getElementsByTagName('link');</span>
<span class="cstat-no" title="statement not covered" >      _results = [];</span>
<span class="cstat-no" title="statement not covered" >      for (_i = 0, _len = _ref.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >        link = _ref[_i];</span>
<span class="cstat-no" title="statement not covered" >        if (link.href &amp;&amp; link.rel === 'stylesheet/less' || (link.rel.match(/stylesheet/) &amp;&amp; link.type.match(/^text\/(x-)?less$/))) {</span>
<span class="cstat-no" title="statement not covered" >          _results.push(link);</span>
        }
      }
<span class="cstat-no" title="statement not covered" >      return _results;</span>
    })();
<span class="cstat-no" title="statement not covered" >    if (links.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >      return false;</span>
    }
<span class="cstat-no" title="statement not covered" >    for (_i = 0, _len = links.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >      link = links[_i];</span>
<span class="cstat-no" title="statement not covered" >      link.href = this.host.generateCacheBustUrl(link.href);</span>
    }
<span class="cstat-no" title="statement not covered" >    this.host.console.log("LiveReload is asking LESS to recompile all stylesheets");</span>
<span class="cstat-no" title="statement not covered" >    this.window.less.refresh(true);</span>
<span class="cstat-no" title="statement not covered" >    return true;</span>
  };
  LessPlugin.prototype.analyze = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    return {</span>
      disable: !!(this.window.less &amp;&amp; this.window.less.refresh)
    };
  };
  return LessPlugin;
})();
&nbsp;
// startup
var CustomEvents, LiveReload, k;
CustomEvents = __customevents;
LiveReload = window.LiveReload = new (__livereload.LiveReload)(window);
<span class="cstat-no" title="statement not covered" >for (k in window) {</span>
<span class="cstat-no" title="statement not covered" >  if (k.match(/^LiveReloadPlugin/)) {</span>
<span class="cstat-no" title="statement not covered" >    LiveReload.addPlugin(window[k]);</span>
  }
}
<span class="cstat-no" title="statement not covered" >LiveReload.addPlugin(__less);</span>
<span class="cstat-no" title="statement not covered" >LiveReload.on('shutdown', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  return delete window.LiveReload;</span>
});
<span class="cstat-no" title="statement not covered" >LiveReload.on('connect', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  return CustomEvents.fire(document, 'LiveReloadConnect');</span>
});
<span class="cstat-no" title="statement not covered" >LiveReload.on('disconnect', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  return CustomEvents.fire(document, 'LiveReloadDisconnect');</span>
});
<span class="cstat-no" title="statement not covered" >CustomEvents.bind(document, 'LiveReloadShutDown', <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >  return LiveReload.shutDown();</span>
});
})();
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/livereloadServer.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/livereloadServer.js</span></h1>
    <h2>
        
        Statements: <span class="metric">14.63% <small>(12 / 82)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 24)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 11)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">14.81% <small>(12 / 81)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; livereloadServer.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @livereload
 * @refer http://feedback.livereload.com/knowledgebase/articles/86174-livereload-protocol
 * @refer https://www.npmjs.org/package/node-livereload
 */
var livereloadPath = "" + __dirname + "/../lib/";
&nbsp;
var http = require('http');
var path = require('path');
var url = require('url');
var fs = require('fs');
&nbsp;
var WSServer = require('jdf-ws').Server;
&nbsp;
var Server={};
module.exports = Server;
&nbsp;
/**
 * @init
 */
Server.init = <span class="fstat-no" title="function not covered" >function(options) {</span>
<span class="cstat-no" title="statement not covered" >	var key, opts, value;</span>
<span class="cstat-no" title="statement not covered" >	if ( typeof(options) == 'undefined' ) {</span>
<span class="cstat-no" title="statement not covered" >		var options = {};</span>
	}
<span class="cstat-no" title="statement not covered" >	opts = {</span>
		apiVersion: '1.6',
		//host: '0.0.0.0',
		port: '35729'// 不能变
	};
&nbsp;
<span class="cstat-no" title="statement not covered" >	for (key in opts) {</span>
<span class="cstat-no" title="statement not covered" >		value = opts[key];</span>
<span class="cstat-no" title="statement not covered" >		if (options[key]) {</span>
<span class="cstat-no" title="statement not covered" >			opts[key] = options[value];</span>
		}
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	this.conns = [];</span>
<span class="cstat-no" title="statement not covered" >	this.web = null;</span>
<span class="cstat-no" title="statement not covered" >	this.options = opts;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	console.log("LiveReload is waiting for a browser to connect");</span>
<span class="cstat-no" title="statement not covered" >	var connectTag = true;</span>
<span class="cstat-no" title="statement not covered" >	this.start(<span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >		if (connectTag) {</span>
<span class="cstat-no" title="statement not covered" >			console.log('Browser connected LiveReload');</span>
		}
<span class="cstat-no" title="statement not covered" >		connectTag = false;</span>
	});
};
&nbsp;
Server.reloadBrowser = <span class="fstat-no" title="function not covered" >function(paths) {</span>
<span class="cstat-no" title="statement not covered" >	var conn, data, _i, _len, _results;</span>
<span class="cstat-no" title="statement not covered" >	if (paths == null) {</span>
<span class="cstat-no" title="statement not covered" >		paths = [];</span>
	}
	//console.log("Reloading browser: " + (paths.join(' ')));
<span class="cstat-no" title="statement not covered" >	_results = [];</span>
<span class="cstat-no" title="statement not covered" >	for (_i = 0, _len = paths.length; _i &lt; _len; _i++) {</span>
<span class="cstat-no" title="statement not covered" >		path = paths[_i];</span>
<span class="cstat-no" title="statement not covered" >		data = {</span>
			command: 'reload',
			path: path,
			liveCSS: true,
			liveImg: true
		};
<span class="cstat-no" title="statement not covered" >		_results.push((<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >			var _j, _len1, _ref, _results1;</span>
<span class="cstat-no" title="statement not covered" >			_ref = this.conns;</span>
<span class="cstat-no" title="statement not covered" >			_results1 = [];</span>
<span class="cstat-no" title="statement not covered" >			for (_j = 0, _len1 = _ref.length; _j &lt; _len1; _j++) {</span>
<span class="cstat-no" title="statement not covered" >				conn = _ref[_j];</span>
<span class="cstat-no" title="statement not covered" >				_results1.push(conn.send(JSON.stringify(data)));</span>
			}
<span class="cstat-no" title="statement not covered" >			return _results1;</span>
		}).call(this));
	}
<span class="cstat-no" title="statement not covered" >	return _results;</span>
};
&nbsp;
Server.stop = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >	return this.web.close(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >		if (this.web) {</span>
<span class="cstat-no" title="statement not covered" >			return console.log('Shutdown the server.');</span>
		}
	});
};
&nbsp;
Server.start = <span class="fstat-no" title="function not covered" >function(callback) {</span>
<span class="cstat-no" title="statement not covered" >	var conns, web, wss;</span>
	//console.log("LiveReload " + this.options.apiVersion + " is waiting for a browser to connect.");
<span class="cstat-no" title="statement not covered" >	conns = this.conns;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	web = http.createServer(<span class="fstat-no" title="function not covered" >function(request, response) {</span></span>
<span class="cstat-no" title="statement not covered" >		var body, exists, existsFuc, file, query, read;</span>
<span class="cstat-no" title="statement not covered" >		query = url.parse(request.url, true);</span>
<span class="cstat-no" title="statement not covered" >		existsFuc = fs.existsSync ? fs.existsSync: path.existsSync;</span>
<span class="cstat-no" title="statement not covered" >		file = "" + livereloadPath + query.pathname;</span>
<span class="cstat-no" title="statement not covered" >		exists = existsFuc(file);</span>
<span class="cstat-no" title="statement not covered" >		if (exists &amp;&amp; query.pathname !== '/') {</span>
<span class="cstat-no" title="statement not covered" >			response.writeHead(200, {</span>
				'Transfer-Encoding': 'chunked',
				'Content-Type': 'application/x-javascript'
			});
<span class="cstat-no" title="statement not covered" >			read = fs.createReadStream(file);</span>
<span class="cstat-no" title="statement not covered" >			return read.pipe(response);</span>
		} else {
<span class="cstat-no" title="statement not covered" >			body = 'Not Found';</span>
<span class="cstat-no" title="statement not covered" >			response.writeHead(404, {</span>
				'Content-Length': body.length,
				'Content-Type': 'text/plain'
			});
<span class="cstat-no" title="statement not covered" >			return response.end(body);</span>
		}
	});
&nbsp;
<span class="cstat-no" title="statement not covered" >	web.listen(this.options.port, this.options.host);</span>
<span class="cstat-no" title="statement not covered" >	this.web = web;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	wss = new WSServer({</span>
		server: web,
		path: '/livereload'
	});
	
<span class="cstat-no" title="statement not covered" >	wss.on('connection',<span class="fstat-no" title="function not covered" >function(ws) {</span></span>
<span class="cstat-no" title="statement not covered" >		if(callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
		//console.log('Browser connected.');
<span class="cstat-no" title="statement not covered" >		conns.push(ws);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		ws.on('message', <span class="fstat-no" title="function not covered" >function(msg, flag) {</span></span>
<span class="cstat-no" title="statement not covered" >			var handshake, protocols;</span>
<span class="cstat-no" title="statement not covered" >			msg = JSON.parse(msg);</span>
<span class="cstat-no" title="statement not covered" >			if (msg.command === 'hello') {</span>
<span class="cstat-no" title="statement not covered" >				protocols = msg.protocols;</span>
<span class="cstat-no" title="statement not covered" >				protocols.push('http://livereload.com/protocols/2.x-remote-control');</span>
<span class="cstat-no" title="statement not covered" >				protocols.push('http://livereload.com/protocols/official-7');</span>
<span class="cstat-no" title="statement not covered" >				handshake = {</span>
					'command': 'hello',
					'protocols': protocols,
					'serverName': 'livereload-node'
				};
<span class="cstat-no" title="statement not covered" >				ws.send(JSON.stringify(handshake));</span>
			}
<span class="cstat-no" title="statement not covered" >			if (msg.command === 'info' &amp;&amp; msg['url']) {</span>
				//return console.log("Browser URL: " + msg.url);
			}
		});
		
<span class="cstat-no" title="statement not covered" >		ws.on('close',<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >			conns.splice(conns.indexOf(ws, 1));</span>
			//return console.log('Browser disconnected.');
		});
	});
};
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/log.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/log.js</span></h1>
    <h2>
        
        Statements: <span class="metric">28.57% <small>(8 / 28)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 15)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">28.57% <small>(8 / 28)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; log.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @Logs 
 */
var $ = require('./base.js');
var jdf = require('./jdf.js');
&nbsp;
var log = module.exports;
var os = require('os');
var SERVERURL = '';
&nbsp;
var getIp = <span class="fstat-no" title="function not covered" >function(){</span>
<span class="cstat-no" title="statement not covered" >	var net = os.networkInterfaces();</span>
<span class="cstat-no" title="statement not covered" >    for(var key in net){</span>
<span class="cstat-no" title="statement not covered" >        if(net.hasOwnProperty(key)){</span>
<span class="cstat-no" title="statement not covered" >            var items = net[key];</span>
<span class="cstat-no" title="statement not covered" >            if(items &amp;&amp; items.length){</span>
<span class="cstat-no" title="statement not covered" >                for(var i = 0; i &lt; items.length; i++){</span>
<span class="cstat-no" title="statement not covered" >                    var ip = String(items[i].address).trim();</span>
<span class="cstat-no" title="statement not covered" >                    if(ip &amp;&amp; /^\d+(?:\.\d+){3}$/.test(ip) &amp;&amp; ip !== '127.0.0.1'){</span>
<span class="cstat-no" title="statement not covered" >                        return ip;</span>
                    }
                }
            }
        }
    }
<span class="cstat-no" title="statement not covered" >    return '127.0.0.1';</span>
};
&nbsp;
log.get = <span class="fstat-no" title="function not covered" >function (){</span>
<span class="cstat-no" title="statement not covered" >	var ip = getIp();</span>
<span class="cstat-no" title="statement not covered" >	var version = require('../package.json').version;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	return {</span>
		ip:ip,		
		port:jdf.config.localServerPort,
		platform:os.platform(),
		hostname:os.hostname(),
		version:version,
		//other
		projectname:jdf.getProjectPath()
	}
}
&nbsp;
/**
 * @log send
 */
log.send = <span class="fstat-no" title="function not covered" >function (str){</span>
<span class="cstat-no" title="statement not covered" >	if ( str &amp;&amp; jdf.config.haslog == true){</span>
<span class="cstat-no" title="statement not covered" >		var param = log.get();</span>
<span class="cstat-no" title="statement not covered" >		param.cmd = str;</span>
<span class="cstat-no" title="statement not covered" >		var str = '';</span>
<span class="cstat-no" title="statement not covered" >		for (var i in param){</span>
<span class="cstat-no" title="statement not covered" >			str += i +'=' +param[i]+'&amp;';</span>
		}
<span class="cstat-no" title="statement not covered" >		str = encodeURI(str);</span>
		//console.log(str);
		// $.httpget('http://jdfe.sinaapp.com/log/log.php?'+str);
	}
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/openurl.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/openurl.js</span></h1>
    <h2>
        
        Statements: <span class="metric">28% <small>(7 / 25)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">10% <small>(1 / 10)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">28% <small>(7 / 25)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; openurl.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
* @openurl
* @from https://github.com/rauschma/openurl/blob/master/openurl.js
* @example require("./openurl").open(url);
*/
&nbsp;
var spawn = require('child_process').spawn;
var command;
&nbsp;
switch(process.platform) {
<span class="branch-0 cbranch-no" title="branch not covered" >    case 'darwin':</span>
<span class="cstat-no" title="statement not covered" >        command = 'open';</span>
<span class="cstat-no" title="statement not covered" >        break;</span>
<span class="branch-1 cbranch-no" title="branch not covered" >    case 'win32':</span>
<span class="cstat-no" title="statement not covered" >        command = 'explorer.exe';</span>
<span class="cstat-no" title="statement not covered" >        break;</span>
    case 'linux':
        command = 'xdg-open';
        break;
<span class="branch-3 cbranch-no" title="branch not covered" >    default:</span>
<span class="cstat-no" title="statement not covered" >        throw new Error('Unsupported platform: ' + process.platform);</span>
}
&nbsp;
/**
 * Error handling is deliberately minimal, as this function is to be easy to use for shell scripting
 *
 * @param url The URL to open
 * @param callback A function with a single error argument. Optional.
 */
&nbsp;
<span class="fstat-no" title="function not covered" >function open(url, callback) {</span>
<span class="cstat-no" title="statement not covered" >    var child = spawn(command, [url]);</span>
<span class="cstat-no" title="statement not covered" >    var errorText = "";</span>
<span class="cstat-no" title="statement not covered" >    child.stderr.setEncoding('utf8');</span>
<span class="cstat-no" title="statement not covered" >    child.stderr.on('data', <span class="fstat-no" title="function not covered" >function (data) {</span></span>
<span class="cstat-no" title="statement not covered" >        errorText += data;</span>
    });
<span class="cstat-no" title="statement not covered" >    child.stderr.on('end', <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >        if (errorText.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >            var error = new Error(errorText);</span>
<span class="cstat-no" title="statement not covered" >            if (callback) {</span>
<span class="cstat-no" title="statement not covered" >                callback(error);</span>
            } else {
<span class="cstat-no" title="statement not covered" >                throw error;</span>
            }
        } else <span class="cstat-no" title="statement not covered" >if (callback) {</span>
<span class="cstat-no" title="statement not covered" >            callback(error);</span>
        }
    });
}
&nbsp;
exports.open = open;
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/output.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/output.js</span></h1>
    <h2>
        
        Statements: <span class="metric">6% <small>(9 / 150)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 85)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">6.21% <small>(9 / 145)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; output.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
* @输出处理后的工程文件
* @param {String} options.type 'default' : 默认输出js,css文件夹 如$ jdf o
* @param {String} options.type 'hashtml' : hashtml下输出js,css和html文件夹 如$ jdf o -html
* @param {String} options.type 'custom' : 自定义输出 如$ jdf o app/js/test.js
* @param {String} options.list : 自定义输出的文件路径,如app/js/test.js
* @param {Boolse} options.isbackup 是否备份
* @param {Boolse} options.isdebug 是否为debug
* @param {Function} options.callback 回调函数
* @todo 只复制改动的文件
*/
var path = require('path');
var fs = require('fs');
var Q = require("q");
&nbsp;
&nbsp;
//lib自身组件
var $ = require('./base.js');
var f = require('./file.js');
var jdf = require('./jdf.js');
var CssSprite = require('./cssSprite.js');
<span class="cstat-no" title="statement not covered" >var Concat = require('./concat.js');</span>
<span class="cstat-no" title="statement not covered" >var CompressScheduler = require('./compressScheduler.js');</span>
&nbsp;
//exports
<span class="cstat-no" title="statement not covered" >var output = module.exports = {};</span>
&nbsp;
/**
 * @init
 */
<span class="cstat-no" title="statement not covered" >output.init = <span class="fstat-no" title="function not covered" >function(options){</span></span>
	// console.log(options);
	
<span class="cstat-no" title="statement not covered" >	if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('jdf output ...');	</span></span>
	
<span class="cstat-no" title="statement not covered" >	var type = options.type,</span>
		list = options.list,
		isbackup = options.isbackup,
		isdebug = options.isdebug,
		callback = options.callback;
&nbsp;
<span class="cstat-no" title="statement not covered" >	var outputdirName = jdf.config.outputDirName;</span>
<span class="cstat-no" title="statement not covered" >	var outputComment = jdf.config.output.comment;</span>
<span class="cstat-no" title="statement not covered" >	var encoding = jdf.config.output.encoding;</span>
<span class="cstat-no" title="statement not covered" >	var excludeFiles = jdf.config.output.excludeFiles;</span>
<span class="cstat-no" title="statement not covered" >		excludeFiles = excludeFiles ? excludeFiles + '|.vm|.scss|.less|.psd' : '.vm|.scss|.less|.psd';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var weinre = jdf.config.build.weinre;</span>
<span class="cstat-no" title="statement not covered" >	var outputdir = outputdirName+'/'+ (options.projectPath || jdf.getProjectPath());</span>
<span class="cstat-no" title="statement not covered" >	var isbackup = typeof(isbackup) == 'undefined' ? false : isbackup;</span>
	
	//[notice]输出路径暂不可配置
<span class="cstat-no" title="statement not covered" >	var cssDir = path.normalize( jdf.bgCurrentDir + '/' + jdf.config.cssDir );</span>
<span class="cstat-no" title="statement not covered" >	var imagesDir = path.normalize( jdf.bgCurrentDir + '/' + jdf.config.imagesDir );</span>
<span class="cstat-no" title="statement not covered" >	var jsDir =  path.normalize( jdf.bgCurrentDir + '/' + jdf.config.jsDir );</span>
<span class="cstat-no" title="statement not covered" >	var htmlDir = path.normalize( jdf.bgCurrentDir + '/' + jdf.config.htmlDir );</span>
<span class="cstat-no" title="statement not covered" >	var widgetDir = path.normalize( jdf.bgCurrentDir + '/' + jdf.config.widgetDir );</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	var debugHtml = '';</span>
<span class="cstat-no" title="statement not covered" >	if(weinre){</span>
<span class="cstat-no" title="statement not covered" >		fs.readdirSync(htmlDir).forEach(<span class="fstat-no" title="function not covered" >function(name){</span></span>
<span class="cstat-no" title="statement not covered" >			var pathname = path.join(htmlDir, name);</span>
<span class="cstat-no" title="statement not covered" >			if(f.isFile(pathname)){</span>
<span class="cstat-no" title="statement not covered" >				debugHtml += '&lt;li style="padding-bottom:0.2em;"&gt;&lt;a target="_blank" href="'+mobileWeinre(pathname)+'"&gt;'+name+'&lt;/a&gt;&lt;/li&gt;';</span>
			}
		});
&nbsp;
<span class="cstat-no" title="statement not covered" >		debugHtml = '&lt;ul&gt;'+debugHtml+'&lt;/ul&gt;';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		f.write(path.join(htmlDir, '_debug.html'), debugHtml);</span>
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	var core = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >		var logText = 'jdf output success!';</span>
<span class="cstat-no" title="statement not covered" >		var copyDefaultDir = <span class="fstat-no" title="function not covered" >function(){</span></span>
			//jdf.config.baseDir是一期目录规划的问题
<span class="cstat-no" title="statement not covered" >			var cssOutputDir = outputdir + '/' + jdf.config.cssDir.replace(jdf.config.baseDir+'/', '');</span>
<span class="cstat-no" title="statement not covered" >			var imagesOutputDir = outputdir + '/' + jdf.config.imagesDir;</span>
<span class="cstat-no" title="statement not covered" >			if(jdf.config.baseDir != ''){</span>
<span class="cstat-no" title="statement not covered" >				imagesOutputDir = outputdir + '/' + jdf.config.imagesDir.replace(jdf.config.baseDir+'/', '');</span>
			}
<span class="cstat-no" title="statement not covered" >			var jsOutputDir = outputdir + '/' + jdf.config.jsDir.replace(jdf.config.baseDir+'/', '');</span>
&nbsp;
			//图片目录不位于css/i中
<span class="cstat-no" title="statement not covered" >			if(jdf.config.imagesDir.split(jdf.config.cssDir).length  == 1 ){</span>
<span class="cstat-no" title="statement not covered" >				f.copy(imagesDir, imagesOutputDir);</span>
			}
			
<span class="cstat-no" title="statement not covered" >			f.copy(cssDir, cssOutputDir, '(css|'+$.imageFileType()+')$', (excludeFiles ? excludeFiles : '(less|scss)$'), null, null, null, encoding);</span>
			
<span class="cstat-no" title="statement not covered" >			if(!jdf.config.build.es6Entry){</span>
<span class="cstat-no" title="statement not covered" >				f.copy(jsDir, jsOutputDir, (isdebug ? '(js|map)$' : 'js$'), (excludeFiles ? excludeFiles : 'babel$'), null, null, null, encoding);</span>
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >			f.copy(htmlDir, outputdir+'/'+ (</span>
				jdf.config.outputHtmlDir == null 
				? jdf.config.htmlDir 
				: jdf.config.outputHtmlDir
			), null, excludeFiles, null, null, null, encoding);
&nbsp;
			// 输出widget todo 可配置
<span class="cstat-no" title="statement not covered" >			var outputWidgetDir = outputdir+'/'+jdf.config.widgetDir;</span>
<span class="cstat-no" title="statement not covered" >			f.copy(widgetDir, outputWidgetDir,  '(js|css|'+$.imageFileType()+(isdebug ? '|map' : '') + ')$', (excludeFiles ? excludeFiles : '(less|scss|psd)$'), null, null, null, encoding);</span>
			
<span class="cstat-no" title="statement not covered" >			if(f.exists(widgetDir)){</span>
				
				//将所有widget/images复制到html/images
<span class="cstat-no" title="statement not covered" >				fs.readdirSync(widgetDir).forEach(<span class="fstat-no" title="function not covered" >function(dir){</span></span>
<span class="cstat-no" title="statement not covered" >					var source = widgetDir + '/' + dir;</span>
<span class="cstat-no" title="statement not covered" >					if(f.isDir(source) &amp;&amp; f.exists(source + '/images') ){</span>
<span class="cstat-no" title="statement not covered" >						f.mkdir(jdf.config.htmlDir+'/images');</span>
<span class="cstat-no" title="statement not covered" >						f.copy(source + '/images', outputdir + '/' + jdf.config.htmlDir+ '/images', null, null, null, null, null, encoding);</span>
					};
				});
&nbsp;
				//复制到widget的目标目录之后，再将空目录删除
<span class="cstat-no" title="statement not covered" >				fs.readdirSync(outputWidgetDir).forEach(<span class="fstat-no" title="function not covered" >function(dir){</span></span>
<span class="cstat-no" title="statement not covered" >					var realpath = fs.realpathSync(outputWidgetDir + '/' + dir);</span>
<span class="cstat-no" title="statement not covered" >					var dirs = fs.readdirSync(realpath);</span>
<span class="cstat-no" title="statement not covered" >					var files = f.getdirlist(realpath);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >					if(files.length == 0 &amp;&amp; dirs.length == 0){</span>
<span class="cstat-no" title="statement not covered" >						fs.rmdirSync(realpath);</span>
					}
				});
&nbsp;
				//combineWidgetCss下widget中的图片widgert/a/i/a.png输出至css/i/目录下
<span class="cstat-no" title="statement not covered" >				if (jdf.config.output.combineWidgetCss){</span>
<span class="cstat-no" title="statement not covered" >					f.mkdir(imagesOutputDir);</span>
<span class="cstat-no" title="statement not covered" >					var imgList = f.getdirlist(widgetDir, $.imageFileType()+'$');</span>
<span class="cstat-no" title="statement not covered" >					imgList.forEach(<span class="fstat-no" title="function not covered" >function(imgListItem){</span></span>
<span class="cstat-no" title="statement not covered" >						f.copy(imgListItem, imagesOutputDir+'/'+ path.basename(imgListItem), null, null, null, null, null, encoding);</span>
					});
				}
			}
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		var customItemRes='';</span>
<span class="cstat-no" title="statement not covered" >		var customTag= true;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		switch (type){</span>
			case 'default' :
<span class="cstat-no" title="statement not covered" >				copyDefaultDir();</span>
<span class="cstat-no" title="statement not covered" >				break ;</span>
			case 'prod':
<span class="cstat-no" title="statement not covered" >				copyDefaultDir();</span>
<span class="cstat-no" title="statement not covered" >				break;</span>
			case 'pub':
<span class="cstat-no" title="statement not covered" >				copyDefaultDir();</span>
<span class="cstat-no" title="statement not covered" >				break;	</span>
			case 'plain':
<span class="cstat-no" title="statement not covered" >				copyDefaultDir();</span>
<span class="cstat-no" title="statement not covered" >				customTag = false;</span>
<span class="cstat-no" title="statement not covered" >				break;</span>
			// case 'hashtml': 
			// 	copyDefaultDir();
&nbsp;
			// 	f.copy(htmlDir, outputdir+'/html', null, excludeFiles, null, null, null, encoding);
			// 	break;
			case 'custom':
<span class="cstat-no" title="statement not covered" >				if(!list) <span class="cstat-no" title="statement not covered" >return;</span></span>
<span class="cstat-no" title="statement not covered" >				var listArray = list.split(',');</span>
<span class="cstat-no" title="statement not covered" >				for (var i=0; i&lt;listArray.length; i++ ){</span>
<span class="cstat-no" title="statement not covered" >					var item = listArray[i];</span>
<span class="cstat-no" title="statement not covered" >					if ( f.exists(item) ) {</span>
<span class="cstat-no" title="statement not covered" >						var dirname = path.dirname(item);</span>
<span class="cstat-no" title="statement not covered" >						var basename = path.basename(item);</span>
<span class="cstat-no" title="statement not covered" >						if($.is.less(basename) || $.is.sass(basename)){</span>
<span class="cstat-no" title="statement not covered" >							basename = basename.replace(/(sass|scss|less)/g, 'css');</span>
						}
&nbsp;
<span class="cstat-no" title="statement not covered" >						var source = path.normalize( jdf.bgCurrentDir + '/'+ dirname  +'/'+ basename );</span>
						
<span class="cstat-no" title="statement not covered" >						if (isbackup){ </span>
<span class="cstat-no" title="statement not covered" >							backupProject(item, encoding);</span>
						}else {
<span class="cstat-no" title="statement not covered" >							var dirnameTemp = '';</span>
<span class="cstat-no" title="statement not covered" >							if (dirname != '.') {</span>
<span class="cstat-no" title="statement not covered" >								dirnameTemp = dirname.replace(jdf.config.baseDir,'');</span>
<span class="cstat-no" title="statement not covered" >								dirnameTemp = '/' + dirnameTemp;</span>
							}
<span class="cstat-no" title="statement not covered" >							var targetBase = outputdir + dirnameTemp;</span>
<span class="cstat-no" title="statement not covered" >							var target = path.normalize(targetBase +'/'+ basename );</span>
<span class="cstat-no" title="statement not covered" >							var targetdir = path.normalize(targetBase);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >							f.mkdir(targetdir);</span>
							//jdf u widget/xxx/时要过滤某些文件
<span class="cstat-no" title="statement not covered" >							f.copy(source, target, null, (excludeFiles ? excludeFiles : '(vm|tpl|less|scss|psd)$'), null, null, null, encoding);</span>
<span class="cstat-no" title="statement not covered" >							customItemRes+=item+',';</span>
						}
					}
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				if (customItemRes == ''){</span>
<span class="cstat-no" title="statement not covered" >					customTag = false;</span>
<span class="cstat-no" title="statement not covered" >					console.log('jdf error ['+list+'] is not exists');</span>
				}
<span class="cstat-no" title="statement not covered" >				if (!isbackup) { <span class="cstat-no" title="statement not covered" >logText = 'jdf output ['+customItemRes+'] done!';}</span></span>
<span class="cstat-no" title="statement not covered" >				break;</span>
		}
&nbsp;
		//backup jsdir, cssdir, widgetdir to tags dir
<span class="cstat-no" title="statement not covered" >		if (type == 'backup') {</span>
<span class="cstat-no" title="statement not covered" >			backupProject(undefined, encoding);</span>
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >        if(customTag){</span>
<span class="cstat-no" title="statement not covered" >            Q().then(<span class="fstat-no" title="function not covered" >function (){</span></span>
				//css sprite
<span class="cstat-no" title="statement not covered" >				if(!isbackup){</span>
<span class="cstat-no" title="statement not covered" >					if(jdf.config.output.cssSprite){</span>
<span class="cstat-no" title="statement not covered" >						CssSprite.init(outputdirName);</span>
					}
				}
			}).then(<span class="fstat-no" title="function not covered" >function (){</span>
				//压缩 1.0
				/*	
				if(!isbackup){
					var Compress = require('./compress.js');
					Compress.init(outputdirName, isdebug);		
				}*/
<span class="cstat-no" title="statement not covered" >				if(jdf.config.build.hasCmdLog) <span class="cstat-no" title="statement not covered" >console.log('jdf compress ...');</span></span>
<span class="cstat-no" title="statement not covered" >				CompressScheduler.init(outputdirName, isdebug, <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >					Q().then(<span class="fstat-no" title="function not covered" >function (){</span></span>
	                    //合并
<span class="cstat-no" title="statement not covered" >	                    if(!isbackup){</span>
<span class="cstat-no" title="statement not covered" >	                        Concat.init(outputdirName);</span>
	                    }
	                }).then(<span class="fstat-no" title="function not covered" >function (){</span>
	                    //callback
<span class="cstat-no" title="statement not covered" >	                    if(callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
	                }).then(<span class="fstat-no" title="function not covered" >function (){</span>
	                    //log
<span class="cstat-no" title="statement not covered" >	                    if(!isbackup){</span>
<span class="cstat-no" title="statement not covered" >	                        console.log(logText);</span>
	                    }
	                });
				});
			})
        }else{
<span class="cstat-no" title="statement not covered" >        	console.log(logText);</span>
        }
	}
	
<span class="cstat-no" title="statement not covered" >	if (f.exists(outputdirName)) {</span>
<span class="cstat-no" title="statement not covered" >    	f.del(outputdirName,<span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >			core();</span>
		});
	}else {
<span class="cstat-no" title="statement not covered" >		core();</span>
	}
}
&nbsp;
/**
 * @mobileWeinre
 * @在页面的body标签最后插入一个&lt;script src="http://123.56.105.44:8080/target/target-script-min.js#20150810145518"&gt;&lt;/script&gt;
 */
<span class="fstat-no" title="function not covered" >function mobileWeinre(pathname){</span>
<span class="cstat-no" title="statement not covered" >	var timestamp = $.getTimestamp();</span>
<span class="cstat-no" title="statement not covered" >	var weinreUrl = jdf.config.build.weinreUrl + '/target/target-script-min.js#' + timestamp;</span>
<span class="cstat-no" title="statement not covered" >	var content = f.read(pathname);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	content = $.placeholder.insertBody(content, '&lt;script src="' + weinreUrl + '"&gt;&lt;/script&gt;');</span>
<span class="cstat-no" title="statement not covered" >	f.write(pathname, content);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	return jdf.config.build.weinreUrl + '/client#' + timestamp;</span>
}
&nbsp;
/**
* @备份工程文件至 "tags/日期" 文件夹
* @time 2014-3-18 15:20:43
*/
<span class="fstat-no" title="function not covered" >function backupProject(dirname, encoding){</span>
<span class="cstat-no" title="statement not covered" >    var tagsDirName = 'tags/'+ $.getDay()+'/';</span>
<span class="cstat-no" title="statement not covered" >	var tagsDir = jdf.getProjectParentPath(jdf.currentDir) +'/' +tagsDirName;</span>
<span class="cstat-no" title="statement not covered" >	var logMsg = '';</span>
&nbsp;
	//backup all
<span class="cstat-no" title="statement not covered" >	if (typeof(dirname) == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >		f.copy(jdf.currentDir +'/'+ jdf.config.cssDir, tagsDir  + jdf.config.cssDir, null, null, null, null, null, encoding);</span>
<span class="cstat-no" title="statement not covered" >		f.copy(jdf.currentDir +'/'+ jdf.config.jsDir, tagsDir +  jdf.config.jsDir, null, null, null, null, null, encoding);</span>
<span class="cstat-no" title="statement not covered" >		f.copy(jdf.currentDir +'/'+ jdf.config.widgetDir, tagsDir + jdf.config.widgetDir, null, null, null, null, null, encoding);</span>
<span class="cstat-no" title="statement not covered" >		logMsg = jdf.config.cssDir +','+jdf.config.jsDir +','+jdf.config.widgetDir;</span>
	}else {
	//custom backup
<span class="cstat-no" title="statement not covered" >		f.copy(jdf.currentDir +'/'+ dirname, tagsDir + dirname, null, null, null, null, null, encoding);</span>
<span class="cstat-no" title="statement not covered" >		logMsg = dirname;</span>
	}
<span class="cstat-no" title="statement not covered" >	console.log('jdf backup ['+logMsg+'] to "'+ tagsDirName + '" done! ');</span>
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/server.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/server.js</span></h1>
    <h2>
        
        Statements: <span class="metric">9.92% <small>(13 / 131)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 63)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 15)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">10.08% <small>(13 / 129)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; server.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
* @simple server
*/
var PORT = 3000;
var http = require('http');
var url=require('url');
var fs=require('fs');
var path=require('path');
&nbsp;
var f = require('./file.js');
//var jdf = require('./jdf.js');
//var compress = require('./compress.js');
&nbsp;
var mine = {
  "css": "text/css",
  "gif": "image/gif",
  "html": "text/html",
  "tpl": "text/html",
  "vm": "text/html",
  "shtml": "text/html",
  "ico": "image/x-icon",
  "jpeg": "image/jpeg",
  "jpg": "image/jpeg",
  "js": "text/javascript",
  "json": "application/json",
  "pdf": "application/pdf",
  "png": "image/png",
  "svg": "image/svg+xml",
  "swf": "application/x-shockwave-flash",
  "tiff": "image/tiff",
  "txt": "text/plain",
  "wav": "audio/x-wav",
  "wma": "audio/x-ms-wma",
  "wmv": "video/x-ms-wmv",
  "xml": "text/xml",
  "ttf":"font/ttf",
  "otf":"font/opentype",
  "woff":"application/font-woff",
  "woff2":"application/font-woff2",
  "eot":"application/vnd.ms-fontobject"
};
&nbsp;
//exports
var server = module.exports = {};
&nbsp;
/**
* @getIp
*/
server.getIp = <span class="fstat-no" title="function not covered" >function(){</span>
<span class="cstat-no" title="statement not covered" >	var net = require('os').networkInterfaces();</span>
<span class="cstat-no" title="statement not covered" >    for(var key in net){</span>
<span class="cstat-no" title="statement not covered" >        if(net.hasOwnProperty(key)){</span>
<span class="cstat-no" title="statement not covered" >            var items = net[key];</span>
<span class="cstat-no" title="statement not covered" >            if(items &amp;&amp; items.length){</span>
<span class="cstat-no" title="statement not covered" >                for(var i = 0; i &lt; items.length; i++){</span>
<span class="cstat-no" title="statement not covered" >                    var ip = String(items[i].address).trim();</span>
<span class="cstat-no" title="statement not covered" >                    if(ip &amp;&amp; /^\d+(?:\.\d+){3}$/.test(ip) &amp;&amp; ip !== '127.0.0.1'){</span>
<span class="cstat-no" title="statement not covered" >                        return ip;</span>
                    }
                }
            }
        }
    }
<span class="cstat-no" title="statement not covered" >    return '127.0.0.1';</span>
};
&nbsp;
/**
 * @joinbuffers
 */
server.joinbuffers = <span class="fstat-no" title="function not covered" >function(bufferStore) {</span>
<span class="cstat-no" title="statement not covered" >    var length = bufferStore.reduce(<span class="fstat-no" title="function not covered" >function(previous, current) {</span></span>
<span class="cstat-no" title="statement not covered" >        return previous + current.length;</span>
    }, 0);
&nbsp;
<span class="cstat-no" title="statement not covered" >    var data = new Buffer(length);</span>
<span class="cstat-no" title="statement not covered" >    var startPos = 0;</span>
<span class="cstat-no" title="statement not covered" >    bufferStore.forEach(<span class="fstat-no" title="function not covered" >function(buffer){</span></span>
<span class="cstat-no" title="statement not covered" >        buffer.copy(data, startPos);</span>
<span class="cstat-no" title="statement not covered" >        startPos += buffer.length;</span>
    });
<span class="cstat-no" title="statement not covered" >    return data;</span>
};
&nbsp;
/**
* @init
* @param {String} serverCurrentDir 服务器文件夹本地路径
* @param {String} port 服务器端口号
* @param {String} cdn cdn文件夹前缀 http://cdn.com
* @param {String} replacePath cdn替换路径字符 如vip/2014 : http://cdn.com/vip/2014/js/vip.index.js ---&gt; http://cdn.com/js/vip.index.js 本地调试反向代理适用
* @param {String} debug debug模式下替换http链接中的projectPath
* @param {Function} callback 调用完成回调函数
*/
server.init = <span class="fstat-no" title="function not covered" >function(serverCurrentDir, port, cdn, replacePath, comboDebug, addJsDepends, callback){</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	if (typeof(port) != 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >		PORT = port;</span>
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	if (typeof(comboDebug) == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >		comboDebug = false;</span>
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	var config = http.createServer(<span class="fstat-no" title="function not covered" >function (request, response) {</span></span>
<span class="cstat-no" title="statement not covered" >		var requestUrl = request.url;</span>
<span class="cstat-no" title="statement not covered" >		var isComboUrl = /\?\?/.test(requestUrl);</span>
<span class="cstat-no" title="statement not covered" >		var pathname = url.parse(requestUrl).pathname;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		if (typeof(serverCurrentDir) == 'undefined') {</span>
<span class="cstat-no" title="statement not covered" >			var realPath = fs.realpathSync('.') +'/'+ pathname;</span>
		}else {
<span class="cstat-no" title="statement not covered" >			var realPath = serverCurrentDir +'/'+ pathname;</span>
		}
<span class="cstat-no" title="statement not covered" >		realPath = decodeURI(realPath);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		var ext = path.extname(realPath);</span>
<span class="cstat-no" title="statement not covered" >		ext = ext ? ext.slice(1) : 'unknown';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >		if(isComboUrl){</span>
			/**
				??a.js,b.js计算.js扩展名
				??a.css,b.css计算.css扩展名
			*/
<span class="cstat-no" title="statement not covered" >			var comboUrlTemp = requestUrl.split(',');</span>
<span class="cstat-no" title="statement not covered" >			ext = path.extname(comboUrlTemp[comboUrlTemp.length-1]);</span>
<span class="cstat-no" title="statement not covered" >			ext = ext ? ext.slice(1) : 'unknown';</span>
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		if(typeof(replacePath) != 'undefined' &amp;&amp; comboDebug){</span>
			//替换掉路径中projectPath, 有风险吗?
<span class="cstat-no" title="statement not covered" >			realPath = realPath.replace(replacePath,'');</span>
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		var response404 = <span class="fstat-no" title="function not covered" >function (){</span></span>
<span class="cstat-no" title="statement not covered" >			response.writeHead(404, {</span>
				'Content-Type': 'text/html'
			});
<span class="cstat-no" title="statement not covered" >			response.write('&lt;meta charset=UTF-8&gt;&lt;meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"&gt;&lt;center&gt;&lt;h1&gt;404 Not Found&lt;/h1&gt;&lt;/center&gt;&lt;hr&gt;&lt;center&gt;'+server.copyright(PORT)+'&lt;/center&gt;');</span>
<span class="cstat-no" title="statement not covered" >			response.end();</span>
		}
&nbsp;
<span class="cstat-no" title="statement not covered" >		fs.exists(realPath, <span class="fstat-no" title="function not covered" >function (exists) {</span></span>
<span class="cstat-no" title="statement not covered" >			var cdnUrl = cdn+pathname;</span>
<span class="cstat-no" title="statement not covered" >			if(!exists){</span>
<span class="cstat-no" title="statement not covered" >				response404();</span>
<span class="cstat-no" title="statement not covered" >				return;</span>
			}
<span class="cstat-no" title="statement not covered" >			if (isComboUrl) {</span>
				//cdn检测同名文件
				//todo增加短路径支持 requestUrl
<span class="cstat-no" title="statement not covered" >				cdnUrl = requestUrl;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				var contentType = mine[ext] || "text/plain";</span>
<span class="cstat-no" title="statement not covered" >				var fileContent = '';</span>
&nbsp;
				//以??先分隔为数组
<span class="cstat-no" title="statement not covered" >				var comboUrl = requestUrl.split('??');</span>
<span class="cstat-no" title="statement not covered" >				var comboFile = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(comboUrl.length &gt; 0){</span>
					//将头尾的斜杠去掉
					// comboUrl[0] = comboUrl[0].replace(/^\//, '').replace(/\/$/, '');
&nbsp;
<span class="cstat-no" title="statement not covered" >					if(comboUrl[1]){</span>
						//以逗号将文件名称分隔为数组
<span class="cstat-no" title="statement not covered" >						comboFile = comboUrl[1].split(',');</span>
					}
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				comboFile.forEach(<span class="fstat-no" title="function not covered" >function(file){</span></span>
<span class="cstat-no" title="statement not covered" >					var fileDir = '';</span>
<span class="cstat-no" title="statement not covered" >					var content = '';</span>
&nbsp;
					//将头尾的斜杠去掉
<span class="cstat-no" title="statement not covered" >					file = file.replace(/^\//, '').replace(/\/$/, '');</span>
<span class="cstat-no" title="statement not covered" >					if(comboUrl[0] !== ''){</span>
<span class="cstat-no" title="statement not covered" >						fileDir = comboUrl[0] + '/' + file;</span>
					}else{
<span class="cstat-no" title="statement not covered" >						fileDir = file;</span>
					}
&nbsp;
<span class="cstat-no" title="statement not covered" >					var currentDir = serverCurrentDir + fileDir;</span>
<span class="cstat-no" title="statement not covered" >					if(f.exists(currentDir)){</span>
<span class="cstat-no" title="statement not covered" >						content = f.read(currentDir);</span>
<span class="cstat-no" title="statement not covered" >						if( typeof(addJsDepends) == 'function' ){</span>
<span class="cstat-no" title="statement not covered" >							content = addJsDepends(currentDir);</span>
						}
&nbsp;
						//如果代码的末尾没有分号，则自动添加一个。以避免代码合并出现异常。
<span class="cstat-no" title="statement not covered" >						if(!/[;\r\n]$/.test(content) &amp;&amp; ext == 'js'){</span>
<span class="cstat-no" title="statement not covered" >							content += ';';</span>
						}
<span class="cstat-no" title="statement not covered" >						fileContent += content;</span>
					}else{
<span class="cstat-no" title="statement not covered" >						fileDir = cdnUrl + fileDir;</span>
<span class="cstat-no" title="statement not covered" >						response404();</span>
					}
				});
&nbsp;
<span class="cstat-no" title="statement not covered" >				response.writeHead(200, {</span>
					'Content-Type': contentType
				});
<span class="cstat-no" title="statement not covered" >				response.write(fileContent);</span>
<span class="cstat-no" title="statement not covered" >				response.end();</span>
&nbsp;
			} else {
<span class="cstat-no" title="statement not covered" >				if(f.isDir(realPath)){</span>
<span class="cstat-no" title="statement not covered" >					fs.readdir(realPath, <span class="fstat-no" title="function not covered" >function (err, file) {</span></span>
<span class="cstat-no" title="statement not covered" >						if (err) {</span>
<span class="cstat-no" title="statement not covered" >							response.writeHead(500, {</span>
								'Content-Type': mine.html
							});
<span class="cstat-no" title="statement not covered" >							response.end(err);</span>
						} else {
<span class="cstat-no" title="statement not covered" >							response.writeHead(200, {</span>
								'Content-Type': "text/html"
							});
&nbsp;
<span class="cstat-no" title="statement not covered" >							var html = server.getDirList(realPath, pathname, PORT);</span>
<span class="cstat-no" title="statement not covered" >							response.end(html, "binary");</span>
						}
					});
				}
&nbsp;
<span class="cstat-no" title="statement not covered" >				if(f.isFile(realPath)){</span>
<span class="cstat-no" title="statement not covered" >					var ext = path.extname(realPath);</span>
<span class="cstat-no" title="statement not covered" >					ext = ext.replace('.', '');</span>
<span class="cstat-no" title="statement not covered" >					var contentType = mine[ext] || "text/plain";</span>
<span class="cstat-no" title="statement not covered" >					var content = fs.readFileSync(realPath);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    				response.writeHead(200, {</span>
						'Content-Type': contentType
					});
&nbsp;
<span class="cstat-no" title="statement not covered" >					response.end(content);</span>
				}
			}
		});
	});
	
<span class="cstat-no" title="statement not covered" >	config.listen(PORT, <span class="fstat-no" title="function not covered" >function(err){</span></span>
<span class="cstat-no" title="statement not covered" >		if(callback) <span class="cstat-no" title="statement not covered" >callback(1);</span></span>
	});
&nbsp;
<span class="cstat-no" title="statement not covered" >	config.on('error', <span class="fstat-no" title="function not covered" >function(err){</span></span>
<span class="cstat-no" title="statement not covered" >		if(callback) <span class="cstat-no" title="statement not covered" >callback(0);</span></span>
	});
}
&nbsp;
/**
* @get copyright
*/
server.copyright = <span class="fstat-no" title="function not covered" >function (port){</span>
<span class="cstat-no" title="statement not covered" >	var serverIp = server.getIp()+':'+port;</span>
<span class="cstat-no" title="statement not covered" >	var copyright = '&lt;p&gt;&lt;strong style="font-size:1.2em"&gt;jdf server &lt;/strong&gt;'+</span>
		' &lt;strong&gt;IP&lt;/strong&gt; &lt;a href="http://'+serverIp+'"&gt;'+serverIp+'&lt;/a&gt;   '+	
		//'&lt;span style="font-size:0.8em"&gt;'+new Date()+'&lt;/span&gt;  '+
	'&lt;/p&gt;';
<span class="cstat-no" title="statement not covered" >	return copyright;</span>
}
&nbsp;
/**
* @get dir list
*/
server.getDirList = <span class="fstat-no" title="function not covered" >function(realPath, pathname, port){</span>
	// console.log(realPath);
<span class="cstat-no" title="statement not covered" >	var dirname = '/';</span>
<span class="cstat-no" title="statement not covered" >	var html = '&lt;li style="padding-bottom:5px;"&gt;&lt;a href="../"&gt;../&lt;/a&gt;&lt;/li&gt;';</span>
<span class="cstat-no" title="statement not covered" >	realPath = path.normalize(realPath);</span>
<span class="cstat-no" title="statement not covered" >	pathname += '/';</span>
<span class="cstat-no" title="statement not covered" >	pathname = pathname.replace(/\/\//,'');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >	fs.readdirSync(realPath).forEach(<span class="fstat-no" title="function not covered" >function(name){</span></span>
<span class="cstat-no" title="statement not covered" >		if( !/.Ds_Store$/.test(name) ){</span>
			// console.log(name);
<span class="cstat-no" title="statement not covered" >			var url = pathname +'/'+name;</span>
<span class="cstat-no" title="statement not covered" >			url = url.replace(/\/\//g,'/');</span>
<span class="cstat-no" title="statement not covered" >			url = encodeURI(url);</span>
<span class="cstat-no" title="statement not covered" >			dirname = path.dirname(url);</span>
<span class="cstat-no" title="statement not covered" >			if(f.isDir('.'+url)){</span>
<span class="cstat-no" title="statement not covered" >				url = url + '/';</span>
<span class="cstat-no" title="statement not covered" >				name = name + '/';</span>
			}
&nbsp;
<span class="cstat-no" title="statement not covered" >			html += '&lt;li style="padding-bottom:0.2em;"&gt;&lt;a href="'+url+'"&gt;'+name+'&lt;/a&gt;&lt;/li&gt;';</span>
		}
	})
&nbsp;
<span class="cstat-no" title="statement not covered" >	html = '&lt;ul&gt;' +html+ '&lt;/ul&gt;';</span>
<span class="cstat-no" title="statement not covered" >	html = '&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=UTF-8&gt;&lt;meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"&gt;&lt;h1&gt;Index of '+dirname+'&lt;/h1&gt;&lt;hr/&gt;'+html+'&lt;hr/&gt; '+server.copyright(port);</span>
<span class="cstat-no" title="statement not covered" >	return html;</span>
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/vm.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/vm.js</span></h1>
    <h2>
        
        Statements: <span class="metric">23.81% <small>(10 / 42)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 27)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">23.81% <small>(10 / 42)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; vm.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @vm
 */
var path = require('path');
var fs = require('fs');
var util = require('util');
&nbsp;
var $ = require('./base.js');
var f = require('./file.js');
var jdf = require("./jdf.js");
&nbsp;
var Velocity = require('velocityjs');
&nbsp;
//exports
var vm = module.exports;
&nbsp;
/**
 * @velocityjs extend
 * @{String} str 数据内容
 * @{String} dirname 文件的dirname
 */
vm.parse = <span class="fstat-no" title="function not covered" >function(str, dirname){</span>
<span class="cstat-no" title="statement not covered" >	var dirname = typeof dirname == 'undefined' ? '' : dirname;</span>
<span class="cstat-no" title="statement not covered" >	var arr = str.match(/^(&lt;!--){0}\s*#parse\([\"|\'](.*?)[\"|\']\)(\s\n\r)*(--&gt;){0}/gmi);</span>
<span class="cstat-no" title="statement not covered" >	var res = {</span>
		vm:[],
		tpl:[],
		js:[],
		css:[]
	};
	
<span class="cstat-no" title="statement not covered" >	if (arr) {</span>
<span class="cstat-no" title="statement not covered" >		for (var i =0  ; i&lt;arr.length  ; i++ ){</span>
<span class="cstat-no" title="statement not covered" >			var temp = arr[i].match(/#parse\([\"|\'](.*?)[\"|\']\)/);</span>
<span class="cstat-no" title="statement not covered" >			if(temp){</span>
<span class="cstat-no" title="statement not covered" >				var basename = temp[1];</span>
<span class="cstat-no" title="statement not covered" >				if (basename) {</span>
<span class="cstat-no" title="statement not covered" >					var source  = dirname + basename;</span>
<span class="cstat-no" title="statement not covered" >					source = path.normalize(source);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >					var dirname1 = path.dirname(source);</span>
<span class="cstat-no" title="statement not covered" >					var dirlist1 = f.getdirlist(dirname1);</span>
					
<span class="cstat-no" title="statement not covered" >					dirlist1.forEach(<span class="fstat-no" title="function not covered" >function(item){</span></span>
<span class="cstat-no" title="statement not covered" >						var item = item.replace(jdf.currentDir, '');</span>
<span class="cstat-no" title="statement not covered" >						item = item.replace(/\\/g,'/');</span>
						
<span class="cstat-no" title="statement not covered" >						if($.is.vm(item)){</span>
<span class="cstat-no" title="statement not covered" >							res.vm.push(item);</span>
						}
&nbsp;
<span class="cstat-no" title="statement not covered" >						if($.is.tpl(item)){</span>
<span class="cstat-no" title="statement not covered" >							res.tpl.push(item);</span>
						}
&nbsp;
<span class="cstat-no" title="statement not covered" >						if($.is.css(item)||$.is.less(item)||$.is.sass(item)){</span>
<span class="cstat-no" title="statement not covered" >							res.css.push($.getCssExtname(item));</span>
						}
&nbsp;
<span class="cstat-no" title="statement not covered" >						if($.is.js(item)){</span>
<span class="cstat-no" title="statement not covered" >							res.js.push(item);</span>
						}
					});
&nbsp;
<span class="cstat-no" title="statement not covered" >					if (f.exists(source)) {</span>
<span class="cstat-no" title="statement not covered" >						var content = f.read(source);</span>
<span class="cstat-no" title="statement not covered" >						if (content) {</span>
							//替换
<span class="cstat-no" title="statement not covered" >							str = str.replace(temp[0], content);</span>
						}
					}
				}
			}
		}
	}
&nbsp;
<span class="cstat-no" title="statement not covered" >	return {</span>
		content:str,
		url:res
	};
 }
&nbsp;
/**
 * @rander data
 * @{String} vmSource vm内容
 * @{Object} dataObj vm对应的数据
 * @{String} dirname vm的dirname
 */
vm.rander = <span class="fstat-no" title="function not covered" >function(vmSource, dataObj, dirname){</span>
<span class="cstat-no" title="statement not covered" >	if (vmSource &amp;&amp; dataObj) {</span>
<span class="cstat-no" title="statement not covered" >		var vmTpm = vm.parse(vmSource, dirname);</span>
<span class="cstat-no" title="statement not covered" >		return {</span>
			content:Velocity.render(vmTpm.content, dataObj),
			url:vmTpm.url
		};
	}
}
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-jdf/node_modules/jdf/lib/widget.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-jdf">npmtest-jdf (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-jdf/node_modules/jdf/lib/widget.js</span></h1>
    <h2>
        
        Statements: <span class="metric">11.76% <small>(22 / 187)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 74)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 36)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">12.22% <small>(22 / 180)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-jdf/node_modules/jdf/lib/</a> &#187; widget.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**
 * @本地widget预览和发布至外端机器
 */
var path = require('path');
var fs = require('fs');
&nbsp;
//依赖lib
var $ = require('./base.js');
var f = require('./file.js');
var jdf = require('./jdf.js');
var Server = require('./server.js');
var Openurl = require("./openurl.js");
var FindPort = require('./findPort');
&nbsp;
var Node_watch = require('node-watch');
&nbsp;
//exports
var widget = module.exports;
&nbsp;
/**
 * @widget path check
 */
widget.pathCheck = <span class="fstat-no" title="function not covered" >function(name) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof(name) == 'undefined') <span class="cstat-no" title="statement not covered" >return true;</span></span>
&nbsp;
    /*
    if ( !/^widget\//.test(name) ) {
        console.log('jdf error widget name format error');
        return true;
    }*/
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!f.exists('widget/' + name)) {</span>
<span class="cstat-no" title="statement not covered" >        console.log('jdf error widget path is not exists');</span>
<span class="cstat-no" title="statement not covered" >        return true;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return false;</span>
}
&nbsp;
/**
 * @本地预览页面templete
 * @todo: 放在server上控制
 */
widget.templete = <span class="fstat-no" title="function not covered" >function(str, title) {</span>
<span class="cstat-no" title="statement not covered" >    if (typeof(str) == 'undefined' || !str) {</span>
<span class="cstat-no" title="statement not covered" >        var str = '';</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var css = '';</span>
<span class="cstat-no" title="statement not covered" >    jdf.config.widget.css.forEach(<span class="fstat-no" title="function not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >        css += '&lt;link rel="stylesheet" type="text/css" href="' + item + '" media="all" /&gt;\r\n';</span>
    })
&nbsp;
<span class="cstat-no" title="statement not covered" >    var js = '';</span>
<span class="cstat-no" title="statement not covered" >    jdf.config.widget.js.forEach(<span class="fstat-no" title="function not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >        js += '&lt;script type="text/javascript" src="' + item + '"&gt;&lt;/script&gt;\r\n';</span>
    })
&nbsp;
<span class="cstat-no" title="statement not covered" >    return '&lt;!DOCTYPE html&gt;' + '\r\n' +</span>
        '&lt;html&gt;' + '\r\n' +
        '&lt;head&gt;' + '\r\n' +
        '&lt;meta charset="utf-8" /&gt;' + '\r\n' +
        '&lt;title&gt;' + title + '&lt;/title&gt;' + '\r\n' + css + js +
        '&lt;/head&gt;' + '\r\n' +
        '&lt;body&gt;' + '\r\n' + str + '\r\n' +
        '&lt;/body&gt;' + '\r\n' +
        '&lt;/html&gt;';
}
&nbsp;
/**
 * @path has "widget" 
 */
widget.hasWidget = <span class="fstat-no" title="function not covered" >function(path) {</span>
<span class="cstat-no" title="statement not covered" >    var reg = new RegExp(jdf.config.widgetDir, 'gm');</span>
<span class="cstat-no" title="statement not covered" >    return reg.test(path);</span>
}
&nbsp;
/**
 * @预览所有widget
 * @example  jdf widget -all
 * @本地所有的widget中tpl,css,js拼装后html文件放在html中
 */
widget.all = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    jdf.bgMkdir();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var htmlDir = jdf.config.htmlDir;</span>
<span class="cstat-no" title="statement not covered" >    f.mkdir(htmlDir);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var target = htmlDir + '/allwidget.html';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var widgetDir = f.currentDir() + '/' + jdf.config.widgetDir;</span>
<span class="cstat-no" title="statement not covered" >    if (!f.exists(widgetDir)) {</span>
<span class="cstat-no" title="statement not covered" >        console.log('jdf error widget not exists');</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var core = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        var widgetListHtml = '';</span>
<span class="cstat-no" title="statement not covered" >        fs.readdirSync(widgetDir).forEach(<span class="fstat-no" title="function not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (f.excludeFiles(item)) {</span>
<span class="cstat-no" title="statement not covered" >                widgetListHtml += '{%widget name="' + item + '"%}\r\n';</span>
            }
        });
&nbsp;
<span class="cstat-no" title="statement not covered" >        var result = widget.templete('\r\n' + widgetListHtml, jdf.getProjectPath() + ' - all widget preview');</span>
<span class="cstat-no" title="statement not covered" >        f.write(target, result);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    core();</span>
<span class="cstat-no" title="statement not covered" >    jdf.argvInit('build', '-open', <span class="fstat-no" title="function not covered" >function() {</span></span>
        //todo watch
        //core();
<span class="cstat-no" title="statement not covered" >        Openurl.open('http://localhost:' + jdf.config.localServerPort + '/' + target);</span>
<span class="cstat-no" title="statement not covered" >        console.log('jdf open you broswer to see it');</span>
    });
}
&nbsp;
/**
 * @本地预览widget
 * @example  jdf widget -preview widget/header
 * @本地widget中tpl,css,js拼装后html文件放在当前widget中
 */
widget.preview = <span class="fstat-no" title="function not covered" >function(name) {</span>
<span class="cstat-no" title="statement not covered" >    jdf.bgMkdir();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (widget.pathCheck(name)) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var target = 'widget/' + name;</span>
<span class="cstat-no" title="statement not covered" >    var widgetname = name;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var core = <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        var result = widget.templete(null, widgetname);</span>
<span class="cstat-no" title="statement not covered" >        fs.readdirSync(target).forEach(<span class="fstat-no" title="function not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (item &amp;&amp; f.excludeFiles(item)) {</span>
<span class="cstat-no" title="statement not covered" >                var itemContent = f.read(target + '/' + item);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                if ($.is.tpl(item) || $.is.vm(item)) {</span>
<span class="cstat-no" title="statement not covered" >                    hasTpl = true;</span>
<span class="cstat-no" title="statement not covered" >                    itemContent = itemContent;</span>
<span class="cstat-no" title="statement not covered" >                    result = $.placeholder.insertBody(result, itemContent);</span>
                }
&nbsp;
<span class="cstat-no" title="statement not covered" >                if ($.is.css(item)) {</span>
<span class="cstat-no" title="statement not covered" >                    result = $.placeholder.insertHead(result, $.placeholder.cssLink(item));</span>
                }
&nbsp;
<span class="cstat-no" title="statement not covered" >                if ($.is.js(item)) {</span>
<span class="cstat-no" title="statement not covered" >                    result = $.placeholder.insertHead(result, $.placeholder.jsLink(item));</span>
                }
            }
        });
&nbsp;
<span class="cstat-no" title="statement not covered" >        var indexUrl = target + '/' + widgetname + '.html';</span>
<span class="cstat-no" title="statement not covered" >        f.write(indexUrl, result);</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    core();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var localServerPort = jdf.config.localServerPort;</span>
<span class="cstat-no" title="statement not covered" >    FindPort(localServerPort, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (!data) {</span>
<span class="cstat-no" title="statement not covered" >            console.log('Port ' + localServerPort + ' is tack up');</span>
<span class="cstat-no" title="statement not covered" >            localServerPort += 1000;</span>
<span class="cstat-no" title="statement not covered" >            jdf.config.localServerPort = localServerPort;</span>
        }
&nbsp;
<span class="cstat-no" title="statement not covered" >        Server.init(target + '/', jdf.config.localServerPort);</span>
<span class="cstat-no" title="statement not covered" >        Openurl.open('http://localhost:' + jdf.config.localServerPort + '/' + widgetname + '.html');</span>
<span class="cstat-no" title="statement not covered" >        console.log('jdf open you broswer to see it');</span>
&nbsp;
        //监听
<span class="cstat-no" title="statement not covered" >        Node_watch(target, <span class="fstat-no" title="function not covered" >function(widgetname) {</span></span>
<span class="cstat-no" title="statement not covered" >            core();</span>
        });
    });
}
&nbsp;
/**
 * @下载widget到当前项目文件夹
 * @example  jdf widget -install widget/name
 * @time 2014-3-14 14:50:29
 */
widget.install = <span class="fstat-no" title="function not covered" >function(name, force) {</span>
<span class="cstat-no" title="statement not covered" >    var force = typeof(force) == 'undefined' ? false : force;</span>
<span class="cstat-no" title="statement not covered" >    var ftp = require('./ftp.js');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    ftp.tryConnect().done(<span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >        download(name, force);</span>
    });
&nbsp;
<span class="fstat-no" title="function not covered" >    function download(name, force) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        var source = jdf.config.widgetServerDir + '/widget/' + name;</span>
<span class="cstat-no" title="statement not covered" >        var target = f.currentDir() + '/widget/' + name;</span>
<span class="cstat-no" title="statement not covered" >        var widgetname = name;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        ftp.listMain(source, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (data != 'error') {</span>
<span class="cstat-no" title="statement not covered" >                var version = '';</span>
<span class="cstat-no" title="statement not covered" >                data.forEach(<span class="fstat-no" title="function not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >                    version = item.name;</span>
                })
&nbsp;
<span class="cstat-no" title="statement not covered" >                if (!parseInt(version)) {</span>
<span class="cstat-no" title="statement not covered" >                    version = '';</span>
                }
&nbsp;
<span class="cstat-no" title="statement not covered" >                var widgetNameVersion = widgetname + '/' + version;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                if (f.exists(target) &amp;&amp; !force) {</span>
<span class="cstat-no" title="statement not covered" >                    ftp.client.end();</span>
<span class="cstat-no" title="statement not covered" >                    console.log('jdf warnning widget [' + widgetname + '] is exists in current project');</span>
                } else {
&nbsp;
<span class="cstat-no" title="statement not covered" >                    downloadMain(source + '/' + version, target, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >                        if (data == 'error') {</span>
<span class="cstat-no" title="statement not covered" >                            console.log('jdf warnning widget [' + widgetNameVersion + '] is not exists on server ');</span>
                        } else {
<span class="cstat-no" title="statement not covered" >                            console.log('jdf widget [' + widgetNameVersion + '] install done from server ');</span>
                        }
<span class="cstat-no" title="statement not covered" >                        f.readJSON(target + '/component.json', <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >                            for (name in data.dependencies) {</span>
<span class="cstat-no" title="statement not covered" >                                download(name, force);</span>
                            }
<span class="cstat-no" title="statement not covered" >                            ftp.client.end();</span>
                        });
                    });
                }
            } else {
<span class="cstat-no" title="statement not covered" >                console.log('jdf error [widget.install] ftp error!');</span>
            }
        });
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    function downloadMain(source, target, callback, isEnd) {</span>
<span class="cstat-no" title="statement not covered" >        ftp.listMain(source, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (data != 'error') {</span>
<span class="cstat-no" title="statement not covered" >                f.mkdir(target);</span>
<span class="cstat-no" title="statement not covered" >                var serverNum = 0,</span>
                    localNum = 0;
<span class="cstat-no" title="statement not covered" >                data.forEach(<span class="fstat-no" title="function not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >                    if (item.type == 'file') {</span>
<span class="cstat-no" title="statement not covered" >                        serverNum += 1;</span>
<span class="cstat-no" title="statement not covered" >                        var sourcePut = source + '/' + item.name;</span>
<span class="cstat-no" title="statement not covered" >                        var targetPut = target + '/' + item.name;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                        ftp.get(sourcePut, targetPut, <span class="fstat-no" title="function not covered" >function() {</span></span>
<span class="cstat-no" title="statement not covered" >                            localNum += 1;</span>
<span class="cstat-no" title="statement not covered" >                            if (serverNum == localNum) {</span>
<span class="cstat-no" title="statement not covered" >                                if (callback) <span class="cstat-no" title="statement not covered" >callback();</span></span>
                            }
                        });
                    }
                })
            } else {
<span class="cstat-no" title="statement not covered" >                if (callback) <span class="cstat-no" title="statement not covered" >callback(data);</span></span>
            };
        });
    }
&nbsp;
}
&nbsp;
/**
 * @发布widget至server
 * @time 2014-3-14 14:50:29
 * @example  jdf widget -publish widget/name
 * @todo 增加name验证和版本控制
 */
&nbsp;
widget.publish = <span class="fstat-no" title="function not covered" >function(name, force) {</span>
<span class="cstat-no" title="statement not covered" >    var publishDir = jdf.config.widgetServerDir + '/widget';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var force = typeof(force) == 'undefined' ? false : force;</span>
<span class="cstat-no" title="statement not covered" >    if (widget.pathCheck(name)) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    var cUrl = 'widget/' + name + '/' + 'component.json';</span>
<span class="cstat-no" title="statement not covered" >    f.readJSON(cUrl, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (data) {</span>
<span class="cstat-no" title="statement not covered" >            var cName = data.name;</span>
<span class="cstat-no" title="statement not covered" >            var cVersion = data.version;</span>
<span class="cstat-no" title="statement not covered" >            var ftp = require('./ftp.js');</span>
<span class="cstat-no" title="statement not covered" >            var target = publishDir + '/' + name + '/' + cVersion;</span>
<span class="cstat-no" title="statement not covered" >            ftp.mkdir(publishDir + '/' + name);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            ftp.list(target, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >                if (data == 'error' || force) {</span>
<span class="cstat-no" title="statement not covered" >                    ftp.mkdir(publishDir + '/' + name + '/');</span>
<span class="cstat-no" title="statement not covered" >                    ftp.mkdir(target);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                    ftp.uploadMain('widget/' + name, target, null, null, null, null, null, <span class="fstat-no" title="function not covered" >function(err) {</span></span>
<span class="cstat-no" title="statement not covered" >                        console.log('jdf widget "' + '' + name + '/' + cVersion + '" publish done!');</span>
                    });
                } else {
<span class="cstat-no" title="statement not covered" >                    console.log('jdf warnning "' + name + '/' + cVersion + '" is exists in server');</span>
                }
            });
        }
    });
}
&nbsp;
/**
 * @取得所有widget的列表
 * @time 2014-6-23 11:04:00
 */
widget.list = <span class="fstat-no" title="function not covered" >function() {</span>
<span class="cstat-no" title="statement not covered" >    var publishDir = jdf.config.widgetServerDir + '/widget';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var ftp = require('./ftp.js');</span>
<span class="cstat-no" title="statement not covered" >    ftp.list(publishDir, <span class="fstat-no" title="function not covered" >function(data) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (data) {</span>
<span class="cstat-no" title="statement not covered" >            console.log('jdf widget list: ');</span>
<span class="cstat-no" title="statement not covered" >            console.log('----------------');</span>
<span class="cstat-no" title="statement not covered" >            data.forEach(<span class="fstat-no" title="function not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >                console.log(item.name);</span>
            })
        }
<span class="cstat-no" title="statement not covered" >        ftp.client.end();</span>
    })
}
&nbsp;
/**
 * @根据关键字搜索所有widget
 * @time 2014-3-14 14:50:29
 */
widget.search = <span class="fstat-no" title="function not covered" >function(name) {</span>
&nbsp;
}
&nbsp;
&nbsp;
/**
 * @widget自动生成目录
 * @time 2014-6-23 11:04:00
 */
widget.create = <span class="fstat-no" title="function not covered" >function(name) {</span>
<span class="cstat-no" title="statement not covered" >    var widgetDir = 'widget/' + name;</span>
<span class="cstat-no" title="statement not covered" >    if (f.exists(widgetDir)) {</span>
<span class="cstat-no" title="statement not covered" >        console.log('jdf warnning : widget [' + name + '] is exists');</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    console.log('jdf tips: if you create it, input "y" else input "n" ');</span>
<span class="cstat-no" title="statement not covered" >    var Prompt = require('simple-prompt');</span>
<span class="cstat-no" title="statement not covered" >    var questions = [{</span>
        question: 'vm',
        required: true
    }, {
        question: 'js'
    }, {
        question: 'scss'
    }, {
        question: 'json'
    }];
<span class="cstat-no" title="statement not covered" >    var profile = new Prompt(questions);</span>
<span class="cstat-no" title="statement not covered" >    profile.create().then(<span class="fstat-no" title="function not covered" >function(error, answers) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (error) {</span>
<span class="cstat-no" title="statement not covered" >            return;</span>
        }
<span class="cstat-no" title="statement not covered" >        var createFilesArray = ['component.json'];</span>
<span class="cstat-no" title="statement not covered" >        if (answers.vm == 'y') <span class="cstat-no" title="statement not covered" >createFilesArray.push(name + '.vm');</span></span>
<span class="cstat-no" title="statement not covered" >        if (answers.js == 'y') <span class="cstat-no" title="statement not covered" >createFilesArray.push(name + '.js');</span></span>
<span class="cstat-no" title="statement not covered" >        if (answers.scss == 'y') <span class="cstat-no" title="statement not covered" >createFilesArray.push(name + '.scss');</span></span>
<span class="cstat-no" title="statement not covered" >        if (answers.json == 'y') <span class="cstat-no" title="statement not covered" >createFilesArray.push(name + '.json');</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        f.mkdir(widgetDir);</span>
        //jdf.config.widget.createFiles
<span class="cstat-no" title="statement not covered" >        createFilesArray.forEach(<span class="fstat-no" title="function not covered" >function(item) {</span></span>
<span class="cstat-no" title="statement not covered" >            f.write(widgetDir + '/' + item, '');</span>
        });
&nbsp;
        //给compoent.json写入默认的内容
<span class="cstat-no" title="statement not covered" >        var componentJson = '{\r\n' +</span>
            '   "name": "' + name + '",\r\n' +
            '   "version": "1.0.0",\r\n' +
            '   "dependencies": {}\r\n' +
            '}';
<span class="cstat-no" title="statement not covered" >        f.write(widgetDir + '/component.json', componentJson);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        console.log('jdf widget [' + name + '] create done');</span>
    });
}
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Thu Apr 20 2017 15:06:10 GMT+0000 (UTC)</div>
</div>
</body>
</html>


</div>
</div>
